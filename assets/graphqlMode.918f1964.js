var fr=Object.defineProperty,lr=Object.defineProperties;var dr=Object.getOwnPropertyDescriptors;var Oe=Object.getOwnPropertySymbols;var On=Object.prototype.hasOwnProperty,wn=Object.prototype.propertyIsEnumerable;var Sn=(e,n,i)=>n in e?fr(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,b=(e,n)=>{for(var i in n||(n={}))On.call(n,i)&&Sn(e,i,n[i]);if(Oe)for(var i of Oe(n))wn.call(n,i)&&Sn(e,i,n[i]);return e},R=(e,n)=>lr(e,dr(n));var Fn=(e,n)=>{var i={};for(var r in e)On.call(e,r)&&n.indexOf(r)<0&&(i[r]=e[r]);if(e!=null&&Oe)for(var r of Oe(e))n.indexOf(r)<0&&wn.call(e,r)&&(i[r]=e[r]);return i};import{o as x,n as z,L as ie,m as W,k as J,K as p,M as ze,N as Ze,O as pr,P as N,Q as ge,R as w,S as Ke,T as $,V as gr,W as vr,X as Ye,Y as mr,Z as hr,$ as fe,a0 as ee,a1 as $t,a2 as xt,a3 as ve,a4 as Er,v as Ae,a5 as oe,a6 as Tr,a7 as Ne,a8 as Z,a9 as V,aa as We,ab as Yt,ac as Nr,p as ue,ad as yr,ae as br,w as qt,s as qe,q as dn,af as pn,ag as Ir,ah as Dr,ai as An,aj as de,ak as Bt,al as Gt,am as Rn,an as Ln,ao as jn,ap as kn,aq as Vn,ar as Cn,as as _r,at as Sr,au as Or,av as wr,aw as Fr,ax as Ar,ay as Rr,az as Lr,e as X,l as ae,U as jr}from"./index.2c4bd188.js";function pe(e,n,i){return n===i?!0:x(i)?x(n)?pe(e,n.ofType,i.ofType):!1:x(n)?pe(e,n.ofType,i):z(i)?z(n)?pe(e,n.ofType,i.ofType):!1:z(n)?!1:ie(i)&&(W(n)||J(n))&&e.isSubType(i,n)}function Mn(e,n,i){return n===i?!0:ie(n)?ie(i)?e.getPossibleTypes(n).some(r=>e.isSubType(i,r)):e.isSubType(n,i):ie(i)?e.isSubType(i,n):!1}function G(e,n){switch(n.kind){case p.LIST_TYPE:{const i=G(e,n.type);return i&&new Ze(i)}case p.NON_NULL_TYPE:{const i=G(e,n.type);return i&&new ze(i)}case p.NAMED_TYPE:return e.getType(n.name.value)}}function kr(e){return{Document(n){for(const i of n.definitions)if(!pr(i)){const r=i.kind===p.SCHEMA_DEFINITION||i.kind===p.SCHEMA_EXTENSION?"schema":'"'+i.name.value+'"';e.reportError(new N(`The ${r} definition is not executable.`,i))}return!1}}}function Vr(e){const n=Object.create(null);return{OperationDefinition(i){const r=i.name;return r&&(n[r.value]?e.reportError(new N(`There can be only one operation named "${r.value}".`,[n[r.value],r])):n[r.value]=r),!1},FragmentDefinition:()=>!1}}function Cr(e){let n=0;return{Document(i){n=i.definitions.filter(r=>r.kind===p.OPERATION_DEFINITION).length},OperationDefinition(i){!i.name&&n>1&&e.reportError(new N("This anonymous operation must be the only defined operation.",i))}}}function Mr(e,n,i){var r;const t={},a=(r=n.arguments)!==null&&r!==void 0?r:[],s=ge(a,o=>o.name.value);for(const o of e.args){const u=o.name,f=o.type,d=s[u];if(!d){if(o.defaultValue!==void 0)t[u]=o.defaultValue;else if(x(f))throw new N(`Argument "${u}" of required type "${w(f)}" was not provided.`,n);continue}const g=d.value;let h=g.kind===p.NULL;if(g.kind===p.VARIABLE){const F=g.name.value;if(i==null||!Ur(i,F)){if(o.defaultValue!==void 0)t[u]=o.defaultValue;else if(x(f))throw new N(`Argument "${u}" of required type "${w(f)}" was provided the variable "$${F}" which was not provided a runtime value.`,g);continue}h=i[F]==null}if(h&&x(f))throw new N(`Argument "${u}" of non-null type "${w(f)}" must not be null.`,g);const m=Ke(g,f,i);if(m===void 0)throw new N(`Argument "${u}" has invalid value ${$(g)}.`,g);t[u]=m}return t}function Re(e,n,i){var r;const t=(r=n.directives)===null||r===void 0?void 0:r.find(a=>a.name.value===e.name);if(t)return Mr(e,t,i)}function Ur(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function Pr(e,n,i,r,t){const a=new Map;return en(e,n,i,r,t,a,new Set),a}function en(e,n,i,r,t,a,s){for(const o of t.selections)switch(o.kind){case p.FIELD:{if(!Je(i,o))continue;const u=$r(o),f=a.get(u);f!==void 0?f.push(o):a.set(u,[o]);break}case p.INLINE_FRAGMENT:{if(!Je(i,o)||!Un(e,o,r))continue;en(e,n,i,r,o.selectionSet,a,s);break}case p.FRAGMENT_SPREAD:{const u=o.name.value;if(s.has(u)||!Je(i,o))continue;s.add(u);const f=n[u];if(!f||!Un(e,f,r))continue;en(e,n,i,r,f.selectionSet,a,s);break}}}function Je(e,n){const i=Re(gr,n,e);if((i==null?void 0:i.if)===!0)return!1;const r=Re(vr,n,e);return(r==null?void 0:r.if)!==!1}function Un(e,n,i){const r=n.typeCondition;if(!r)return!0;const t=G(e,r);return t===i?!0:ie(t)?e.isSubType(t,i):!1}function $r(e){return e.alias?e.alias.value:e.name.value}function xr(e){return{OperationDefinition(n){if(n.operation==="subscription"){const i=e.getSchema(),r=i.getSubscriptionType();if(r){const t=n.name?n.name.value:null,a=Object.create(null),s=e.getDocument(),o=Object.create(null);for(const f of s.definitions)f.kind===p.FRAGMENT_DEFINITION&&(o[f.name.value]=f);const u=Pr(i,o,a,r,n.selectionSet);if(u.size>1){const g=[...u.values()].slice(1).flat();e.reportError(new N(t!=null?`Subscription "${t}" must select only one top level field.`:"Anonymous Subscription must select only one top level field.",g))}for(const f of u.values())f[0].name.value.startsWith("__")&&e.reportError(new N(t!=null?`Subscription "${t}" must not select an introspection top level field.`:"Anonymous Subscription must not select an introspection top level field.",f))}}}}}function Xt(e){const n=e.getSchema(),i=n?n.getTypeMap():Object.create(null),r=Object.create(null);for(const a of e.getDocument().definitions)Ye(a)&&(r[a.name.value]=!0);const t=[...Object.keys(i),...Object.keys(r)];return{NamedType(a,s,o,u,f){const d=a.name.value;if(!i[d]&&!r[d]){var g;const h=(g=f[2])!==null&&g!==void 0?g:o,m=h!=null&&Yr(h);if(m&&Pn.includes(d))return;const F=fe(d,m?Pn.concat(t):t);e.reportError(new N(`Unknown type "${d}".`+ee(F),a))}}}}const Pn=[...$t,...xt].map(e=>e.name);function Yr(e){return"kind"in e&&(mr(e)||hr(e))}function qr(e){return{InlineFragment(n){const i=n.typeCondition;if(i){const r=G(e.getSchema(),i);if(r&&!ve(r)){const t=$(i);e.reportError(new N(`Fragment cannot condition on non composite type "${t}".`,i))}}},FragmentDefinition(n){const i=G(e.getSchema(),n.typeCondition);if(i&&!ve(i)){const r=$(n.typeCondition);e.reportError(new N(`Fragment "${n.name.value}" cannot condition on non composite type "${r}".`,n.typeCondition))}}}}function Br(e){return{VariableDefinition(n){const i=G(e.getSchema(),n.type);if(i!==void 0&&!Er(i)){const r=n.variable.name.value,t=$(n.type);e.reportError(new N(`Variable "$${r}" cannot be non-input type "${t}".`,n.type))}}}}function Gr(e){return{Field(n){const i=e.getType(),r=n.selectionSet;if(i){if(Ae(oe(i))){if(r){const t=n.name.value,a=w(i);e.reportError(new N(`Field "${t}" must not have a selection since type "${a}" has no subfields.`,r))}}else if(!r){const t=n.name.value,a=w(i);e.reportError(new N(`Field "${t}" of type "${a}" must have a selection of subfields. Did you mean "${t} { ... }"?`,n))}}}}}function Xr(e){return{Field(n){const i=e.getParentType();if(i&&!e.getFieldDef()){const t=e.getSchema(),a=n.name.value;let s=ee("to use an inline fragment on",Qr(t,i,a));s===""&&(s=ee(Wr(i,a))),e.reportError(new N(`Cannot query field "${a}" on type "${i.name}".`+s,n))}}}}function Qr(e,n,i){if(!ie(n))return[];const r=new Set,t=Object.create(null);for(const s of e.getPossibleTypes(n))if(!!s.getFields()[i]){r.add(s),t[s.name]=1;for(const o of s.getInterfaces()){var a;!o.getFields()[i]||(r.add(o),t[o.name]=((a=t[o.name])!==null&&a!==void 0?a:0)+1)}}return[...r].sort((s,o)=>{const u=t[o.name]-t[s.name];return u!==0?u:W(s)&&e.isSubType(s,o)?-1:W(o)&&e.isSubType(o,s)?1:Tr(s.name,o.name)}).map(s=>s.name)}function Wr(e,n){if(J(e)||W(e)){const i=Object.keys(e.getFields());return fe(n,i)}return[]}function Jr(e){const n=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(i){const r=i.name.value;return n[r]?e.reportError(new N(`There can be only one fragment named "${r}".`,[n[r],i.name])):n[r]=i.name,!1}}}function Hr(e){return{FragmentSpread(n){const i=n.name.value;e.getFragment(i)||e.reportError(new N(`Unknown fragment "${i}".`,n.name))}}}function zr(e){const n=[],i=[];return{OperationDefinition(r){return n.push(r),!1},FragmentDefinition(r){return i.push(r),!1},Document:{leave(){const r=Object.create(null);for(const t of n)for(const a of e.getRecursivelyReferencedFragments(t))r[a.name.value]=!0;for(const t of i){const a=t.name.value;r[a]!==!0&&e.reportError(new N(`Fragment "${a}" is never used.`,t))}}}}}function Zr(e){return{InlineFragment(n){const i=e.getType(),r=e.getParentType();if(ve(i)&&ve(r)&&!Mn(e.getSchema(),i,r)){const t=w(r),a=w(i);e.reportError(new N(`Fragment cannot be spread here as objects of type "${t}" can never be of type "${a}".`,n))}},FragmentSpread(n){const i=n.name.value,r=Kr(e,i),t=e.getParentType();if(r&&t&&!Mn(e.getSchema(),r,t)){const a=w(t),s=w(r);e.reportError(new N(`Fragment "${i}" cannot be spread here as objects of type "${a}" can never be of type "${s}".`,n))}}}}function Kr(e,n){const i=e.getFragment(n);if(i){const r=G(e.getSchema(),i.typeCondition);if(ve(r))return r}}function ei(e){const n=Object.create(null),i=[],r=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(a){return t(a),!1}};function t(a){if(n[a.name.value])return;const s=a.name.value;n[s]=!0;const o=e.getFragmentSpreads(a.selectionSet);if(o.length!==0){r[s]=i.length;for(const u of o){const f=u.name.value,d=r[f];if(i.push(u),d===void 0){const g=e.getFragment(f);g&&t(g)}else{const g=i.slice(d),h=g.slice(0,-1).map(m=>'"'+m.name.value+'"').join(", ");e.reportError(new N(`Cannot spread fragment "${f}" within itself`+(h!==""?` via ${h}.`:"."),g))}i.pop()}r[s]=void 0}}}function gn(e,n){const i=new Map;for(const r of e){const t=n(r),a=i.get(t);a===void 0?i.set(t,[r]):a.push(r)}return i}function ni(e){return{OperationDefinition(n){var i;const r=(i=n.variableDefinitions)!==null&&i!==void 0?i:[],t=gn(r,a=>a.variable.name.value);for(const[a,s]of t)s.length>1&&e.reportError(new N(`There can be only one variable named "$${a}".`,s.map(o=>o.variable.name)))}}}function ti(e){let n=Object.create(null);return{OperationDefinition:{enter(){n=Object.create(null)},leave(i){const r=e.getRecursiveVariableUsages(i);for(const{node:t}of r){const a=t.name.value;n[a]!==!0&&e.reportError(new N(i.name?`Variable "$${a}" is not defined by operation "${i.name.value}".`:`Variable "$${a}" is not defined.`,[t,i]))}}},VariableDefinition(i){n[i.variable.name.value]=!0}}}function ri(e){let n=[];return{OperationDefinition:{enter(){n=[]},leave(i){const r=Object.create(null),t=e.getRecursiveVariableUsages(i);for(const{node:a}of t)r[a.name.value]=!0;for(const a of n){const s=a.variable.name.value;r[s]!==!0&&e.reportError(new N(i.name?`Variable "$${s}" is never used in operation "${i.name.value}".`:`Variable "$${s}" is never used.`,a))}}},VariableDefinition(i){n.push(i)}}}function Qt(e){const n=Object.create(null),i=e.getSchema(),r=i?i.getDirectives():Ne;for(const a of r)n[a.name]=a.locations;const t=e.getDocument().definitions;for(const a of t)a.kind===p.DIRECTIVE_DEFINITION&&(n[a.name.value]=a.locations.map(s=>s.value));return{Directive(a,s,o,u,f){const d=a.name.value,g=n[d];if(!g){e.reportError(new N(`Unknown directive "@${d}".`,a));return}const h=ii(f);h&&!g.includes(h)&&e.reportError(new N(`Directive "@${d}" may not be used on ${h}.`,a))}}}function ii(e){const n=e[e.length-1];switch("kind"in n||Z(!1),n.kind){case p.OPERATION_DEFINITION:return ai(n.operation);case p.FIELD:return V.FIELD;case p.FRAGMENT_SPREAD:return V.FRAGMENT_SPREAD;case p.INLINE_FRAGMENT:return V.INLINE_FRAGMENT;case p.FRAGMENT_DEFINITION:return V.FRAGMENT_DEFINITION;case p.VARIABLE_DEFINITION:return V.VARIABLE_DEFINITION;case p.SCHEMA_DEFINITION:case p.SCHEMA_EXTENSION:return V.SCHEMA;case p.SCALAR_TYPE_DEFINITION:case p.SCALAR_TYPE_EXTENSION:return V.SCALAR;case p.OBJECT_TYPE_DEFINITION:case p.OBJECT_TYPE_EXTENSION:return V.OBJECT;case p.FIELD_DEFINITION:return V.FIELD_DEFINITION;case p.INTERFACE_TYPE_DEFINITION:case p.INTERFACE_TYPE_EXTENSION:return V.INTERFACE;case p.UNION_TYPE_DEFINITION:case p.UNION_TYPE_EXTENSION:return V.UNION;case p.ENUM_TYPE_DEFINITION:case p.ENUM_TYPE_EXTENSION:return V.ENUM;case p.ENUM_VALUE_DEFINITION:return V.ENUM_VALUE;case p.INPUT_OBJECT_TYPE_DEFINITION:case p.INPUT_OBJECT_TYPE_EXTENSION:return V.INPUT_OBJECT;case p.INPUT_VALUE_DEFINITION:{const i=e[e.length-3];return"kind"in i||Z(!1),i.kind===p.INPUT_OBJECT_TYPE_DEFINITION?V.INPUT_FIELD_DEFINITION:V.ARGUMENT_DEFINITION}default:Z(!1,"Unexpected kind: "+w(n.kind))}}function ai(e){switch(e){case We.QUERY:return V.QUERY;case We.MUTATION:return V.MUTATION;case We.SUBSCRIPTION:return V.SUBSCRIPTION}}function Wt(e){const n=Object.create(null),i=e.getSchema(),r=i?i.getDirectives():Ne;for(const o of r)n[o.name]=!o.isRepeatable;const t=e.getDocument().definitions;for(const o of t)o.kind===p.DIRECTIVE_DEFINITION&&(n[o.name.value]=!o.repeatable);const a=Object.create(null),s=Object.create(null);return{enter(o){if(!("directives"in o)||!o.directives)return;let u;if(o.kind===p.SCHEMA_DEFINITION||o.kind===p.SCHEMA_EXTENSION)u=a;else if(Ye(o)||Yt(o)){const f=o.name.value;u=s[f],u===void 0&&(s[f]=u=Object.create(null))}else u=Object.create(null);for(const f of o.directives){const d=f.name.value;n[d]&&(u[d]?e.reportError(new N(`The directive "@${d}" can only be used once at this location.`,[u[d],f])):u[d]=f)}}}}function si(e){return R(b({},Jt(e)),{Argument(n){const i=e.getArgument(),r=e.getFieldDef(),t=e.getParentType();if(!i&&r&&t){const a=n.name.value,s=r.args.map(u=>u.name),o=fe(a,s);e.reportError(new N(`Unknown argument "${a}" on field "${t.name}.${r.name}".`+ee(o),n))}}})}function Jt(e){const n=Object.create(null),i=e.getSchema(),r=i?i.getDirectives():Ne;for(const s of r)n[s.name]=s.args.map(o=>o.name);const t=e.getDocument().definitions;for(const s of t)if(s.kind===p.DIRECTIVE_DEFINITION){var a;const o=(a=s.arguments)!==null&&a!==void 0?a:[];n[s.name.value]=o.map(u=>u.name.value)}return{Directive(s){const o=s.name.value,u=n[o];if(s.arguments&&u)for(const f of s.arguments){const d=f.name.value;if(!u.includes(d)){const g=fe(d,u);e.reportError(new N(`Unknown argument "${d}" on directive "@${o}".`+ee(g),f))}}return!1}}}function Ht(e){return{Field:n,Directive:n};function n(i){var r;const t=(r=i.arguments)!==null&&r!==void 0?r:[],a=gn(t,s=>s.name.value);for(const[s,o]of a)o.length>1&&e.reportError(new N(`There can be only one argument named "${s}".`,o.map(u=>u.name)))}}function oi(e){return{ListValue(n){const i=Nr(e.getParentInputType());if(!z(i))return K(e,n),!1},ObjectValue(n){const i=oe(e.getInputType());if(!ue(i))return K(e,n),!1;const r=ge(n.fields,t=>t.name.value);for(const t of Object.values(i.getFields()))if(!r[t.name]&&yr(t)){const s=w(t.type);e.reportError(new N(`Field "${i.name}.${t.name}" of required type "${s}" was not provided.`,n))}},ObjectField(n){const i=oe(e.getParentInputType());if(!e.getInputType()&&ue(i)){const t=fe(n.name.value,Object.keys(i.getFields()));e.reportError(new N(`Field "${n.name.value}" is not defined by type "${i.name}".`+ee(t),n))}},NullValue(n){const i=e.getInputType();x(i)&&e.reportError(new N(`Expected value of type "${w(i)}", found ${$(n)}.`,n))},EnumValue:n=>K(e,n),IntValue:n=>K(e,n),FloatValue:n=>K(e,n),StringValue:n=>K(e,n),BooleanValue:n=>K(e,n)}}function K(e,n){const i=e.getInputType();if(!i)return;const r=oe(i);if(!Ae(r)){const t=w(i);e.reportError(new N(`Expected value of type "${t}", found ${$(n)}.`,n));return}try{if(r.parseLiteral(n,void 0)===void 0){const a=w(i);e.reportError(new N(`Expected value of type "${a}", found ${$(n)}.`,n))}}catch(t){const a=w(i);t instanceof N?e.reportError(t):e.reportError(new N(`Expected value of type "${a}", found ${$(n)}; `+t.message,n,void 0,void 0,void 0,t))}}function ui(e){return R(b({},zt(e)),{Field:{leave(n){var i;const r=e.getFieldDef();if(!r)return!1;const t=new Set((i=n.arguments)===null||i===void 0?void 0:i.map(a=>a.name.value));for(const a of r.args)if(!t.has(a.name)&&qt(a)){const s=w(a.type);e.reportError(new N(`Field "${r.name}" argument "${a.name}" of type "${s}" is required, but it was not provided.`,n))}}}})}function zt(e){var n;const i=Object.create(null),r=e.getSchema(),t=(n=r==null?void 0:r.getDirectives())!==null&&n!==void 0?n:Ne;for(const o of t)i[o.name]=ge(o.args.filter(qt),u=>u.name);const a=e.getDocument().definitions;for(const o of a)if(o.kind===p.DIRECTIVE_DEFINITION){var s;const u=(s=o.arguments)!==null&&s!==void 0?s:[];i[o.name.value]=ge(u.filter(ci),f=>f.name.value)}return{Directive:{leave(o){const u=o.name.value,f=i[u];if(f){var d;const g=(d=o.arguments)!==null&&d!==void 0?d:[],h=new Set(g.map(m=>m.name.value));for(const[m,F]of Object.entries(f))if(!h.has(m)){const M=br(F.type)?w(F.type):$(F.type);e.reportError(new N(`Directive "@${u}" argument "${m}" of type "${M}" is required, but it was not provided.`,o))}}}}}}function ci(e){return e.type.kind===p.NON_NULL_TYPE&&e.defaultValue==null}function fi(e){let n=Object.create(null);return{OperationDefinition:{enter(){n=Object.create(null)},leave(i){const r=e.getRecursiveVariableUsages(i);for(const{node:t,type:a,defaultValue:s}of r){const o=t.name.value,u=n[o];if(u&&a){const f=e.getSchema(),d=G(f,u.type);if(d&&!li(f,d,u.defaultValue,a,s)){const g=w(d),h=w(a);e.reportError(new N(`Variable "$${o}" of type "${g}" used in position expecting type "${h}".`,[u,t]))}}}}},VariableDefinition(i){n[i.variable.name.value]=i}}}function li(e,n,i,r,t){if(x(r)&&!x(n)){if(!(i!=null&&i.kind!==p.NULL)&&!(t!==void 0))return!1;const o=r.ofType;return pe(e,n,o)}return pe(e,n,r)}function Zt(e){return Array.isArray(e)?e.map(([n,i])=>`subfields "${n}" conflict because `+Zt(i)).join(" and "):e}function di(e){const n=new Ti,i=new Map;return{SelectionSet(r){const t=pi(e,i,n,e.getParentType(),r);for(const[[a,s],o,u]of t){const f=Zt(s);e.reportError(new N(`Fields "${a}" conflict because ${f}. Use different aliases on the fields to fetch both if this was intentional.`,o.concat(u)))}}}}function pi(e,n,i,r,t){const a=[],[s,o]=ke(e,n,r,t);if(vi(e,a,n,i,s),o.length!==0)for(let u=0;u<o.length;u++){Le(e,a,n,i,!1,s,o[u]);for(let f=u+1;f<o.length;f++)je(e,a,n,i,!1,o[u],o[f])}return a}function Le(e,n,i,r,t,a,s){const o=e.getFragment(s);if(!o)return;const[u,f]=tn(e,i,o);if(a!==u){vn(e,n,i,r,t,a,u);for(const d of f)Le(e,n,i,r,t,a,d)}}function je(e,n,i,r,t,a,s){if(a===s||r.has(a,s,t))return;r.add(a,s,t);const o=e.getFragment(a),u=e.getFragment(s);if(!o||!u)return;const[f,d]=tn(e,i,o),[g,h]=tn(e,i,u);vn(e,n,i,r,t,f,g);for(const m of h)je(e,n,i,r,t,a,m);for(const m of d)je(e,n,i,r,t,m,s)}function gi(e,n,i,r,t,a,s,o){const u=[],[f,d]=ke(e,n,t,a),[g,h]=ke(e,n,s,o);vn(e,u,n,i,r,f,g);for(const m of h)Le(e,u,n,i,r,f,m);for(const m of d)Le(e,u,n,i,r,g,m);for(const m of d)for(const F of h)je(e,u,n,i,r,m,F);return u}function vi(e,n,i,r,t){for(const[a,s]of Object.entries(t))if(s.length>1)for(let o=0;o<s.length;o++)for(let u=o+1;u<s.length;u++){const f=Kt(e,i,r,!1,a,s[o],s[u]);f&&n.push(f)}}function vn(e,n,i,r,t,a,s){for(const[o,u]of Object.entries(a)){const f=s[o];if(f)for(const d of u)for(const g of f){const h=Kt(e,i,r,t,o,d,g);h&&n.push(h)}}}function Kt(e,n,i,r,t,a,s){const[o,u,f]=a,[d,g,h]=s,m=r||o!==d&&J(o)&&J(d);if(!m){var F,M;const te=u.name.value,Ie=g.name.value;if(te!==Ie)return[[t,`"${te}" and "${Ie}" are different fields`],[u],[g]];const Be=(F=u.arguments)!==null&&F!==void 0?F:[],Ge=(M=g.arguments)!==null&&M!==void 0?M:[];if(!mi(Be,Ge))return[[t,"they have differing arguments"],[u],[g]]}const P=f==null?void 0:f.type,ne=h==null?void 0:h.type;if(P&&ne&&nn(P,ne))return[[t,`they return conflicting types "${w(P)}" and "${w(ne)}"`],[u],[g]];const ye=u.selectionSet,be=g.selectionSet;if(ye&&be){const te=gi(e,n,i,m,oe(P),ye,oe(ne),be);return Ei(te,t,u,g)}}function mi(e,n){return e.length!==n.length?!1:e.every(i=>{const r=n.find(t=>t.name.value===i.name.value);return r?hi(i.value,r.value):!1})}function hi(e,n){return $(e)===$(n)}function nn(e,n){return z(e)?z(n)?nn(e.ofType,n.ofType):!0:z(n)?!0:x(e)?x(n)?nn(e.ofType,n.ofType):!0:x(n)?!0:Ae(e)||Ae(n)?e!==n:!1}function ke(e,n,i,r){const t=n.get(r);if(t)return t;const a=Object.create(null),s=Object.create(null);er(e,i,r,a,s);const o=[a,Object.keys(s)];return n.set(r,o),o}function tn(e,n,i){const r=n.get(i.selectionSet);if(r)return r;const t=G(e.getSchema(),i.typeCondition);return ke(e,n,t,i.selectionSet)}function er(e,n,i,r,t){for(const a of i.selections)switch(a.kind){case p.FIELD:{const s=a.name.value;let o;(J(n)||W(n))&&(o=n.getFields()[s]);const u=a.alias?a.alias.value:s;r[u]||(r[u]=[]),r[u].push([n,a,o]);break}case p.FRAGMENT_SPREAD:t[a.name.value]=!0;break;case p.INLINE_FRAGMENT:{const s=a.typeCondition,o=s?G(e.getSchema(),s):n;er(e,o,a.selectionSet,r,t);break}}}function Ei(e,n,i,r){if(e.length>0)return[[n,e.map(([t])=>t)],[i,...e.map(([,t])=>t).flat()],[r,...e.map(([,,t])=>t).flat()]]}class Ti{constructor(){this._data=new Map}has(n,i,r){var t;const[a,s]=n<i?[n,i]:[i,n],o=(t=this._data.get(a))===null||t===void 0?void 0:t.get(s);return o===void 0?!1:r?!0:r===o}add(n,i,r){const[t,a]=n<i?[n,i]:[i,n],s=this._data.get(t);s===void 0?this._data.set(t,new Map([[a,r]])):s.set(a,r)}}function nr(e){const n=[];let i=Object.create(null);return{ObjectValue:{enter(){n.push(i),i=Object.create(null)},leave(){const r=n.pop();r||Z(!1),i=r}},ObjectField(r){const t=r.name.value;i[t]?e.reportError(new N(`There can be only one input field named "${t}".`,[i[t],r.name])):i[t]=r.name}}}function Ni(e){var n,i,r;const t=e.getSchema(),a=(n=(i=(r=t==null?void 0:t.astNode)!==null&&r!==void 0?r:t==null?void 0:t.getQueryType())!==null&&i!==void 0?i:t==null?void 0:t.getMutationType())!==null&&n!==void 0?n:t==null?void 0:t.getSubscriptionType();let s=0;return{SchemaDefinition(o){if(a){e.reportError(new N("Cannot define a new schema within a schema extension.",o));return}s>0&&e.reportError(new N("Must provide only one schema definition.",o)),++s}}}function yi(e){const n=e.getSchema(),i=Object.create(null),r=n?{query:n.getQueryType(),mutation:n.getMutationType(),subscription:n.getSubscriptionType()}:{};return{SchemaDefinition:t,SchemaExtension:t};function t(a){var s;const o=(s=a.operationTypes)!==null&&s!==void 0?s:[];for(const u of o){const f=u.operation,d=i[f];r[f]?e.reportError(new N(`Type for ${f} already defined in the schema. It cannot be redefined.`,u)):d?e.reportError(new N(`There can be only one ${f} type in schema.`,[d,u])):i[f]=u}return!1}}function bi(e){const n=Object.create(null),i=e.getSchema();return{ScalarTypeDefinition:r,ObjectTypeDefinition:r,InterfaceTypeDefinition:r,UnionTypeDefinition:r,EnumTypeDefinition:r,InputObjectTypeDefinition:r};function r(t){const a=t.name.value;if(i!=null&&i.getType(a)){e.reportError(new N(`Type "${a}" already exists in the schema. It cannot also be defined in this type definition.`,t.name));return}return n[a]?e.reportError(new N(`There can be only one type named "${a}".`,[n[a],t.name])):n[a]=t.name,!1}}function Ii(e){const n=e.getSchema(),i=n?n.getTypeMap():Object.create(null),r=Object.create(null);return{EnumTypeDefinition:t,EnumTypeExtension:t};function t(a){var s;const o=a.name.value;r[o]||(r[o]=Object.create(null));const u=(s=a.values)!==null&&s!==void 0?s:[],f=r[o];for(const d of u){const g=d.name.value,h=i[o];qe(h)&&h.getValue(g)?e.reportError(new N(`Enum value "${o}.${g}" already exists in the schema. It cannot also be defined in this type extension.`,d.name)):f[g]?e.reportError(new N(`Enum value "${o}.${g}" can only be defined once.`,[f[g],d.name])):f[g]=d.name}return!1}}function Di(e){const n=e.getSchema(),i=n?n.getTypeMap():Object.create(null),r=Object.create(null);return{InputObjectTypeDefinition:t,InputObjectTypeExtension:t,InterfaceTypeDefinition:t,InterfaceTypeExtension:t,ObjectTypeDefinition:t,ObjectTypeExtension:t};function t(a){var s;const o=a.name.value;r[o]||(r[o]=Object.create(null));const u=(s=a.fields)!==null&&s!==void 0?s:[],f=r[o];for(const d of u){const g=d.name.value;_i(i[o],g)?e.reportError(new N(`Field "${o}.${g}" already exists in the schema. It cannot also be defined in this type extension.`,d.name)):f[g]?e.reportError(new N(`Field "${o}.${g}" can only be defined once.`,[f[g],d.name])):f[g]=d.name}return!1}}function _i(e,n){return J(e)||W(e)||ue(e)?e.getFields()[n]!=null:!1}function Si(e){return{DirectiveDefinition(r){var t;const a=(t=r.arguments)!==null&&t!==void 0?t:[];return i(`@${r.name.value}`,a)},InterfaceTypeDefinition:n,InterfaceTypeExtension:n,ObjectTypeDefinition:n,ObjectTypeExtension:n};function n(r){var t;const a=r.name.value,s=(t=r.fields)!==null&&t!==void 0?t:[];for(const u of s){var o;const f=u.name.value,d=(o=u.arguments)!==null&&o!==void 0?o:[];i(`${a}.${f}`,d)}return!1}function i(r,t){const a=gn(t,s=>s.name.value);for(const[s,o]of a)o.length>1&&e.reportError(new N(`Argument "${r}(${s}:)" can only be defined once.`,o.map(u=>u.name)));return!1}}function Oi(e){const n=Object.create(null),i=e.getSchema();return{DirectiveDefinition(r){const t=r.name.value;if(i!=null&&i.getDirective(t)){e.reportError(new N(`Directive "@${t}" already exists in the schema. It cannot be redefined.`,r.name));return}return n[t]?e.reportError(new N(`There can be only one directive named "@${t}".`,[n[t],r.name])):n[t]=r.name,!1}}}function wi(e){const n=e.getSchema(),i=Object.create(null);for(const t of e.getDocument().definitions)Ye(t)&&(i[t.name.value]=t);return{ScalarTypeExtension:r,ObjectTypeExtension:r,InterfaceTypeExtension:r,UnionTypeExtension:r,EnumTypeExtension:r,InputObjectTypeExtension:r};function r(t){const a=t.name.value,s=i[a],o=n==null?void 0:n.getType(a);let u;if(s?u=Fi[s.kind]:o&&(u=Ai(o)),u){if(u!==t.kind){const f=Ri(t.kind);e.reportError(new N(`Cannot extend non-${f} type "${a}".`,s?[s,t]:t))}}else{const f=Object.keys(b(b({},i),n==null?void 0:n.getTypeMap())),d=fe(a,f);e.reportError(new N(`Cannot extend type "${a}" because it is not defined.`+ee(d),t.name))}}}const Fi={[p.SCALAR_TYPE_DEFINITION]:p.SCALAR_TYPE_EXTENSION,[p.OBJECT_TYPE_DEFINITION]:p.OBJECT_TYPE_EXTENSION,[p.INTERFACE_TYPE_DEFINITION]:p.INTERFACE_TYPE_EXTENSION,[p.UNION_TYPE_DEFINITION]:p.UNION_TYPE_EXTENSION,[p.ENUM_TYPE_DEFINITION]:p.ENUM_TYPE_EXTENSION,[p.INPUT_OBJECT_TYPE_DEFINITION]:p.INPUT_OBJECT_TYPE_EXTENSION};function Ai(e){if(dn(e))return p.SCALAR_TYPE_EXTENSION;if(J(e))return p.OBJECT_TYPE_EXTENSION;if(W(e))return p.INTERFACE_TYPE_EXTENSION;if(pn(e))return p.UNION_TYPE_EXTENSION;if(qe(e))return p.ENUM_TYPE_EXTENSION;if(ue(e))return p.INPUT_OBJECT_TYPE_EXTENSION;Z(!1,"Unexpected type: "+w(e))}function Ri(e){switch(e){case p.SCALAR_TYPE_EXTENSION:return"scalar";case p.OBJECT_TYPE_EXTENSION:return"object";case p.INTERFACE_TYPE_EXTENSION:return"interface";case p.UNION_TYPE_EXTENSION:return"union";case p.ENUM_TYPE_EXTENSION:return"enum";case p.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:Z(!1,"Unexpected kind: "+w(e))}}Object.freeze([kr,Vr,Cr,xr,Xt,qr,Br,Gr,Xr,Jr,Hr,zr,Zr,ei,ni,ti,ri,Qt,Wt,si,Ht,oi,ui,fi,di,nr]);const Li=Object.freeze([Ni,yi,bi,Ii,Di,Si,Oi,Xt,Qt,Wt,wi,Jt,Ht,nr,zt]);class ji{constructor(n,i){this._ast=n,this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=i}get[Symbol.toStringTag](){return"ASTValidationContext"}reportError(n){this._onError(n)}getDocument(){return this._ast}getFragment(n){let i;if(this._fragments)i=this._fragments;else{i=Object.create(null);for(const r of this.getDocument().definitions)r.kind===p.FRAGMENT_DEFINITION&&(i[r.name.value]=r);this._fragments=i}return i[n]}getFragmentSpreads(n){let i=this._fragmentSpreads.get(n);if(!i){i=[];const r=[n];let t;for(;t=r.pop();)for(const a of t.selections)a.kind===p.FRAGMENT_SPREAD?i.push(a):a.selectionSet&&r.push(a.selectionSet);this._fragmentSpreads.set(n,i)}return i}getRecursivelyReferencedFragments(n){let i=this._recursivelyReferencedFragments.get(n);if(!i){i=[];const r=Object.create(null),t=[n.selectionSet];let a;for(;a=t.pop();)for(const s of this.getFragmentSpreads(a)){const o=s.name.value;if(r[o]!==!0){r[o]=!0;const u=this.getFragment(o);u&&(i.push(u),t.push(u.selectionSet))}}this._recursivelyReferencedFragments.set(n,i)}return i}}class ki extends ji{constructor(n,i,r){super(n,r),this._schema=i}get[Symbol.toStringTag](){return"SDLValidationContext"}getSchema(){return this._schema}}function Vi(e,n,i=Li){const r=[],t=new ki(e,n,s=>{r.push(s)}),a=i.map(s=>s(t));return Ir(e,Dr(a)),r}function Ci(e){const n=Vi(e);if(n.length!==0)throw new Error(n.map(i=>i.message).join(`

`))}function Mi(e,n,i){var r,t,a,s;const o=[],u=Object.create(null),f=[];let d;const g=[];for(const l of n.definitions)if(l.kind===p.SCHEMA_DEFINITION)d=l;else if(l.kind===p.SCHEMA_EXTENSION)g.push(l);else if(Ye(l))o.push(l);else if(Yt(l)){const E=l.name.value,v=u[E];u[E]=v?v.concat([l]):[l]}else l.kind===p.DIRECTIVE_DEFINITION&&f.push(l);if(Object.keys(u).length===0&&o.length===0&&f.length===0&&g.length===0&&d==null)return e;const h=Object.create(null);for(const l of e.types)h[l.name]=ye(l);for(const l of o){var m;const E=l.name.value;h[E]=(m=$n[E])!==null&&m!==void 0?m:cr(l)}const F=b(b({query:e.query&&P(e.query),mutation:e.mutation&&P(e.mutation),subscription:e.subscription&&P(e.subscription)},d&&yn([d])),yn(g));return R(b({description:(r=d)===null||r===void 0||(t=r.description)===null||t===void 0?void 0:t.value},F),{types:Object.values(h),directives:[...e.directives.map(ne),...f.map(ur)],extensions:Object.create(null),astNode:(a=d)!==null&&a!==void 0?a:e.astNode,extensionASTNodes:e.extensionASTNodes.concat(g),assumeValid:(s=i==null?void 0:i.assumeValid)!==null&&s!==void 0?s:!1});function M(l){return z(l)?new Ze(M(l.ofType)):x(l)?new ze(M(l.ofType)):P(l)}function P(l){return h[l.name]}function ne(l){const E=l.toConfig();return new An(R(b({},E),{args:de(E.args,Nn)}))}function ye(l){if(Bt(l)||Gt(l))return l;if(dn(l))return Ie(l);if(J(l))return Be(l);if(W(l))return Ge(l);if(pn(l))return or(l);if(qe(l))return te(l);if(ue(l))return be(l);Z(!1,"Unexpected type: "+w(l))}function be(l){var E;const v=l.toConfig(),T=(E=u[v.name])!==null&&E!==void 0?E:[];return new Cn(R(b({},v),{fields:()=>b(b({},de(v.fields,O=>R(b({},O),{type:M(O.type)}))),In(T)),extensionASTNodes:v.extensionASTNodes.concat(T)}))}function te(l){var E;const v=l.toConfig(),T=(E=u[l.name])!==null&&E!==void 0?E:[];return new Vn(R(b({},v),{values:b(b({},v.values),Dn(T)),extensionASTNodes:v.extensionASTNodes.concat(T)}))}function Ie(l){var E;const v=l.toConfig(),T=(E=u[v.name])!==null&&E!==void 0?E:[];let O=v.specifiedByURL;for(const A of T){var k;O=(k=xn(A))!==null&&k!==void 0?k:O}return new Rn(R(b({},v),{specifiedByURL:O,extensionASTNodes:v.extensionASTNodes.concat(T)}))}function Be(l){var E;const v=l.toConfig(),T=(E=u[v.name])!==null&&E!==void 0?E:[];return new Ln(R(b({},v),{interfaces:()=>[...l.getInterfaces().map(P),...Se(T)],fields:()=>b(b({},de(v.fields,Tn)),_e(T)),extensionASTNodes:v.extensionASTNodes.concat(T)}))}function Ge(l){var E;const v=l.toConfig(),T=(E=u[v.name])!==null&&E!==void 0?E:[];return new jn(R(b({},v),{interfaces:()=>[...l.getInterfaces().map(P),...Se(T)],fields:()=>b(b({},de(v.fields,Tn)),_e(T)),extensionASTNodes:v.extensionASTNodes.concat(T)}))}function or(l){var E;const v=l.toConfig(),T=(E=u[v.name])!==null&&E!==void 0?E:[];return new kn(R(b({},v),{types:()=>[...l.getTypes().map(P),..._n(T)],extensionASTNodes:v.extensionASTNodes.concat(T)}))}function Tn(l){return R(b({},l),{type:M(l.type),args:l.args&&de(l.args,Nn)})}function Nn(l){return R(b({},l),{type:M(l.type)})}function yn(l){const E={};for(const T of l){var v;const O=(v=T.operationTypes)!==null&&v!==void 0?v:[];for(const k of O)E[k.operation]=De(k.type)}return E}function De(l){var E;const v=l.name.value,T=(E=$n[v])!==null&&E!==void 0?E:h[v];if(T===void 0)throw new Error(`Unknown type: "${v}".`);return T}function le(l){return l.kind===p.LIST_TYPE?new Ze(le(l.type)):l.kind===p.NON_NULL_TYPE?new ze(le(l.type)):De(l)}function ur(l){var E;return new An({name:l.name.value,description:(E=l.description)===null||E===void 0?void 0:E.value,locations:l.locations.map(({value:v})=>v),isRepeatable:l.repeatable,args:bn(l.arguments),astNode:l})}function _e(l){const E=Object.create(null);for(const O of l){var v;const k=(v=O.fields)!==null&&v!==void 0?v:[];for(const A of k){var T;E[A.name.value]={type:le(A.type),description:(T=A.description)===null||T===void 0?void 0:T.value,args:bn(A.arguments),deprecationReason:we(A),astNode:A}}}return E}function bn(l){const E=l!=null?l:[],v=Object.create(null);for(const O of E){var T;const k=le(O.type);v[O.name.value]={type:k,description:(T=O.description)===null||T===void 0?void 0:T.value,defaultValue:Ke(O.defaultValue,k),deprecationReason:we(O),astNode:O}}return v}function In(l){const E=Object.create(null);for(const O of l){var v;const k=(v=O.fields)!==null&&v!==void 0?v:[];for(const A of k){var T;const re=le(A.type);E[A.name.value]={type:re,description:(T=A.description)===null||T===void 0?void 0:T.value,defaultValue:Ke(A.defaultValue,re),deprecationReason:we(A),astNode:A}}}return E}function Dn(l){const E=Object.create(null);for(const O of l){var v;const k=(v=O.values)!==null&&v!==void 0?v:[];for(const A of k){var T;E[A.name.value]={description:(T=A.description)===null||T===void 0?void 0:T.value,deprecationReason:we(A),astNode:A}}}return E}function Se(l){return l.flatMap(E=>{var v,T;return(v=(T=E.interfaces)===null||T===void 0?void 0:T.map(De))!==null&&v!==void 0?v:[]})}function _n(l){return l.flatMap(E=>{var v,T;return(v=(T=E.types)===null||T===void 0?void 0:T.map(De))!==null&&v!==void 0?v:[]})}function cr(l){var E;const v=l.name.value,T=(E=u[v])!==null&&E!==void 0?E:[];switch(l.kind){case p.OBJECT_TYPE_DEFINITION:{var O;const q=[l,...T];return new Ln({name:v,description:(O=l.description)===null||O===void 0?void 0:O.value,interfaces:()=>Se(q),fields:()=>_e(q),astNode:l,extensionASTNodes:T})}case p.INTERFACE_TYPE_DEFINITION:{var k;const q=[l,...T];return new jn({name:v,description:(k=l.description)===null||k===void 0?void 0:k.value,interfaces:()=>Se(q),fields:()=>_e(q),astNode:l,extensionASTNodes:T})}case p.ENUM_TYPE_DEFINITION:{var A;const q=[l,...T];return new Vn({name:v,description:(A=l.description)===null||A===void 0?void 0:A.value,values:Dn(q),astNode:l,extensionASTNodes:T})}case p.UNION_TYPE_DEFINITION:{var re;const q=[l,...T];return new kn({name:v,description:(re=l.description)===null||re===void 0?void 0:re.value,types:()=>_n(q),astNode:l,extensionASTNodes:T})}case p.SCALAR_TYPE_DEFINITION:{var Xe;return new Rn({name:v,description:(Xe=l.description)===null||Xe===void 0?void 0:Xe.value,specifiedByURL:xn(l),astNode:l,extensionASTNodes:T})}case p.INPUT_OBJECT_TYPE_DEFINITION:{var Qe;const q=[l,...T];return new Cn({name:v,description:(Qe=l.description)===null||Qe===void 0?void 0:Qe.value,fields:()=>In(q),astNode:l,extensionASTNodes:T})}}}}const $n=ge([...$t,...xt],e=>e.name);function we(e){const n=Re(_r,e);return n==null?void 0:n.reason}function xn(e){const n=Re(Sr,e);return n==null?void 0:n.url}function Ui(e,n){e!=null&&e.kind===p.DOCUMENT||wr(!1,"Must provide valid Document AST."),(n==null?void 0:n.assumeValid)!==!0&&(n==null?void 0:n.assumeValidSDL)!==!0&&Ci(e);const r=Mi({description:void 0,types:[],directives:[],extensions:Object.create(null),extensionASTNodes:[],assumeValid:!1},e,n);if(r.astNode==null)for(const a of r.types)switch(a.name){case"Query":r.query=a;break;case"Mutation":r.mutation=a;break;case"Subscription":r.subscription=a;break}const t=[...r.directives,...Ne.filter(a=>r.directives.every(s=>s.name!==a.name))];return new Or(R(b({},r),{directives:t}))}function Yn(e){return $i(e,n=>!Lr(n),Pi)}function Pi(e){return!Gt(e)&&!Bt(e)}function $i(e,n,i){const r=e.getDirectives().filter(n),t=Object.values(e.getTypeMap()).filter(i);return[xi(e),...r.map(a=>Hi(a)),...t.map(a=>qi(a))].filter(Boolean).join(`

`)}function xi(e){if(e.description==null&&Yi(e))return;const n=[],i=e.getQueryType();i&&n.push(`  query: ${i.name}`);const r=e.getMutationType();r&&n.push(`  mutation: ${r.name}`);const t=e.getSubscriptionType();return t&&n.push(`  subscription: ${t.name}`),Y(e)+`schema {
${n.join(`
`)}
}`}function Yi(e){const n=e.getQueryType();if(n&&n.name!=="Query")return!1;const i=e.getMutationType();if(i&&i.name!=="Mutation")return!1;const r=e.getSubscriptionType();return!(r&&r.name!=="Subscription")}function qi(e){if(dn(e))return Bi(e);if(J(e))return Gi(e);if(W(e))return Xi(e);if(pn(e))return Qi(e);if(qe(e))return Wi(e);if(ue(e))return Ji(e);Z(!1,"Unexpected type: "+w(e))}function Bi(e){return Y(e)+`scalar ${e.name}`+zi(e)}function tr(e){const n=e.getInterfaces();return n.length?" implements "+n.map(i=>i.name).join(" & "):""}function Gi(e){return Y(e)+`type ${e.name}`+tr(e)+rr(e)}function Xi(e){return Y(e)+`interface ${e.name}`+tr(e)+rr(e)}function Qi(e){const n=e.getTypes(),i=n.length?" = "+n.join(" | "):"";return Y(e)+"union "+e.name+i}function Wi(e){const n=e.getValues().map((i,r)=>Y(i,"  ",!r)+"  "+i.name+hn(i.deprecationReason));return Y(e)+`enum ${e.name}`+mn(n)}function Ji(e){const n=Object.values(e.getFields()).map((i,r)=>Y(i,"  ",!r)+"  "+rn(i));return Y(e)+`input ${e.name}`+mn(n)}function rr(e){const n=Object.values(e.getFields()).map((i,r)=>Y(i,"  ",!r)+"  "+i.name+ir(i.args,"  ")+": "+String(i.type)+hn(i.deprecationReason));return mn(n)}function mn(e){return e.length!==0?` {
`+e.join(`
`)+`
}`:""}function ir(e,n=""){return e.length===0?"":e.every(i=>!i.description)?"("+e.map(rn).join(", ")+")":`(
`+e.map((i,r)=>Y(i,"  "+n,!r)+"  "+n+rn(i)).join(`
`)+`
`+n+")"}function rn(e){const n=Fr(e.defaultValue,e.type);let i=e.name+": "+String(e.type);return n&&(i+=` = ${$(n)}`),i+hn(e.deprecationReason)}function Hi(e){return Y(e)+"directive @"+e.name+ir(e.args)+(e.isRepeatable?" repeatable":"")+" on "+e.locations.join(" | ")}function hn(e){return e==null?"":e!==Ar?` @deprecated(reason: ${$({kind:p.STRING,value:e})})`:" @deprecated"}function zi(e){return e.specifiedByURL==null?"":` @specifiedBy(url: ${$({kind:p.STRING,value:e.specifiedByURL})})`}function Y(e,n="",i=!0){const{description:r}=e;if(r==null)return"";const t=$({kind:p.STRING,value:r,block:Rr(r)});return(n&&!i?`
`+n:n)+t.replace(/\n/g,`
`+n)+`
`}var qn;(function(e){function n(i){return typeof i=="string"}e.is=n})(qn||(qn={}));var an;(function(e){function n(i){return typeof i=="string"}e.is=n})(an||(an={}));var Bn;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function n(i){return typeof i=="number"&&e.MIN_VALUE<=i&&i<=e.MAX_VALUE}e.is=n})(Bn||(Bn={}));var Ve;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function n(i){return typeof i=="number"&&e.MIN_VALUE<=i&&i<=e.MAX_VALUE}e.is=n})(Ve||(Ve={}));var B;(function(e){function n(r,t){return r===Number.MAX_VALUE&&(r=Ve.MAX_VALUE),t===Number.MAX_VALUE&&(t=Ve.MAX_VALUE),{line:r,character:t}}e.create=n;function i(r){var t=r;return c.objectLiteral(t)&&c.uinteger(t.line)&&c.uinteger(t.character)}e.is=i})(B||(B={}));var j;(function(e){function n(r,t,a,s){if(c.uinteger(r)&&c.uinteger(t)&&c.uinteger(a)&&c.uinteger(s))return{start:B.create(r,t),end:B.create(a,s)};if(B.is(r)&&B.is(t))return{start:r,end:t};throw new Error("Range#create called with invalid arguments[".concat(r,", ").concat(t,", ").concat(a,", ").concat(s,"]"))}e.create=n;function i(r){var t=r;return c.objectLiteral(t)&&B.is(t.start)&&B.is(t.end)}e.is=i})(j||(j={}));var Ce;(function(e){function n(r,t){return{uri:r,range:t}}e.create=n;function i(r){var t=r;return c.defined(t)&&j.is(t.range)&&(c.string(t.uri)||c.undefined(t.uri))}e.is=i})(Ce||(Ce={}));var Gn;(function(e){function n(r,t,a,s){return{targetUri:r,targetRange:t,targetSelectionRange:a,originSelectionRange:s}}e.create=n;function i(r){var t=r;return c.defined(t)&&j.is(t.targetRange)&&c.string(t.targetUri)&&j.is(t.targetSelectionRange)&&(j.is(t.originSelectionRange)||c.undefined(t.originSelectionRange))}e.is=i})(Gn||(Gn={}));var sn;(function(e){function n(r,t,a,s){return{red:r,green:t,blue:a,alpha:s}}e.create=n;function i(r){var t=r;return c.objectLiteral(t)&&c.numberRange(t.red,0,1)&&c.numberRange(t.green,0,1)&&c.numberRange(t.blue,0,1)&&c.numberRange(t.alpha,0,1)}e.is=i})(sn||(sn={}));var Xn;(function(e){function n(r,t){return{range:r,color:t}}e.create=n;function i(r){var t=r;return c.objectLiteral(t)&&j.is(t.range)&&sn.is(t.color)}e.is=i})(Xn||(Xn={}));var Qn;(function(e){function n(r,t,a){return{label:r,textEdit:t,additionalTextEdits:a}}e.create=n;function i(r){var t=r;return c.objectLiteral(t)&&c.string(t.label)&&(c.undefined(t.textEdit)||Q.is(t))&&(c.undefined(t.additionalTextEdits)||c.typedArray(t.additionalTextEdits,Q.is))}e.is=i})(Qn||(Qn={}));var Wn;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Wn||(Wn={}));var Jn;(function(e){function n(r,t,a,s,o,u){var f={startLine:r,endLine:t};return c.defined(a)&&(f.startCharacter=a),c.defined(s)&&(f.endCharacter=s),c.defined(o)&&(f.kind=o),c.defined(u)&&(f.collapsedText=u),f}e.create=n;function i(r){var t=r;return c.objectLiteral(t)&&c.uinteger(t.startLine)&&c.uinteger(t.startLine)&&(c.undefined(t.startCharacter)||c.uinteger(t.startCharacter))&&(c.undefined(t.endCharacter)||c.uinteger(t.endCharacter))&&(c.undefined(t.kind)||c.string(t.kind))}e.is=i})(Jn||(Jn={}));var on;(function(e){function n(r,t){return{location:r,message:t}}e.create=n;function i(r){var t=r;return c.defined(t)&&Ce.is(t.location)&&c.string(t.message)}e.is=i})(on||(on={}));var Hn;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Hn||(Hn={}));var zn;(function(e){e.Unnecessary=1,e.Deprecated=2})(zn||(zn={}));var Zn;(function(e){function n(i){var r=i;return c.objectLiteral(r)&&c.string(r.href)}e.is=n})(Zn||(Zn={}));var Me;(function(e){function n(r,t,a,s,o,u){var f={range:r,message:t};return c.defined(a)&&(f.severity=a),c.defined(s)&&(f.code=s),c.defined(o)&&(f.source=o),c.defined(u)&&(f.relatedInformation=u),f}e.create=n;function i(r){var t,a=r;return c.defined(a)&&j.is(a.range)&&c.string(a.message)&&(c.number(a.severity)||c.undefined(a.severity))&&(c.integer(a.code)||c.string(a.code)||c.undefined(a.code))&&(c.undefined(a.codeDescription)||c.string((t=a.codeDescription)===null||t===void 0?void 0:t.href))&&(c.string(a.source)||c.undefined(a.source))&&(c.undefined(a.relatedInformation)||c.typedArray(a.relatedInformation,on.is))}e.is=i})(Me||(Me={}));var ce;(function(e){function n(r,t){for(var a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];var o={title:r,command:t};return c.defined(a)&&a.length>0&&(o.arguments=a),o}e.create=n;function i(r){var t=r;return c.defined(t)&&c.string(t.title)&&c.string(t.command)}e.is=i})(ce||(ce={}));var Q;(function(e){function n(a,s){return{range:a,newText:s}}e.replace=n;function i(a,s){return{range:{start:a,end:a},newText:s}}e.insert=i;function r(a){return{range:a,newText:""}}e.del=r;function t(a){var s=a;return c.objectLiteral(s)&&c.string(s.newText)&&j.is(s.range)}e.is=t})(Q||(Q={}));var se;(function(e){function n(r,t,a){var s={label:r};return t!==void 0&&(s.needsConfirmation=t),a!==void 0&&(s.description=a),s}e.create=n;function i(r){var t=r;return c.objectLiteral(t)&&c.string(t.label)&&(c.boolean(t.needsConfirmation)||t.needsConfirmation===void 0)&&(c.string(t.description)||t.description===void 0)}e.is=i})(se||(se={}));var U;(function(e){function n(i){var r=i;return c.string(r)}e.is=n})(U||(U={}));var H;(function(e){function n(a,s,o){return{range:a,newText:s,annotationId:o}}e.replace=n;function i(a,s,o){return{range:{start:a,end:a},newText:s,annotationId:o}}e.insert=i;function r(a,s){return{range:a,newText:"",annotationId:s}}e.del=r;function t(a){var s=a;return Q.is(s)&&(se.is(s.annotationId)||U.is(s.annotationId))}e.is=t})(H||(H={}));var Ue;(function(e){function n(r,t){return{textDocument:r,edits:t}}e.create=n;function i(r){var t=r;return c.defined(t)&&Pe.is(t.textDocument)&&Array.isArray(t.edits)}e.is=i})(Ue||(Ue={}));var me;(function(e){function n(r,t,a){var s={kind:"create",uri:r};return t!==void 0&&(t.overwrite!==void 0||t.ignoreIfExists!==void 0)&&(s.options=t),a!==void 0&&(s.annotationId=a),s}e.create=n;function i(r){var t=r;return t&&t.kind==="create"&&c.string(t.uri)&&(t.options===void 0||(t.options.overwrite===void 0||c.boolean(t.options.overwrite))&&(t.options.ignoreIfExists===void 0||c.boolean(t.options.ignoreIfExists)))&&(t.annotationId===void 0||U.is(t.annotationId))}e.is=i})(me||(me={}));var he;(function(e){function n(r,t,a,s){var o={kind:"rename",oldUri:r,newUri:t};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(o.options=a),s!==void 0&&(o.annotationId=s),o}e.create=n;function i(r){var t=r;return t&&t.kind==="rename"&&c.string(t.oldUri)&&c.string(t.newUri)&&(t.options===void 0||(t.options.overwrite===void 0||c.boolean(t.options.overwrite))&&(t.options.ignoreIfExists===void 0||c.boolean(t.options.ignoreIfExists)))&&(t.annotationId===void 0||U.is(t.annotationId))}e.is=i})(he||(he={}));var Ee;(function(e){function n(r,t,a){var s={kind:"delete",uri:r};return t!==void 0&&(t.recursive!==void 0||t.ignoreIfNotExists!==void 0)&&(s.options=t),a!==void 0&&(s.annotationId=a),s}e.create=n;function i(r){var t=r;return t&&t.kind==="delete"&&c.string(t.uri)&&(t.options===void 0||(t.options.recursive===void 0||c.boolean(t.options.recursive))&&(t.options.ignoreIfNotExists===void 0||c.boolean(t.options.ignoreIfNotExists)))&&(t.annotationId===void 0||U.is(t.annotationId))}e.is=i})(Ee||(Ee={}));var un;(function(e){function n(i){var r=i;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(function(t){return c.string(t.kind)?me.is(t)||he.is(t)||Ee.is(t):Ue.is(t)}))}e.is=n})(un||(un={}));var Fe=function(){function e(n,i){this.edits=n,this.changeAnnotations=i}return e.prototype.insert=function(n,i,r){var t,a;if(r===void 0?t=Q.insert(n,i):U.is(r)?(a=r,t=H.insert(n,i,r)):(this.assertChangeAnnotations(this.changeAnnotations),a=this.changeAnnotations.manage(r),t=H.insert(n,i,a)),this.edits.push(t),a!==void 0)return a},e.prototype.replace=function(n,i,r){var t,a;if(r===void 0?t=Q.replace(n,i):U.is(r)?(a=r,t=H.replace(n,i,r)):(this.assertChangeAnnotations(this.changeAnnotations),a=this.changeAnnotations.manage(r),t=H.replace(n,i,a)),this.edits.push(t),a!==void 0)return a},e.prototype.delete=function(n,i){var r,t;if(i===void 0?r=Q.del(n):U.is(i)?(t=i,r=H.del(n,i)):(this.assertChangeAnnotations(this.changeAnnotations),t=this.changeAnnotations.manage(i),r=H.del(n,t)),this.edits.push(r),t!==void 0)return t},e.prototype.add=function(n){this.edits.push(n)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(n){if(n===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),Kn=function(){function e(n){this._annotations=n===void 0?Object.create(null):n,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(n,i){var r;if(U.is(n)?r=n:(r=this.nextId(),i=n),this._annotations[r]!==void 0)throw new Error("Id ".concat(r," is already in use."));if(i===void 0)throw new Error("No annotation provided for id ".concat(r));return this._annotations[r]=i,this._size++,r},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}();(function(){function e(n){var i=this;this._textEditChanges=Object.create(null),n!==void 0?(this._workspaceEdit=n,n.documentChanges?(this._changeAnnotations=new Kn(n.changeAnnotations),n.changeAnnotations=this._changeAnnotations.all(),n.documentChanges.forEach(function(r){if(Ue.is(r)){var t=new Fe(r.edits,i._changeAnnotations);i._textEditChanges[r.textDocument.uri]=t}})):n.changes&&Object.keys(n.changes).forEach(function(r){var t=new Fe(n.changes[r]);i._textEditChanges[r]=t})):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(n){if(Pe.is(n)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i={uri:n.uri,version:n.version},r=this._textEditChanges[i.uri];if(!r){var t=[],a={textDocument:i,edits:t};this._workspaceEdit.documentChanges.push(a),r=new Fe(t,this._changeAnnotations),this._textEditChanges[i.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var r=this._textEditChanges[n];if(!r){var t=[];this._workspaceEdit.changes[n]=t,r=new Fe(t),this._textEditChanges[n]=r}return r}},e.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Kn,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(n,i,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var t;se.is(i)||U.is(i)?t=i:r=i;var a,s;if(t===void 0?a=me.create(n,r):(s=U.is(t)?t:this._changeAnnotations.manage(t),a=me.create(n,r,s)),this._workspaceEdit.documentChanges.push(a),s!==void 0)return s},e.prototype.renameFile=function(n,i,r,t){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var a;se.is(r)||U.is(r)?a=r:t=r;var s,o;if(a===void 0?s=he.create(n,i,t):(o=U.is(a)?a:this._changeAnnotations.manage(a),s=he.create(n,i,t,o)),this._workspaceEdit.documentChanges.push(s),o!==void 0)return o},e.prototype.deleteFile=function(n,i,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var t;se.is(i)||U.is(i)?t=i:r=i;var a,s;if(t===void 0?a=Ee.create(n,r):(s=U.is(t)?t:this._changeAnnotations.manage(t),a=Ee.create(n,r,s)),this._workspaceEdit.documentChanges.push(a),s!==void 0)return s},e})();var et;(function(e){function n(r){return{uri:r}}e.create=n;function i(r){var t=r;return c.defined(t)&&c.string(t.uri)}e.is=i})(et||(et={}));var nt;(function(e){function n(r,t){return{uri:r,version:t}}e.create=n;function i(r){var t=r;return c.defined(t)&&c.string(t.uri)&&c.integer(t.version)}e.is=i})(nt||(nt={}));var Pe;(function(e){function n(r,t){return{uri:r,version:t}}e.create=n;function i(r){var t=r;return c.defined(t)&&c.string(t.uri)&&(t.version===null||c.integer(t.version))}e.is=i})(Pe||(Pe={}));var tt;(function(e){function n(r,t,a,s){return{uri:r,languageId:t,version:a,text:s}}e.create=n;function i(r){var t=r;return c.defined(t)&&c.string(t.uri)&&c.string(t.languageId)&&c.integer(t.version)&&c.string(t.text)}e.is=i})(tt||(tt={}));var cn;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function n(i){var r=i;return r===e.PlainText||r===e.Markdown}e.is=n})(cn||(cn={}));var Te;(function(e){function n(i){var r=i;return c.objectLiteral(i)&&cn.is(r.kind)&&c.string(r.value)}e.is=n})(Te||(Te={}));var rt;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(rt||(rt={}));var it;(function(e){e.PlainText=1,e.Snippet=2})(it||(it={}));var at;(function(e){e.Deprecated=1})(at||(at={}));var st;(function(e){function n(r,t,a){return{newText:r,insert:t,replace:a}}e.create=n;function i(r){var t=r;return t&&c.string(t.newText)&&j.is(t.insert)&&j.is(t.replace)}e.is=i})(st||(st={}));var ot;(function(e){e.asIs=1,e.adjustIndentation=2})(ot||(ot={}));var ut;(function(e){function n(i){var r=i;return r&&(c.string(r.detail)||r.detail===void 0)&&(c.string(r.description)||r.description===void 0)}e.is=n})(ut||(ut={}));var ct;(function(e){function n(i){return{label:i}}e.create=n})(ct||(ct={}));var ft;(function(e){function n(i,r){return{items:i||[],isIncomplete:!!r}}e.create=n})(ft||(ft={}));var $e;(function(e){function n(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=n;function i(r){var t=r;return c.string(t)||c.objectLiteral(t)&&c.string(t.language)&&c.string(t.value)}e.is=i})($e||($e={}));var lt;(function(e){function n(i){var r=i;return!!r&&c.objectLiteral(r)&&(Te.is(r.contents)||$e.is(r.contents)||c.typedArray(r.contents,$e.is))&&(i.range===void 0||j.is(i.range))}e.is=n})(lt||(lt={}));var dt;(function(e){function n(i,r){return r?{label:i,documentation:r}:{label:i}}e.create=n})(dt||(dt={}));var pt;(function(e){function n(i,r){for(var t=[],a=2;a<arguments.length;a++)t[a-2]=arguments[a];var s={label:i};return c.defined(r)&&(s.documentation=r),c.defined(t)?s.parameters=t:s.parameters=[],s}e.create=n})(pt||(pt={}));var gt;(function(e){e.Text=1,e.Read=2,e.Write=3})(gt||(gt={}));var vt;(function(e){function n(i,r){var t={range:i};return c.number(r)&&(t.kind=r),t}e.create=n})(vt||(vt={}));var mt;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(mt||(mt={}));var ht;(function(e){e.Deprecated=1})(ht||(ht={}));var Et;(function(e){function n(i,r,t,a,s){var o={name:i,kind:r,location:{uri:a,range:t}};return s&&(o.containerName=s),o}e.create=n})(Et||(Et={}));var Tt;(function(e){function n(i,r,t,a){return a!==void 0?{name:i,kind:r,location:{uri:t,range:a}}:{name:i,kind:r,location:{uri:t}}}e.create=n})(Tt||(Tt={}));var Nt;(function(e){function n(r,t,a,s,o,u){var f={name:r,detail:t,kind:a,range:s,selectionRange:o};return u!==void 0&&(f.children=u),f}e.create=n;function i(r){var t=r;return t&&c.string(t.name)&&c.number(t.kind)&&j.is(t.range)&&j.is(t.selectionRange)&&(t.detail===void 0||c.string(t.detail))&&(t.deprecated===void 0||c.boolean(t.deprecated))&&(t.children===void 0||Array.isArray(t.children))&&(t.tags===void 0||Array.isArray(t.tags))}e.is=i})(Nt||(Nt={}));var yt;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(yt||(yt={}));var xe;(function(e){e.Invoked=1,e.Automatic=2})(xe||(xe={}));var bt;(function(e){function n(r,t,a){var s={diagnostics:r};return t!=null&&(s.only=t),a!=null&&(s.triggerKind=a),s}e.create=n;function i(r){var t=r;return c.defined(t)&&c.typedArray(t.diagnostics,Me.is)&&(t.only===void 0||c.typedArray(t.only,c.string))&&(t.triggerKind===void 0||t.triggerKind===xe.Invoked||t.triggerKind===xe.Automatic)}e.is=i})(bt||(bt={}));var It;(function(e){function n(r,t,a){var s={title:r},o=!0;return typeof t=="string"?(o=!1,s.kind=t):ce.is(t)?s.command=t:s.edit=t,o&&a!==void 0&&(s.kind=a),s}e.create=n;function i(r){var t=r;return t&&c.string(t.title)&&(t.diagnostics===void 0||c.typedArray(t.diagnostics,Me.is))&&(t.kind===void 0||c.string(t.kind))&&(t.edit!==void 0||t.command!==void 0)&&(t.command===void 0||ce.is(t.command))&&(t.isPreferred===void 0||c.boolean(t.isPreferred))&&(t.edit===void 0||un.is(t.edit))}e.is=i})(It||(It={}));var Dt;(function(e){function n(r,t){var a={range:r};return c.defined(t)&&(a.data=t),a}e.create=n;function i(r){var t=r;return c.defined(t)&&j.is(t.range)&&(c.undefined(t.command)||ce.is(t.command))}e.is=i})(Dt||(Dt={}));var _t;(function(e){function n(r,t){return{tabSize:r,insertSpaces:t}}e.create=n;function i(r){var t=r;return c.defined(t)&&c.uinteger(t.tabSize)&&c.boolean(t.insertSpaces)}e.is=i})(_t||(_t={}));var St;(function(e){function n(r,t,a){return{range:r,target:t,data:a}}e.create=n;function i(r){var t=r;return c.defined(t)&&j.is(t.range)&&(c.undefined(t.target)||c.string(t.target))}e.is=i})(St||(St={}));var Ot;(function(e){function n(r,t){return{range:r,parent:t}}e.create=n;function i(r){var t=r;return c.objectLiteral(t)&&j.is(t.range)&&(t.parent===void 0||e.is(t.parent))}e.is=i})(Ot||(Ot={}));var wt;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(wt||(wt={}));var Ft;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(Ft||(Ft={}));var At;(function(e){function n(i){var r=i;return c.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}e.is=n})(At||(At={}));var Rt;(function(e){function n(r,t){return{range:r,text:t}}e.create=n;function i(r){var t=r;return t!=null&&j.is(t.range)&&c.string(t.text)}e.is=i})(Rt||(Rt={}));var Lt;(function(e){function n(r,t,a){return{range:r,variableName:t,caseSensitiveLookup:a}}e.create=n;function i(r){var t=r;return t!=null&&j.is(t.range)&&c.boolean(t.caseSensitiveLookup)&&(c.string(t.variableName)||t.variableName===void 0)}e.is=i})(Lt||(Lt={}));var jt;(function(e){function n(r,t){return{range:r,expression:t}}e.create=n;function i(r){var t=r;return t!=null&&j.is(t.range)&&(c.string(t.expression)||t.expression===void 0)}e.is=i})(jt||(jt={}));var kt;(function(e){function n(r,t){return{frameId:r,stoppedLocation:t}}e.create=n;function i(r){var t=r;return c.defined(t)&&j.is(r.stoppedLocation)}e.is=i})(kt||(kt={}));var fn;(function(e){e.Type=1,e.Parameter=2;function n(i){return i===1||i===2}e.is=n})(fn||(fn={}));var ln;(function(e){function n(r){return{value:r}}e.create=n;function i(r){var t=r;return c.objectLiteral(t)&&(t.tooltip===void 0||c.string(t.tooltip)||Te.is(t.tooltip))&&(t.location===void 0||Ce.is(t.location))&&(t.command===void 0||ce.is(t.command))}e.is=i})(ln||(ln={}));var Vt;(function(e){function n(r,t,a){var s={position:r,label:t};return a!==void 0&&(s.kind=a),s}e.create=n;function i(r){var t=r;return c.objectLiteral(t)&&B.is(t.position)&&(c.string(t.label)||c.typedArray(t.label,ln.is))&&(t.kind===void 0||fn.is(t.kind))&&t.textEdits===void 0||c.typedArray(t.textEdits,Q.is)&&(t.tooltip===void 0||c.string(t.tooltip)||Te.is(t.tooltip))&&(t.paddingLeft===void 0||c.boolean(t.paddingLeft))&&(t.paddingRight===void 0||c.boolean(t.paddingRight))}e.is=i})(Vt||(Vt={}));var Ct;(function(e){function n(i){var r=i;return c.objectLiteral(r)&&an.is(r.uri)&&c.string(r.name)}e.is=n})(Ct||(Ct={}));var Mt;(function(e){function n(a,s,o,u){return new Zi(a,s,o,u)}e.create=n;function i(a){var s=a;return!!(c.defined(s)&&c.string(s.uri)&&(c.undefined(s.languageId)||c.string(s.languageId))&&c.uinteger(s.lineCount)&&c.func(s.getText)&&c.func(s.positionAt)&&c.func(s.offsetAt))}e.is=i;function r(a,s){for(var o=a.getText(),u=t(s,function(F,M){var P=F.range.start.line-M.range.start.line;return P===0?F.range.start.character-M.range.start.character:P}),f=o.length,d=u.length-1;d>=0;d--){var g=u[d],h=a.offsetAt(g.range.start),m=a.offsetAt(g.range.end);if(m<=f)o=o.substring(0,h)+g.newText+o.substring(m,o.length);else throw new Error("Overlapping edit");f=h}return o}e.applyEdits=r;function t(a,s){if(a.length<=1)return a;var o=a.length/2|0,u=a.slice(0,o),f=a.slice(o);t(u,s),t(f,s);for(var d=0,g=0,h=0;d<u.length&&g<f.length;){var m=s(u[d],f[g]);m<=0?a[h++]=u[d++]:a[h++]=f[g++]}for(;d<u.length;)a[h++]=u[d++];for(;g<f.length;)a[h++]=f[g++];return a}})(Mt||(Mt={}));var Zi=function(){function e(n,i,r,t){this._uri=n,this._languageId=i,this._version=r,this._content=t,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(n){if(n){var i=this.offsetAt(n.start),r=this.offsetAt(n.end);return this._content.substring(i,r)}return this._content},e.prototype.update=function(n,i){this._content=n.text,this._version=i,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var n=[],i=this._content,r=!0,t=0;t<i.length;t++){r&&(n.push(t),r=!1);var a=i.charAt(t);r=a==="\r"||a===`
`,a==="\r"&&t+1<i.length&&i.charAt(t+1)===`
`&&t++}r&&i.length>0&&n.push(i.length),this._lineOffsets=n}return this._lineOffsets},e.prototype.positionAt=function(n){n=Math.max(Math.min(n,this._content.length),0);var i=this.getLineOffsets(),r=0,t=i.length;if(t===0)return B.create(0,n);for(;r<t;){var a=Math.floor((r+t)/2);i[a]>n?t=a:r=a+1}var s=r-1;return B.create(s,n-i[s])},e.prototype.offsetAt=function(n){var i=this.getLineOffsets();if(n.line>=i.length)return this._content.length;if(n.line<0)return 0;var r=i[n.line],t=n.line+1<i.length?i[n.line+1]:this._content.length;return Math.max(Math.min(r+n.character,t),r)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}(),c;(function(e){var n=Object.prototype.toString;function i(m){return typeof m!="undefined"}e.defined=i;function r(m){return typeof m=="undefined"}e.undefined=r;function t(m){return m===!0||m===!1}e.boolean=t;function a(m){return n.call(m)==="[object String]"}e.string=a;function s(m){return n.call(m)==="[object Number]"}e.number=s;function o(m,F,M){return n.call(m)==="[object Number]"&&F<=m&&m<=M}e.numberRange=o;function u(m){return n.call(m)==="[object Number]"&&-2147483648<=m&&m<=2147483647}e.integer=u;function f(m){return n.call(m)==="[object Number]"&&0<=m&&m<=2147483647}e.uinteger=f;function d(m){return n.call(m)==="[object Function]"}e.func=d;function g(m){return m!==null&&typeof m=="object"}e.objectLiteral=g;function h(m,F){return Array.isArray(m)&&m.every(F)}e.typedArray=h})(c||(c={}));function L(e){return{ofRule:e}}function I(e,n){return{ofRule:e,isList:!0,separator:n}}function Ki(e,n){const i=e.match;return e.match=r=>{let t=!1;return i&&(t=i(r)),t&&n.every(a=>a.match&&!a.match(r))},e}function He(e,n){return{style:n,match:i=>i.kind===e}}function y(e,n){return{style:n||"punctuation",match:i=>i.kind==="Punctuation"&&i.value===e}}I("Definition"),C("query"),L(_("def")),L("VariableDefinitions"),I("Directive"),C("mutation"),L(_("def")),L("VariableDefinitions"),I("Directive"),C("subscription"),L(_("def")),L("VariableDefinitions"),I("Directive"),y("("),I("VariableDefinition"),y(")"),y(":"),L("DefaultValue"),y("$","variable"),_("variable"),y("="),y("{"),I("Selection"),y("}"),_("property"),y(":"),_("qualifier"),L("Arguments"),I("Directive"),L("SelectionSet"),_("property"),L("Arguments"),I("Directive"),L("SelectionSet"),y("("),I("Argument"),y(")"),_("attribute"),y(":"),y("..."),_("def"),I("Directive"),y("..."),L("TypeCondition"),I("Directive"),C("fragment"),L(Ki(_("def"),[C("on")])),I("Directive"),C("on"),He("Number","number"),He("Name","builtin"),He("Name","keyword"),_("string-2"),y("["),I("Value"),y("]"),y("{"),I("ObjectField"),y("}"),_("attribute"),y(":"),y("["),y("]"),L(y("!")),L(y("!")),ea("atom"),y("@","meta"),_("meta"),L("Arguments"),C("directive"),y("@","meta"),_("meta"),L("ArgumentsDef"),C("on"),I("DirectiveLocation",y("|")),C("interface"),_("atom"),L("Implements"),I("Directive"),y("{"),I("FieldDef"),y("}"),C("implements"),I("NamedType",y("&")),_("string-2"),C("schema"),I("Directive"),y("{"),I("OperationTypeDef"),y("}"),_("keyword"),y(":"),_("atom"),C("scalar"),_("atom"),I("Directive"),C("type"),_("atom"),L("Implements"),I("Directive"),y("{"),I("FieldDef"),y("}"),_("property"),L("ArgumentsDef"),y(":"),I("Directive"),y("("),I("InputValueDef"),y(")"),_("attribute"),y(":"),L("DefaultValue"),I("Directive"),C("union"),_("atom"),I("Directive"),y("="),I("UnionMember",y("|")),C("enum"),_("atom"),I("Directive"),y("{"),I("EnumValueDef"),y("}"),_("string-2"),I("Directive"),C("input"),_("atom"),I("Directive"),y("{"),I("InputValueDef"),y("}"),C("extend");function C(e){return{style:"keyword",match:n=>n.kind==="Name"&&n.value===e}}function _(e){return{style:e,match:n=>n.kind==="Name",update(n,i){n.name=i.value}}}function ea(e){return{style:e,match:n=>n.kind==="Name",update(n,i){n.prevState&&n.prevState.prevState&&(n.name=i.value,n.prevState.prevState.type=i.value)}}}const na={ALIASED_FIELD:"AliasedField",ARGUMENTS:"Arguments",SHORT_QUERY:"ShortQuery",QUERY:"Query",MUTATION:"Mutation",SUBSCRIPTION:"Subscription",TYPE_CONDITION:"TypeCondition",INVALID:"Invalid",COMMENT:"Comment",SCHEMA_DEF:"SchemaDef",SCALAR_DEF:"ScalarDef",OBJECT_TYPE_DEF:"ObjectTypeDef",OBJECT_VALUE:"ObjectValue",LIST_VALUE:"ListValue",INTERFACE_DEF:"InterfaceDef",UNION_DEF:"UnionDef",ENUM_DEF:"EnumDef",ENUM_VALUE:"EnumValue",FIELD_DEF:"FieldDef",INPUT_DEF:"InputDef",INPUT_VALUE_DEF:"InputValueDef",ARGUMENTS_DEF:"ArgumentsDef",EXTEND_DEF:"ExtendDef",DIRECTIVE_DEF:"DirectiveDef",IMPLEMENTS:"Implements",VARIABLE_DEFINITIONS:"VariableDefinitions",TYPE:"Type"};Object.assign(Object.assign({},p),na);var En={exports:{}};function ar(e,n){if(e!=null)return e;var i=new Error(n!==void 0?n:"Got unexpected "+e);throw i.framesToPop=1,i}En.exports=ar;En.exports.default=ar;Object.defineProperty(En.exports,"__esModule",{value:!0});globalThis&&globalThis.__awaiter;var D;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(D||(D={}));const Ut=e=>"getModeId"in e?e.getModeId():e.getLanguageId(),ta=e=>{const o=e,{schema:n,documentAST:i,introspectionJSON:r,introspectionJSONString:t,documentString:a}=o,s=Fn(o,["schema","documentAST","introspectionJSON","introspectionJSONString","documentString"]);if(n)return R(b({},s),{documentString:Yn(n)});if(t)return R(b({},s),{introspectionJSONString:t});if(a)return R(b({},s),{documentString:a});if(r)return R(b({},s),{introspectionJSONString:JSON.stringify(r)});if(i){const u=Ui(i,s.buildSchemaOptions);return R(b({},s),{documentString:Yn(u)})}throw Error("no schema supplied")},ra=2*60*1e3;class ia{constructor(n){this._defaults=n,this._worker=null,this._idleCheckInterval=window.setInterval(()=>this._checkIfIdle(),30*1e3),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange(()=>{this._stopWorker()}),this._client=null}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){if(!this._worker)return;Date.now()-this._lastUsedTime>ra&&this._stopWorker()}async _getClient(){var n;if(this._lastUsedTime=Date.now(),!this._client&&!this._worker)try{this._worker=X.createWebWorker({moduleId:"monaco-graphql/esm/GraphQLWorker.js",label:this._defaults.languageId,createData:{languageId:this._defaults.languageId,formattingOptions:this._defaults.formattingOptions,languageConfig:{schemas:(n=this._defaults.schemas)==null?void 0:n.map(ta),exteralFragmentDefinitions:this._defaults.externalFragmentDefinitions}}}),this._client=await this._worker.getProxy()}catch(i){console.error("error loading worker",i)}return this._client}async getLanguageServiceWorker(...n){const i=await this._getClient();return await this._worker.withSyncedResources(n),i}}class aa{constructor(n,i){this.defaults=n,this._worker=i,this._disposables=[],this._listener=Object.create(null),this._worker=i;const r=a=>{var d;const s=Ut(a);if(s!==this.defaults.languageId)return;const o=a.uri.toString(),u=((d=n.diagnosticSettings)==null?void 0:d.validateVariablesJSON)&&n.diagnosticSettings.validateVariablesJSON[o];let f;this._listener[o]=a.onDidChangeContent(()=>{clearTimeout(f),f=setTimeout(()=>{this._doValidate(a.uri,s,u)},200)}),this._doValidate(a.uri,s,u)},t=a=>{X.setModelMarkers(a,this.defaults.languageId,[]);const s=a.uri.toString(),o=this._listener[s];o&&(o.dispose(),delete this._listener[s])};this._disposables.push(X.onDidCreateModel(r)),this._disposables.push(X.onWillDisposeModel(a=>{t(a)})),this._disposables.push(X.onDidChangeModelLanguage(a=>{t(a.model),r(a.model)})),this._disposables.push({dispose:()=>{for(const a in this._listener)this._listener[a].dispose()}}),this._disposables.push(n.onDidChange(()=>{X.getModels().forEach(a=>{Ut(a)===this.defaults.languageId&&(t(a),r(a))})})),X.getModels().forEach(r)}dispose(){this._disposables.forEach(n=>n&&n.dispose()),this._disposables=[]}async _doValidate(n,i,r){var s,o;const t=await this._worker(n),a=await t.doValidation(n.toString());if(X.setModelMarkers(X.getModel(n),i,a),r){if(r.length<1)throw Error("no variables URI strings provided to validate");const u=await t.doGetVariablesJSONSchema(n.toString());if(!u)return;const d={uri:jr.file(r[0].replace(".json","-schema.json")).toString(),schema:u,fileMatch:r};ae.json.jsonDefaults.setDiagnosticsOptions(R(b({schemaValidation:"error",validate:!0},(o=(s=this.defaults)==null?void 0:s.diagnosticSettings)==null?void 0:o.jsonDiagnosticSettings),{schemas:[d],enableSchemaRequest:!1}))}}}const S=ae.CompletionItemKind;function sa(e){switch(e){case D.Text:return S.Text;case D.Method:return S.Method;case D.Function:return S.Function;case D.Constructor:return S.Constructor;case D.Field:return S.Field;case D.Variable:return S.Variable;case D.Class:return S.Class;case D.Interface:return S.Interface;case D.Module:return S.Module;case D.Property:return S.Property;case D.Unit:return S.Unit;case D.Value:return S.Value;case D.Enum:return S.Enum;case D.Keyword:return S.Keyword;case D.Snippet:return S.Snippet;case D.Color:return S.Color;case D.File:return S.File;case D.Reference:return S.Reference;case D.Folder:return S.Folder;case D.EnumMember:return S.EnumMember;case D.Constant:return S.Constant;case D.Struct:return S.Struct;case D.Event:return S.Event;case D.Operator:return S.Operator;case D.TypeParameter:return S.TypeParameter;default:return S.Text}}function oa(e){var i;return{range:e.range,kind:sa(e.kind),label:e.label,insertText:(i=e.insertText)!=null?i:e.label,insertTextRules:e.insertText?ae.CompletionItemInsertTextRule.InsertAsSnippet:void 0,sortText:e.sortText,filterText:e.filterText,documentation:e.documentation,detail:e.detail,command:e.command}}class ua{constructor(n){this._worker=n,this._worker=n}get triggerCharacters(){return[":","$",`
`," ","(","@"]}async provideCompletionItems(n,i,r,t){try{const a=n.uri,o=await(await this._worker(n.uri)).doComplete(a.toString(),i);return{incomplete:!0,suggestions:o.map(oa)}}catch(a){return console.error(`Error fetching completion items

${a}`),{suggestions:[]}}}}class ca{constructor(n){this._worker=n,this._worker=n}async provideDocumentFormattingEdits(n,i,r){const a=await(await this._worker(n.uri)).doFormat(n.uri.toString());return a?[{range:n.getFullModelRange(),text:a}]:[]}}class fa{constructor(n){this._worker=n}async provideHover(n,i,r){const t=n.uri,s=await(await this._worker(n.uri)).doHover(t.toString(),i);return s?{range:s.range,contents:[{value:s.content}]}:{contents:[]}}dispose(){}}function pa(e){const n=[],i=[],r=new ia(e);n.push(r);const t=(...h)=>{try{return r.getLanguageServiceWorker(...h)}catch{throw Error("Error fetching graphql language service worker")}};function a(){const{modeConfiguration:h}=e;h.documentFormattingEdits&&i.push(ae.registerDocumentFormattingEditProvider(e.languageId,new ca(t)))}function s(h){const{modeConfiguration:m}=e;sr(i),m.completionItems&&i.push(ae.registerCompletionItemProvider(e.languageId,new ua(t))),m.diagnostics&&i.push(new aa(h,t)),m.hovers&&i.push(ae.registerHoverProvider(e.languageId,new fa(t))),a()}let{modeConfiguration:o,formattingOptions:u,diagnosticSettings:f,externalFragmentDefinitions:d,schemas:g}=e;return s(e),e.onDidChange(h=>{h.modeConfiguration!==o&&(o=h.modeConfiguration,s(h)),h.formattingOptions!==u&&(u=h.formattingOptions,a()),h.externalFragmentDefinitions!==d&&(d=h.externalFragmentDefinitions,s(h)),h.diagnosticSettings!==f&&(f=h.diagnosticSettings,s(h)),h.schemas!==g&&(g=h.schemas,s(h))}),n.push(Pt(i)),Pt(n)}function Pt(e){return{dispose:()=>sr(e)}}function sr(e){for(;e.length;)e.pop().dispose()}export{pa as setupMode};
