import{a as e,H as g,M as p,e as c,j as n,I as O,J as m,O as C,Q as E,U as x,f as H,V as v,W as V,X as y,Y as A,Z as I,r as o,_ as R,$ as W,g as L,a0 as k,a1 as G,a2 as P,a3 as Q,a4 as b,a5 as S,a6 as M,a7 as T,a8 as z,a9 as j,aa as B,ab as D,ac as $,ad as q}from"./index.a4f49f88.js";import{P as w,a as _,b as F}from"./Prettier.29a40fe8.js";import{C as J}from"./ChevronLarge.a0c1a16f.js";import{R as N}from"./Resizer.1d001c36.js";const U=()=>e(g,{children:e(p,{editorType:"results",optionOverrides:{lineNumbers:"off",readOnly:!0}})}),f=()=>{const{addEditorTab:t}=c();return e(x,{onClick:()=>t(),children:e(w,{})})},X=()=>{const{activeEditorTabId:t,editorTabs:r}=c();return n(O,{children:[n(m,{children:[r.length<2?null:r.map(a=>e(C,{editorTabId:a.editorTabId,isActive:t===a.editorTabId},a.editorTabId)),r.length>1&&e(f,{})]}),r.length<2&&e(f,{}),e(E,{children:n("a",{href:"https://github.com/graphql/graphiql",target:"_blank",rel:"noreferrer",children:["Graph",e("i",{children:"i"}),"QL"]})})]})},Y=()=>{const{monacoEditors:t}=c(),{executeOperation:r}=H(),a=t.find(i=>i.name==="operation");return n(v,{children:[e(V,{onClick:()=>{r()},children:e(_,{})}),e(y,{onClick:()=>a==null?void 0:a.editor.getAction("editor.action.formatDocument").run(),children:e(F,{})})]})},Z=()=>e(A,{children:e(I,{isVisible:!0,children:e(p,{editorType:"headers"})})}),K=()=>{const[t]=o.exports.useState("CodeEditor");return e(R,{children:e(W,{isVisible:t==="CodeEditor",children:e(p,{editorType:"variables"})})})},ee=({setHeight:t})=>{var h,u;const[r,a]=o.exports.useState(!1),[i,s]=o.exports.useState(""),l=L(),d=((u=(h=l==null?void 0:l.operationDefinition)==null?void 0:h.variableDefinitions)==null?void 0:u.length)||0;return e(k,{open:r,onOpenChange:()=>{r?(a(!1),s("")):(a(!0),s("VariablesTab")),setTimeout(()=>{t()},150)},children:n(G,{value:i,onValueChange:s,children:[n(P,{children:[n(Q,{"aria-label":"Operations Tools",children:[n(b,{value:"VariablesTab",onClick:()=>{r||a(!0)},children:["Variables ",d>0&&e("span",{children:d})]}),e(b,{value:"HeadersTab",onClick:()=>{r||a(!0)},children:"Headers"})]}),e(S,{isOperationToolsOpen:r,children:e(J,{})})]}),n(M,{forceMount:!0,hidden:!r,children:[e(T,{value:"VariablesTab",forceMount:!0,hidden:i!=="VariablesTab",children:e(K,{})}),e(T,{value:"HeadersTab",forceMount:!0,hidden:i!=="HeadersTab",children:e(Z,{})})]})]})})},re=()=>{const{editorTabs:t}=c(),r=o.exports.useRef(null),a=o.exports.useRef(null),i=o.exports.useRef(null),[s,l]=o.exports.useState(null);o.exports.useEffect(()=>{d()},[s]);const d=()=>{if(a.current&&i.current&&r.current){if(!s)return l(a.current.clientHeight);a.current.style.height=`${r.current.clientHeight-i.current.clientHeight}px`}};return n(z,{ref:r,expanded:t.length<2,children:[n(j,{ref:a,children:[e(p,{editorType:"operation"}),e(B,{children:e(Y,{})})]}),e(D,{ref:i,children:e(ee,{setHeight:d})})]})},se=()=>{const{activeEditorTabId:t,switchEditorTab:r}=c();return o.exports.useEffect(()=>{t&&r({editorTabId:t})},[]),e($,{children:n(q,{children:[e(X,{}),e(N,{direction:"horizontal",handleStyle:"bar",pane1:{initialFlexGrowValue:1,component:e(re,{})},pane2:{component:e(U,{})}})]})})};export{se as G};
