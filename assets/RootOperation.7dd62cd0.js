import{ag as k,a as c,aL as A,aM as V,j as e,aN as j,aO as z,aP as M,aQ as B,aR as H,aS as Q,aT as L,aI as E,aK as F,aJ as R,aE as I,b as x,aa as u,r as p,d as P,C as G,ae as O,c as U}from"./index.c5a099b4.js";import{e as h,D as X,f as q,B as K,g as W,l as Z,h as $,i as _,j as J,k as Y,N as ee,m as ne,n as te,o as ie,p as f,q as y,r as se,s as oe,t as ae,v as re,w as le,x as ce,y as de,z as pe,u as ue,O as he,P as me,A as fe,E as ge,F as ye,G as ve,L as Se}from"./styles.5629390a.js";import{C as De,E as Pe,a as be}from"./Ellipsis.4860bcdb.js";import{S as Te}from"./SeparatorRound.83e82186.js";import{F as Ce}from"./Union.b1593f4b.js";const b=i=>{let t=i;for(;k(t);)t=t.ofType;return t},S=({control:i,description:t,title:a})=>c(A,{children:[c(V,{children:[e("span",{children:a}),t&&e("span",{children:t})]}),i]}),Oe=({arrowOptions:i={offset:5},contentOptions:t={align:"end",sideOffset:5},content:a,icon:n})=>c(j,{children:[e(z,{asChild:!0,children:e("button",{children:n})}),c(M,{sideOffset:t.sideOffset,align:t.align,children:[a,e(B,{offset:i.offset})]})]}),D=({ariaLabel:i,defaultValue:t,items:a,onChange:n,size:r="regular",value:l})=>e(H,{type:"single","aria-label":i,defaultValue:t,onValueChange:s=>n(s),size:r,value:l,children:a.map(s=>e(Q,{"aria-label":s.ariaLabel,size:r,title:s.ariaLabel,value:s.value,children:s.icon?s.icon:e("span",{children:s.value})},s.value))}),we=()=>c("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.5235 33.9708C27.5025 33.9708 33.9708 27.5025 33.9708 19.5235C33.9708 11.5444 27.5025 5.0761 19.5235 5.0761C11.5444 5.0761 5.0761 11.5444 5.0761 19.5235C5.0761 27.5025 11.5444 33.9708 19.5235 33.9708ZM19.5235 39.047C30.306 39.047 39.047 30.306 39.047 19.5235C39.047 8.74096 30.306 0 19.5235 0C8.74096 0 0 8.74096 0 19.5235C0 30.306 8.74096 39.047 19.5235 39.047Z",fill:"#000000"}),e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M44.0953 48L31.2376 35.1423L34.8269 31.5529L47.6847 44.4107L44.0953 48Z",fill:"#000000"})]}),Le=({placement:i})=>{const{getDocsInstance:t,navigateBack:a}=h(),n=t({placement:i}),r=n==null?void 0:n.docPanes[(n==null?void 0:n.docPanes.length)-2],l=n==null?void 0:n.activeDocPane,s=n==null?void 0:n.docPanes;let o="defaultPillCopy";if(l)if(L(l.type))o="Schema";else{const d=b(l.type);E(d)?o="Object":F(d)?o="Interface":R(d)?o="Union":I(d)?o="InputObject":x(d)?o="Enum":o="Scalar"}return e(X,{children:c(q,{children:[s&&s.length>1&&c(K,{onClick:()=>{a({placement:i})},children:[e(De,{}),e("span",{children:r==null?void 0:r.name})]}),c(W,{children:[e("span",{children:l==null?void 0:l.name}),e("span",{children:o})]})]})})};var Ee=Z;const g=({copy:i})=>{const t=new Ee({});return c($,{children:[e(_,{children:"Description"}),e(J,{dangerouslySetInnerHTML:{__html:t.render(i)}})]})},v=({name:i,description:t=null,descriptionPlacement:a="Below",isSelected:n,type:r,entityType:l})=>c(Y,{descriptionPlacement:a,entityType:l,isSelected:n,children:[c(ee,{children:[e(ne,{children:i}),e(te,{children:r})]}),t&&c(ie,{children:[e(Te,{}),e("span",{children:t})]})]}),Fe=({type:i})=>{const t=i.getValues();return c(u,{children:[e(g,{copy:i.description&&i.description.length>0?i.description:"No description"}),e(f,{orientation:"horizontal"}),e(y,{items:t.map(a=>e(v,{description:a.description||null,name:a.name,type:"enum"},a.name)),title:"Values"})]})},T=({fields:i,placement:t})=>{const{navigateForward:a}=h();return e(y,{items:Object.keys(i).sort().map(n=>e(v,{description:i[n].description||null,name:i[n].name,type:e("button",{onClick:()=>{a({docPane:{description:i[n].description||null,name:b(i[n].type).name,type:i[n].type},placement:t})},children:i[n].type.toString()})},i[n].name)),title:"Fields"})},Re=({placement:i,type:t})=>{const[a,n]=p.exports.useState(null);return p.exports.useEffect(()=>{n(t.getFields())},[t]),c(u,{children:[e(g,{copy:t.description&&t.description.length>0?t.description:"No description"}),e(f,{orientation:"horizontal"}),a&&e(T,{fields:a,placement:i})]})},Ie=({placement:i,type:t})=>{const{navigateForward:a}=h(),{schema:n}=P(),[r,l]=p.exports.useState(null),[s,o]=p.exports.useState(null);return p.exports.useEffect(()=>{if(n&&!("error"in n)){const d=n.getImplementations(t);o(d.objects)}l(t.getFields())},[t]),c(u,{children:[e(g,{copy:t.description&&t.description.length>0?t.description:"No description"}),e(f,{orientation:"horizontal"}),r&&e(T,{fields:r,placement:i}),e(f,{orientation:"horizontal"}),s&&e(y,{items:Object.keys(s).sort().map(d=>e(v,{description:s[d].description||null,name:s[d].name,type:e("button",{onClick:()=>{a({docPane:{description:s[d].description||null,name:s[d].name,type:s[d]},placement:i})},children:s[d].toString()})},s[d].name)),title:"Implementations"})]})},xe=({interfaces:i,placement:t})=>{const{navigateForward:a}=h();return e(y,{items:i.map(n=>e(v,{description:n.description||null,name:n.name,type:e("button",{onClick:()=>{a({docPane:{description:n.description||null,name:n.name,type:n},placement:t})},children:n.toString()})},n.name)),title:"Implements"})},Ne=({placement:i,type:t})=>{const[a,n]=p.exports.useState(null),[r,l]=p.exports.useState(null);return p.exports.useEffect(()=>{l(t.getInterfaces()),n(t.getFields())},[t]),c(u,{children:[e(g,{copy:t.description&&t.description.length>0?t.description:"No description"}),r&&r.length>0&&c(u,{children:[e(f,{orientation:"horizontal"}),e(xe,{interfaces:r,placement:i})]}),a&&c(u,{children:[e(f,{orientation:"horizontal"}),e(T,{fields:a,placement:i})]})]})},ke=({type:i})=>e(g,{copy:i.description&&i.description.length>0?i.description:"No description"}),Ae=({placement:i,schema:t})=>{const{navigateForward:a}=h(),n=t.getQueryType(),r=t.getMutationType(),l=t.getSubscriptionType(),s=[...n?[n]:[],...r?[r]:[],...l?[l]:[]];return c(u,{children:[e(g,{copy:t.description&&t.description.length>0?t.description:"No description"}),e(f,{orientation:"horizontal"}),e(y,{items:s.map(o=>e(v,{description:o.description||null,name:o.name,type:e("button",{onClick:()=>{a({docPane:{description:o.description||null,name:o.name,type:o},placement:i})},children:o.toString()})},o==null?void 0:o.name)),title:"Root Types"})]})},Ve=({placement:i,type:t})=>{const{navigateForward:a}=h(),[n,r]=p.exports.useState(null);return p.exports.useEffect(()=>{r(t.getTypes())},[t]),c(u,{children:[e(g,{copy:t.description&&t.description.length>0?t.description:"No description"}),e(f,{orientation:"horizontal"}),n&&e(y,{items:Object.keys(n).sort().map(l=>e(v,{description:n[l].description||null,name:n[l].name,type:e("button",{onClick:()=>{a({docPane:{description:n[l].description||null,name:n[l].name,type:n[l]},placement:i})},children:n[l].toString()})},n[l].name)),title:"Possible Types"})]})},je=({placement:i})=>{const[t,a]=p.exports.useState(null),{getDocsInstance:n}=h(),r=n({placement:i}),l=r==null?void 0:r.activeDocPane;p.exports.useEffect(()=>{l&&a(l)},[l]);let s=e(u,{});if(t!=null&&t.type)if(L(t.type))s=e(Ae,{placement:i,schema:t.type});else{const o=b(t.type);E(o)?s=e(Ne,{placement:i,type:o}):F(o)?s=e(Ie,{placement:i,type:o}):R(o)?s=e(Ve,{placement:i,type:o}):I(o)?s=e(Re,{placement:i,type:o}):x(o)?s=e(Fe,{type:o}):s=e(ke,{type:o})}return e(u,{children:s})},ze=({placement:i="EXPLORER"})=>{const{getDocsInstance:t,initDocsInstance:a}=h(),{schema:n}=P(),r=t({placement:"EXPLORER"});return p.exports.useEffect(()=>{if(n&&!("error"in n)&&!r)return a({docPane:{description:n.description||null,name:"Schema",type:n},placement:"EXPLORER"})},[]),p.exports.useEffect(()=>{n&&!("error"in n)&&(r==null?void 0:r.docPanes)&&n!==(r==null?void 0:r.docPanes[0].type)&&(a({docPane:{description:n.description||null,name:"Schema",type:n},placement:"EXPLORER"}),a({placement:"PATHFINDER"}))},[n]),c(se,{placement:i,children:[e(Le,{placement:i}),e(je,{placement:i})]})},Me=({dialogActive:i})=>{const[t,a]=p.exports.useState(null),{getDocsInstance:n,resetDocInstance:r}=h(),l=n({placement:"PATHFINDER"}),s=()=>r({placement:"PATHFINDER"});return p.exports.useEffect(()=>{const o=d=>{d.key==="Escape"&&s()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[]),c(oe,{dialogActive:!!(l!=null&&l.activeDocPane),children:[e(ae,{open:i,children:e(re,{container:t,children:c(le,{onEscapeKeyDown:()=>s(),onPointerDownOutside:()=>s(),children:[e(ze,{placement:"PATHFINDER"}),e(ce,{asChild:!0,children:e(de,{onClick:()=>s(),children:e(G,{})})})]})})}),e(pe,{ref:a})]})},Be=()=>{const{descriptionsVisibility:i,fieldsVisibility:t,pillsVisibility:a,setDescriptionsVisibility:n,setFieldsVisibility:r,setPillsVisibility:l}=ue();return c(he,{children:[e(S,{title:"Field Visibility",description:"Show only selected fields",control:e(D,{ariaLabel:"Fields visibility",defaultValue:"Off",items:[{ariaLabel:"Show only selected fields",value:"On"},{ariaLabel:"Show all fields",value:"Off"}],onChange:s=>r(s),size:"regular",value:t})}),e(S,{title:"Type Pills",description:"Show or hide type pills",control:e(D,{ariaLabel:"Type pills visibility",defaultValue:"Off",items:[{ariaLabel:"Display type pills",value:"On"},{ariaLabel:"Do not display type pills",value:"Off"}],onChange:s=>l(s),size:"regular",value:a})}),e(S,{title:"Descriptions",description:"Adjust visibility and display of descriptions",control:e(D,{ariaLabel:"Description visibility",defaultValue:"Inline",items:[{ariaLabel:"Descriptions below item details",value:"Below"},{ariaLabel:"Descriptions inline with item details",value:"Inline"},{ariaLabel:"Descriptions hidden",value:"Off"}],onChange:s=>n(s),size:"regular",value:i})})]})},He=()=>e(Oe,{content:e(Be,{}),icon:e(Pe,{})}),Ke=()=>{const{schema:i}=P(),{getDocsInstance:t,initDocsInstance:a}=h(),n=t({placement:"PATHFINDER"});if(p.exports.useEffect(()=>{if(!n)return a({placement:"PATHFINDER"})},[]),!i||"error"in i)return e(u,{});const r=i.getQueryType(),l=i.getMutationType();return c(me,{children:[c(fe,{dialogActive:!!(n!=null&&n.activeDocPane),children:[c(ge,{children:[c(ye,{children:[c("div",{children:[e(we,{}),e("span",{children:"Search"})]}),c("div",{children:[e(be,{}),e("span",{children:"K"})]})]}),e(He,{})]}),c(ve,{children:[r?e(w,{rootType:r,operationType:O.QUERY}):null,l?e(w,{rootType:l,operationType:O.MUTATION}):null]})]}),e(Me,{dialogActive:!!(n!=null&&n.activeDocPane)})]})},w=({operationType:i,rootType:t})=>{const[a,n]=p.exports.useState(void 0),{activeEditorTabId:r,editorTabs:l}=U(),s=l.find(m=>m.editorTabId===r),o=s==null?void 0:s.operationDefinition;p.exports.useEffect(()=>{const m=o==null?void 0:o.operation;return n(!m||m===i?o==null?void 0:o.selectionSet:void 0)},[o]);const d=t.getFields();return e(Se,{collapsibleContent:{childFields:Object.keys(d).sort().map(m=>{var C;return e(Ce,{ancestors:new Map([[`${d[m].name}`,{field:d[m],selectionSet:a,selection:((C=o==null?void 0:o.selectionSet)==null?void 0:C.selections.find(N=>N.name.value===d[m].name))||null}]]),operationType:i},m)})},isSelected:!1,type:t,variant:"ROOT"})};export{ze as D,Ke as P};
