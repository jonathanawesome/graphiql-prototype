import{r as d,j as m,h as C,k as x,a as n,l as F,m as L,n as T,o as $,p as y,q as A,t as E,v as w,w as g,x as V,y as j,R as k,C as D,A as b,f as B,d as R}from"./index.33004984.js";import{F as q}from"./FieldInput.7c68e135.js";import{C as G}from"./Check.0f586788.js";import{C as K}from"./ChevronLarge.50dccf13.js";const O=({typeNameAsString:l})=>{switch(l){case"Float":return 1.23;case"Int":return 123;case"ID":return"TK421";case"String":return"meowwoof";default:return`***handling ${l} as a string***`}},S=({currentValue:l,handleChange:i,name:o,options:a})=>{const[c,u]=d.exports.useState(l||(a.length>0?a[0].value:""));return d.exports.useEffect(()=>{c&&i({name:o,value:c})},[c]),m(C,{defaultValue:c,name:o,onValueChange:s=>u(s),children:[m(x,{children:[n(F,{}),n(L,{children:n(K,{})})]}),n(T,{children:n($,{children:a.map(s=>m(y,{value:s.value,children:[n(A,{children:s.name}),n(E,{children:s.description}),n(w,{children:n(G,{})})]},s.name))})})]})},M=({currentValue:l,handleChange:i,name:o,typeNameValue:a})=>{const[c,u]=d.exports.useState([]),[s,h]=d.exports.useState({});d.exports.useEffect(()=>{Array.isArray(l)&&l.forEach(e=>{const t=`${o}-${g.slug()}`;h(r=>({...r,[t]:e})),f({currentValue:e,name:t})})},[]);const p=({name:e,value:t})=>{h(r=>({...r,[e]:t}))};d.exports.useEffect(()=>{i({name:o,value:Object.values(s).map(e=>e)})},[s]);const f=({currentValue:e,name:t})=>{["ID","String","Int","Float"].includes(a)?u(r=>[...r,{name:t,component:n(q,{currentValue:e||s[t],handleChange:p,name:t,placeholder:O({typeNameAsString:a}).toString()})}]):u(a==="Boolean"?r=>[...r,{name:t,component:n(S,{currentValue:e||s[t],handleChange:p,name:t,options:[{value:"true",name:"True"},{value:"false",name:"False"}]})}]:r=>[...r,{name:t,component:n(S,{currentValue:e||s[t],handleChange:p,name:t,options:Q({enumTypeName:a})||[]})}])},I=({name:e})=>{u(r=>r.filter(v=>v.name!==e));const t={...s};delete t[e],h({...t})};return m(V,{children:[c.length>0&&c.map(e=>m(j,{children:[n(k,{onClick:()=>I({name:e.name}),children:n(D,{})}),e.component]},`${e.name}`)),n(b,{type:"button",onClick:()=>f({name:`${o}-${g.slug()}`}),children:`Add ${c.length>0?"another":""} ${a} +`})]})},Q=({enumTypeName:l})=>{const i=B.getState().schema;if(!i||"error"in i)return;const o=i.getType(l);if(!!R(o))return o.getValues().map(a=>({value:a.value,name:a.name,description:a.description||void 0}))};export{M as F,O as a,S as b,Q as g};
