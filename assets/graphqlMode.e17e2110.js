var gr=Object.defineProperty,vr=Object.defineProperties;var mr=Object.getOwnPropertyDescriptors;var _e=Object.getOwnPropertySymbols;var Dn=Object.prototype.hasOwnProperty,_n=Object.prototype.propertyIsEnumerable;var In=(e,n,i)=>n in e?gr(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,b=(e,n)=>{for(var i in n||(n={}))Dn.call(n,i)&&In(e,i,n[i]);if(_e)for(var i of _e(n))_n.call(n,i)&&In(e,i,n[i]);return e},R=(e,n)=>vr(e,mr(n));var Sn=(e,n)=>{var i={};for(var r in e)Dn.call(e,r)&&n.indexOf(r)<0&&(i[r]=e[r]);if(e!=null&&_e)for(var r of _e(e))n.indexOf(r)<0&&_n.call(e,r)&&(i[r]=e[r]);return i};import{ad as x,ae as z,a$ as re,az as W,ax as J,K as p,an as Qe,at as We,b0 as hr,b1 as N,b2 as ee,b3 as Pt,b4 as ce,b5 as pe,av as P,b6 as Te,b7 as Z,b8 as A,b9 as V,ba as Be,bb as $e,bc as Er,bd as Tr,be as $t,bf as xt,bg as se,ah as we,af as un,ay as cn,ag as xe,ac as oe,bh as Nr,aj as Yt,bi as ge,bj as Je,bk as yr,bl as br,bm as qt,bn as Ir,aA as Dr,bo as _r,bp as Sr,bq as Or,br as On,bs as le,bt as Bt,bu as Gt,au as wn,ao as An,ap as Fn,aq as Rn,ar as Ln,as as jn,bv as wr,bw as Ar,bx as Fr,by as Rr,bz as Lr,bA as jr,bB as kr,bC as Vr,bD as X,bE as ie,bF as Cr}from"./index.f3d81035.js";function de(e,n,i){return n===i?!0:x(i)?x(n)?de(e,n.ofType,i.ofType):!1:x(n)?de(e,n.ofType,i):z(i)?z(n)?de(e,n.ofType,i.ofType):!1:z(n)?!1:re(i)&&(W(n)||J(n))&&e.isSubType(i,n)}function kn(e,n,i){return n===i?!0:re(n)?re(i)?e.getPossibleTypes(n).some(r=>e.isSubType(i,r)):e.isSubType(n,i):re(i)?e.isSubType(i,n):!1}function G(e,n){switch(n.kind){case p.LIST_TYPE:{const i=G(e,n.type);return i&&new We(i)}case p.NON_NULL_TYPE:{const i=G(e,n.type);return i&&new Qe(i)}case p.NAMED_TYPE:return e.getType(n.name.value)}}function Mr(e){return{Document(n){for(const i of n.definitions)if(!hr(i)){const r=i.kind===p.SCHEMA_DEFINITION||i.kind===p.SCHEMA_EXTENSION?"schema":'"'+i.name.value+'"';e.reportError(new N(`The ${r} definition is not executable.`,{nodes:i}))}return!1}}}function Ur(e){return{Field(n){const i=e.getParentType();if(i&&!e.getFieldDef()){const t=e.getSchema(),a=n.name.value;let s=ee("to use an inline fragment on",Pr(t,i,a));s===""&&(s=ee($r(i,a))),e.reportError(new N(`Cannot query field "${a}" on type "${i.name}".`+s,{nodes:n}))}}}}function Pr(e,n,i){if(!re(n))return[];const r=new Set,t=Object.create(null);for(const s of e.getPossibleTypes(n))if(!!s.getFields()[i]){r.add(s),t[s.name]=1;for(const o of s.getInterfaces()){var a;!o.getFields()[i]||(r.add(o),t[o.name]=((a=t[o.name])!==null&&a!==void 0?a:0)+1)}}return[...r].sort((s,o)=>{const u=t[o.name]-t[s.name];return u!==0?u:W(s)&&e.isSubType(s,o)?-1:W(o)&&e.isSubType(o,s)?1:Pt(s.name,o.name)}).map(s=>s.name)}function $r(e,n){if(J(e)||W(e)){const i=Object.keys(e.getFields());return ce(n,i)}return[]}function xr(e){return{InlineFragment(n){const i=n.typeCondition;if(i){const r=G(e.getSchema(),i);if(r&&!pe(r)){const t=P(i);e.reportError(new N(`Fragment cannot condition on non composite type "${t}".`,{nodes:i}))}}},FragmentDefinition(n){const i=G(e.getSchema(),n.typeCondition);if(i&&!pe(i)){const r=P(n.typeCondition);e.reportError(new N(`Fragment "${n.name.value}" cannot condition on non composite type "${r}".`,{nodes:n.typeCondition}))}}}}function Yr(e){return R(b({},Xt(e)),{Argument(n){const i=e.getArgument(),r=e.getFieldDef(),t=e.getParentType();if(!i&&r&&t){const a=n.name.value,s=r.args.map(u=>u.name),o=ce(a,s);e.reportError(new N(`Unknown argument "${a}" on field "${t.name}.${r.name}".`+ee(o),{nodes:n}))}}})}function Xt(e){const n=Object.create(null),i=e.getSchema(),r=i?i.getDirectives():Te;for(const s of r)n[s.name]=s.args.map(o=>o.name);const t=e.getDocument().definitions;for(const s of t)if(s.kind===p.DIRECTIVE_DEFINITION){var a;const o=(a=s.arguments)!==null&&a!==void 0?a:[];n[s.name.value]=o.map(u=>u.name.value)}return{Directive(s){const o=s.name.value,u=n[o];if(s.arguments&&u)for(const f of s.arguments){const d=f.name.value;if(!u.includes(d)){const g=ce(d,u);e.reportError(new N(`Unknown argument "${d}" on directive "@${o}".`+ee(g),{nodes:f}))}}return!1}}}function Qt(e){const n=Object.create(null),i=e.getSchema(),r=i?i.getDirectives():Te;for(const a of r)n[a.name]=a.locations;const t=e.getDocument().definitions;for(const a of t)a.kind===p.DIRECTIVE_DEFINITION&&(n[a.name.value]=a.locations.map(s=>s.value));return{Directive(a,s,o,u,f){const d=a.name.value,g=n[d];if(!g){e.reportError(new N(`Unknown directive "@${d}".`,{nodes:a}));return}const h=qr(f);h&&!g.includes(h)&&e.reportError(new N(`Directive "@${d}" may not be used on ${h}.`,{nodes:a}))}}}function qr(e){const n=e[e.length-1];switch("kind"in n||Z(!1),n.kind){case p.OPERATION_DEFINITION:return Br(n.operation);case p.FIELD:return V.FIELD;case p.FRAGMENT_SPREAD:return V.FRAGMENT_SPREAD;case p.INLINE_FRAGMENT:return V.INLINE_FRAGMENT;case p.FRAGMENT_DEFINITION:return V.FRAGMENT_DEFINITION;case p.VARIABLE_DEFINITION:return V.VARIABLE_DEFINITION;case p.SCHEMA_DEFINITION:case p.SCHEMA_EXTENSION:return V.SCHEMA;case p.SCALAR_TYPE_DEFINITION:case p.SCALAR_TYPE_EXTENSION:return V.SCALAR;case p.OBJECT_TYPE_DEFINITION:case p.OBJECT_TYPE_EXTENSION:return V.OBJECT;case p.FIELD_DEFINITION:return V.FIELD_DEFINITION;case p.INTERFACE_TYPE_DEFINITION:case p.INTERFACE_TYPE_EXTENSION:return V.INTERFACE;case p.UNION_TYPE_DEFINITION:case p.UNION_TYPE_EXTENSION:return V.UNION;case p.ENUM_TYPE_DEFINITION:case p.ENUM_TYPE_EXTENSION:return V.ENUM;case p.ENUM_VALUE_DEFINITION:return V.ENUM_VALUE;case p.INPUT_OBJECT_TYPE_DEFINITION:case p.INPUT_OBJECT_TYPE_EXTENSION:return V.INPUT_OBJECT;case p.INPUT_VALUE_DEFINITION:{const i=e[e.length-3];return"kind"in i||Z(!1),i.kind===p.INPUT_OBJECT_TYPE_DEFINITION?V.INPUT_FIELD_DEFINITION:V.ARGUMENT_DEFINITION}default:Z(!1,"Unexpected kind: "+A(n.kind))}}function Br(e){switch(e){case Be.QUERY:return V.QUERY;case Be.MUTATION:return V.MUTATION;case Be.SUBSCRIPTION:return V.SUBSCRIPTION}}function Gr(e){return{FragmentSpread(n){const i=n.name.value;e.getFragment(i)||e.reportError(new N(`Unknown fragment "${i}".`,{nodes:n.name}))}}}function Wt(e){const n=e.getSchema(),i=n?n.getTypeMap():Object.create(null),r=Object.create(null);for(const a of e.getDocument().definitions)$e(a)&&(r[a.name.value]=!0);const t=[...Object.keys(i),...Object.keys(r)];return{NamedType(a,s,o,u,f){const d=a.name.value;if(!i[d]&&!r[d]){var g;const h=(g=f[2])!==null&&g!==void 0?g:o,m=h!=null&&Xr(h);if(m&&Vn.includes(d))return;const O=ce(d,m?Vn.concat(t):t);e.reportError(new N(`Unknown type "${d}".`+ee(O),{nodes:a}))}}}}const Vn=[...$t,...xt].map(e=>e.name);function Xr(e){return"kind"in e&&(Er(e)||Tr(e))}function Qr(e){let n=0;return{Document(i){n=i.definitions.filter(r=>r.kind===p.OPERATION_DEFINITION).length},OperationDefinition(i){!i.name&&n>1&&e.reportError(new N("This anonymous operation must be the only defined operation.",{nodes:i}))}}}function Wr(e){var n,i,r;const t=e.getSchema(),a=(n=(i=(r=t==null?void 0:t.astNode)!==null&&r!==void 0?r:t==null?void 0:t.getQueryType())!==null&&i!==void 0?i:t==null?void 0:t.getMutationType())!==null&&n!==void 0?n:t==null?void 0:t.getSubscriptionType();let s=0;return{SchemaDefinition(o){if(a){e.reportError(new N("Cannot define a new schema within a schema extension.",{nodes:o}));return}s>0&&e.reportError(new N("Must provide only one schema definition.",{nodes:o})),++s}}}function Jr(e){const n=Object.create(null),i=[],r=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(a){return t(a),!1}};function t(a){if(n[a.name.value])return;const s=a.name.value;n[s]=!0;const o=e.getFragmentSpreads(a.selectionSet);if(o.length!==0){r[s]=i.length;for(const u of o){const f=u.name.value,d=r[f];if(i.push(u),d===void 0){const g=e.getFragment(f);g&&t(g)}else{const g=i.slice(d),h=g.slice(0,-1).map(m=>'"'+m.name.value+'"').join(", ");e.reportError(new N(`Cannot spread fragment "${f}" within itself`+(h!==""?` via ${h}.`:"."),{nodes:g}))}i.pop()}r[s]=void 0}}}function Hr(e){let n=Object.create(null);return{OperationDefinition:{enter(){n=Object.create(null)},leave(i){const r=e.getRecursiveVariableUsages(i);for(const{node:t}of r){const a=t.name.value;n[a]!==!0&&e.reportError(new N(i.name?`Variable "$${a}" is not defined by operation "${i.name.value}".`:`Variable "$${a}" is not defined.`,{nodes:[t,i]}))}}},VariableDefinition(i){n[i.variable.name.value]=!0}}}function zr(e){const n=[],i=[];return{OperationDefinition(r){return n.push(r),!1},FragmentDefinition(r){return i.push(r),!1},Document:{leave(){const r=Object.create(null);for(const t of n)for(const a of e.getRecursivelyReferencedFragments(t))r[a.name.value]=!0;for(const t of i){const a=t.name.value;r[a]!==!0&&e.reportError(new N(`Fragment "${a}" is never used.`,{nodes:t}))}}}}}function Zr(e){let n=[];return{OperationDefinition:{enter(){n=[]},leave(i){const r=Object.create(null),t=e.getRecursiveVariableUsages(i);for(const{node:a}of t)r[a.name.value]=!0;for(const a of n){const s=a.variable.name.value;r[s]!==!0&&e.reportError(new N(i.name?`Variable "$${s}" is never used in operation "${i.name.value}".`:`Variable "$${s}" is never used.`,{nodes:a}))}}},VariableDefinition(i){n.push(i)}}}function fn(e){switch(e.kind){case p.OBJECT:return R(b({},e),{fields:Kr(e.fields)});case p.LIST:return R(b({},e),{values:e.values.map(fn)});case p.INT:case p.FLOAT:case p.STRING:case p.BOOLEAN:case p.NULL:case p.ENUM:case p.VARIABLE:return e}}function Kr(e){return e.map(n=>R(b({},n),{value:fn(n.value)})).sort((n,i)=>Pt(n.name.value,i.name.value))}function Jt(e){return Array.isArray(e)?e.map(([n,i])=>`subfields "${n}" conflict because `+Jt(i)).join(" and "):e}function ei(e){const n=new ai,i=new Map;return{SelectionSet(r){const t=ni(e,i,n,e.getParentType(),r);for(const[[a,s],o,u]of t){const f=Jt(s);e.reportError(new N(`Fields "${a}" conflict because ${f}. Use different aliases on the fields to fetch both if this was intentional.`,{nodes:o.concat(u)}))}}}}function ni(e,n,i,r,t){const a=[],[s,o]=Re(e,n,r,t);if(ri(e,a,n,i,s),o.length!==0)for(let u=0;u<o.length;u++){Ae(e,a,n,i,!1,s,o[u]);for(let f=u+1;f<o.length;f++)Fe(e,a,n,i,!1,o[u],o[f])}return a}function Ae(e,n,i,r,t,a,s){const o=e.getFragment(s);if(!o)return;const[u,f]=ze(e,i,o);if(a!==u){ln(e,n,i,r,t,a,u);for(const d of f)r.has(d,s,t)||(r.add(d,s,t),Ae(e,n,i,r,t,a,d))}}function Fe(e,n,i,r,t,a,s){if(a===s||r.has(a,s,t))return;r.add(a,s,t);const o=e.getFragment(a),u=e.getFragment(s);if(!o||!u)return;const[f,d]=ze(e,i,o),[g,h]=ze(e,i,u);ln(e,n,i,r,t,f,g);for(const m of h)Fe(e,n,i,r,t,a,m);for(const m of d)Fe(e,n,i,r,t,m,s)}function ti(e,n,i,r,t,a,s,o){const u=[],[f,d]=Re(e,n,t,a),[g,h]=Re(e,n,s,o);ln(e,u,n,i,r,f,g);for(const m of h)Ae(e,u,n,i,r,f,m);for(const m of d)Ae(e,u,n,i,r,g,m);for(const m of d)for(const O of h)Fe(e,u,n,i,r,m,O);return u}function ri(e,n,i,r,t){for(const[a,s]of Object.entries(t))if(s.length>1)for(let o=0;o<s.length;o++)for(let u=o+1;u<s.length;u++){const f=Ht(e,i,r,!1,a,s[o],s[u]);f&&n.push(f)}}function ln(e,n,i,r,t,a,s){for(const[o,u]of Object.entries(a)){const f=s[o];if(f)for(const d of u)for(const g of f){const h=Ht(e,i,r,t,o,d,g);h&&n.push(h)}}}function Ht(e,n,i,r,t,a,s){const[o,u,f]=a,[d,g,h]=s,m=r||o!==d&&J(o)&&J(d);if(!m){const ne=u.name.value,ye=g.name.value;if(ne!==ye)return[[t,`"${ne}" and "${ye}" are different fields`],[u],[g]];if(Cn(u)!==Cn(g))return[[t,"they have differing arguments"],[u],[g]]}const O=f==null?void 0:f.type,C=h==null?void 0:h.type;if(O&&C&&He(O,C))return[[t,`they return conflicting types "${A(O)}" and "${A(C)}"`],[u],[g]];const $=u.selectionSet,Ne=g.selectionSet;if($&&Ne){const ne=ti(e,n,i,m,se(O),$,se(C),Ne);return ii(ne,t,u,g)}}function Cn(e){var n;const i=(n=e.arguments)!==null&&n!==void 0?n:[],r={kind:p.OBJECT,fields:i.map(t=>({kind:p.OBJECT_FIELD,name:t.name,value:t.value}))};return P(fn(r))}function He(e,n){return z(e)?z(n)?He(e.ofType,n.ofType):!0:z(n)?!0:x(e)?x(n)?He(e.ofType,n.ofType):!0:x(n)?!0:we(e)||we(n)?e!==n:!1}function Re(e,n,i,r){const t=n.get(r);if(t)return t;const a=Object.create(null),s=Object.create(null);zt(e,i,r,a,s);const o=[a,Object.keys(s)];return n.set(r,o),o}function ze(e,n,i){const r=n.get(i.selectionSet);if(r)return r;const t=G(e.getSchema(),i.typeCondition);return Re(e,n,t,i.selectionSet)}function zt(e,n,i,r,t){for(const a of i.selections)switch(a.kind){case p.FIELD:{const s=a.name.value;let o;(J(n)||W(n))&&(o=n.getFields()[s]);const u=a.alias?a.alias.value:s;r[u]||(r[u]=[]),r[u].push([n,a,o]);break}case p.FRAGMENT_SPREAD:t[a.name.value]=!0;break;case p.INLINE_FRAGMENT:{const s=a.typeCondition,o=s?G(e.getSchema(),s):n;zt(e,o,a.selectionSet,r,t);break}}}function ii(e,n,i,r){if(e.length>0)return[[n,e.map(([t])=>t)],[i,...e.map(([,t])=>t).flat()],[r,...e.map(([,,t])=>t).flat()]]}class ai{constructor(){this._data=new Map}has(n,i,r){var t;const[a,s]=n<i?[n,i]:[i,n],o=(t=this._data.get(a))===null||t===void 0?void 0:t.get(s);return o===void 0?!1:r?!0:r===o}add(n,i,r){const[t,a]=n<i?[n,i]:[i,n],s=this._data.get(t);s===void 0?this._data.set(t,new Map([[a,r]])):s.set(a,r)}}function si(e){return{InlineFragment(n){const i=e.getType(),r=e.getParentType();if(pe(i)&&pe(r)&&!kn(e.getSchema(),i,r)){const t=A(r),a=A(i);e.reportError(new N(`Fragment cannot be spread here as objects of type "${t}" can never be of type "${a}".`,{nodes:n}))}},FragmentSpread(n){const i=n.name.value,r=oi(e,i),t=e.getParentType();if(r&&t&&!kn(e.getSchema(),r,t)){const a=A(t),s=A(r);e.reportError(new N(`Fragment "${i}" cannot be spread here as objects of type "${a}" can never be of type "${s}".`,{nodes:n}))}}}}function oi(e,n){const i=e.getFragment(n);if(i){const r=G(e.getSchema(),i.typeCondition);if(pe(r))return r}}function ui(e){const n=e.getSchema(),i=Object.create(null);for(const t of e.getDocument().definitions)$e(t)&&(i[t.name.value]=t);return{ScalarTypeExtension:r,ObjectTypeExtension:r,InterfaceTypeExtension:r,UnionTypeExtension:r,EnumTypeExtension:r,InputObjectTypeExtension:r};function r(t){const a=t.name.value,s=i[a],o=n==null?void 0:n.getType(a);let u;if(s?u=ci[s.kind]:o&&(u=fi(o)),u){if(u!==t.kind){const f=li(t.kind);e.reportError(new N(`Cannot extend non-${f} type "${a}".`,{nodes:s?[s,t]:t}))}}else{const f=Object.keys(b(b({},i),n==null?void 0:n.getTypeMap())),d=ce(a,f);e.reportError(new N(`Cannot extend type "${a}" because it is not defined.`+ee(d),{nodes:t.name}))}}}const ci={[p.SCALAR_TYPE_DEFINITION]:p.SCALAR_TYPE_EXTENSION,[p.OBJECT_TYPE_DEFINITION]:p.OBJECT_TYPE_EXTENSION,[p.INTERFACE_TYPE_DEFINITION]:p.INTERFACE_TYPE_EXTENSION,[p.UNION_TYPE_DEFINITION]:p.UNION_TYPE_EXTENSION,[p.ENUM_TYPE_DEFINITION]:p.ENUM_TYPE_EXTENSION,[p.INPUT_OBJECT_TYPE_DEFINITION]:p.INPUT_OBJECT_TYPE_EXTENSION};function fi(e){if(un(e))return p.SCALAR_TYPE_EXTENSION;if(J(e))return p.OBJECT_TYPE_EXTENSION;if(W(e))return p.INTERFACE_TYPE_EXTENSION;if(cn(e))return p.UNION_TYPE_EXTENSION;if(xe(e))return p.ENUM_TYPE_EXTENSION;if(oe(e))return p.INPUT_OBJECT_TYPE_EXTENSION;Z(!1,"Unexpected type: "+A(e))}function li(e){switch(e){case p.SCALAR_TYPE_EXTENSION:return"scalar";case p.OBJECT_TYPE_EXTENSION:return"object";case p.INTERFACE_TYPE_EXTENSION:return"interface";case p.UNION_TYPE_EXTENSION:return"union";case p.ENUM_TYPE_EXTENSION:return"enum";case p.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:Z(!1,"Unexpected kind: "+A(e))}}function di(e){return R(b({},Zt(e)),{Field:{leave(n){var i;const r=e.getFieldDef();if(!r)return!1;const t=new Set((i=n.arguments)===null||i===void 0?void 0:i.map(a=>a.name.value));for(const a of r.args)if(!t.has(a.name)&&Yt(a)){const s=A(a.type);e.reportError(new N(`Field "${r.name}" argument "${a.name}" of type "${s}" is required, but it was not provided.`,{nodes:n}))}}}})}function Zt(e){var n;const i=Object.create(null),r=e.getSchema(),t=(n=r==null?void 0:r.getDirectives())!==null&&n!==void 0?n:Te;for(const o of t)i[o.name]=ge(o.args.filter(Yt),u=>u.name);const a=e.getDocument().definitions;for(const o of a)if(o.kind===p.DIRECTIVE_DEFINITION){var s;const u=(s=o.arguments)!==null&&s!==void 0?s:[];i[o.name.value]=ge(u.filter(pi),f=>f.name.value)}return{Directive:{leave(o){const u=o.name.value,f=i[u];if(f){var d;const g=(d=o.arguments)!==null&&d!==void 0?d:[],h=new Set(g.map(m=>m.name.value));for(const[m,O]of Object.entries(f))if(!h.has(m)){const C=Nr(O.type)?A(O.type):P(O.type);e.reportError(new N(`Directive "@${u}" argument "${m}" of type "${C}" is required, but it was not provided.`,{nodes:o}))}}}}}}function pi(e){return e.type.kind===p.NON_NULL_TYPE&&e.defaultValue==null}function gi(e){return{Field(n){const i=e.getType(),r=n.selectionSet;if(i){if(we(se(i))){if(r){const t=n.name.value,a=A(i);e.reportError(new N(`Field "${t}" must not have a selection since type "${a}" has no subfields.`,{nodes:r}))}}else if(!r){const t=n.name.value,a=A(i);e.reportError(new N(`Field "${t}" of type "${a}" must have a selection of subfields. Did you mean "${t} { ... }"?`,{nodes:n}))}}}}}function vi(e,n,i){var r;const t={},a=(r=n.arguments)!==null&&r!==void 0?r:[],s=ge(a,o=>o.name.value);for(const o of e.args){const u=o.name,f=o.type,d=s[u];if(!d){if(o.defaultValue!==void 0)t[u]=o.defaultValue;else if(x(f))throw new N(`Argument "${u}" of required type "${A(f)}" was not provided.`,{nodes:n});continue}const g=d.value;let h=g.kind===p.NULL;if(g.kind===p.VARIABLE){const O=g.name.value;if(i==null||!mi(i,O)){if(o.defaultValue!==void 0)t[u]=o.defaultValue;else if(x(f))throw new N(`Argument "${u}" of required type "${A(f)}" was provided the variable "$${O}" which was not provided a runtime value.`,{nodes:g});continue}h=i[O]==null}if(h&&x(f))throw new N(`Argument "${u}" of non-null type "${A(f)}" must not be null.`,{nodes:g});const m=Je(g,f,i);if(m===void 0)throw new N(`Argument "${u}" has invalid value ${P(g)}.`,{nodes:g});t[u]=m}return t}function Le(e,n,i){var r;const t=(r=n.directives)===null||r===void 0?void 0:r.find(a=>a.name.value===e.name);if(t)return vi(e,t,i)}function mi(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function hi(e,n,i,r,t){const a=new Map;return Ze(e,n,i,r,t,a,new Set),a}function Ze(e,n,i,r,t,a,s){for(const o of t.selections)switch(o.kind){case p.FIELD:{if(!Ge(i,o))continue;const u=Ei(o),f=a.get(u);f!==void 0?f.push(o):a.set(u,[o]);break}case p.INLINE_FRAGMENT:{if(!Ge(i,o)||!Mn(e,o,r))continue;Ze(e,n,i,r,o.selectionSet,a,s);break}case p.FRAGMENT_SPREAD:{const u=o.name.value;if(s.has(u)||!Ge(i,o))continue;s.add(u);const f=n[u];if(!f||!Mn(e,f,r))continue;Ze(e,n,i,r,f.selectionSet,a,s);break}}}function Ge(e,n){const i=Le(yr,n,e);if((i==null?void 0:i.if)===!0)return!1;const r=Le(br,n,e);return(r==null?void 0:r.if)!==!1}function Mn(e,n,i){const r=n.typeCondition;if(!r)return!0;const t=G(e,r);return t===i?!0:re(t)?e.isSubType(t,i):!1}function Ei(e){return e.alias?e.alias.value:e.name.value}function Ti(e){return{OperationDefinition(n){if(n.operation==="subscription"){const i=e.getSchema(),r=i.getSubscriptionType();if(r){const t=n.name?n.name.value:null,a=Object.create(null),s=e.getDocument(),o=Object.create(null);for(const f of s.definitions)f.kind===p.FRAGMENT_DEFINITION&&(o[f.name.value]=f);const u=hi(i,o,a,r,n.selectionSet);if(u.size>1){const g=[...u.values()].slice(1).flat();e.reportError(new N(t!=null?`Subscription "${t}" must select only one top level field.`:"Anonymous Subscription must select only one top level field.",{nodes:g}))}for(const f of u.values())f[0].name.value.startsWith("__")&&e.reportError(new N(t!=null?`Subscription "${t}" must not select an introspection top level field.`:"Anonymous Subscription must not select an introspection top level field.",{nodes:f}))}}}}}function dn(e,n){const i=new Map;for(const r of e){const t=n(r),a=i.get(t);a===void 0?i.set(t,[r]):a.push(r)}return i}function Ni(e){return{DirectiveDefinition(r){var t;const a=(t=r.arguments)!==null&&t!==void 0?t:[];return i(`@${r.name.value}`,a)},InterfaceTypeDefinition:n,InterfaceTypeExtension:n,ObjectTypeDefinition:n,ObjectTypeExtension:n};function n(r){var t;const a=r.name.value,s=(t=r.fields)!==null&&t!==void 0?t:[];for(const u of s){var o;const f=u.name.value,d=(o=u.arguments)!==null&&o!==void 0?o:[];i(`${a}.${f}`,d)}return!1}function i(r,t){const a=dn(t,s=>s.name.value);for(const[s,o]of a)o.length>1&&e.reportError(new N(`Argument "${r}(${s}:)" can only be defined once.`,{nodes:o.map(u=>u.name)}));return!1}}function Kt(e){return{Field:n,Directive:n};function n(i){var r;const t=(r=i.arguments)!==null&&r!==void 0?r:[],a=dn(t,s=>s.name.value);for(const[s,o]of a)o.length>1&&e.reportError(new N(`There can be only one argument named "${s}".`,{nodes:o.map(u=>u.name)}))}}function yi(e){const n=Object.create(null),i=e.getSchema();return{DirectiveDefinition(r){const t=r.name.value;if(i!=null&&i.getDirective(t)){e.reportError(new N(`Directive "@${t}" already exists in the schema. It cannot be redefined.`,{nodes:r.name}));return}return n[t]?e.reportError(new N(`There can be only one directive named "@${t}".`,{nodes:[n[t],r.name]})):n[t]=r.name,!1}}}function er(e){const n=Object.create(null),i=e.getSchema(),r=i?i.getDirectives():Te;for(const o of r)n[o.name]=!o.isRepeatable;const t=e.getDocument().definitions;for(const o of t)o.kind===p.DIRECTIVE_DEFINITION&&(n[o.name.value]=!o.repeatable);const a=Object.create(null),s=Object.create(null);return{enter(o){if(!("directives"in o)||!o.directives)return;let u;if(o.kind===p.SCHEMA_DEFINITION||o.kind===p.SCHEMA_EXTENSION)u=a;else if($e(o)||qt(o)){const f=o.name.value;u=s[f],u===void 0&&(s[f]=u=Object.create(null))}else u=Object.create(null);for(const f of o.directives){const d=f.name.value;n[d]&&(u[d]?e.reportError(new N(`The directive "@${d}" can only be used once at this location.`,{nodes:[u[d],f]})):u[d]=f)}}}}function bi(e){const n=e.getSchema(),i=n?n.getTypeMap():Object.create(null),r=Object.create(null);return{EnumTypeDefinition:t,EnumTypeExtension:t};function t(a){var s;const o=a.name.value;r[o]||(r[o]=Object.create(null));const u=(s=a.values)!==null&&s!==void 0?s:[],f=r[o];for(const d of u){const g=d.name.value,h=i[o];xe(h)&&h.getValue(g)?e.reportError(new N(`Enum value "${o}.${g}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:d.name})):f[g]?e.reportError(new N(`Enum value "${o}.${g}" can only be defined once.`,{nodes:[f[g],d.name]})):f[g]=d.name}return!1}}function Ii(e){const n=e.getSchema(),i=n?n.getTypeMap():Object.create(null),r=Object.create(null);return{InputObjectTypeDefinition:t,InputObjectTypeExtension:t,InterfaceTypeDefinition:t,InterfaceTypeExtension:t,ObjectTypeDefinition:t,ObjectTypeExtension:t};function t(a){var s;const o=a.name.value;r[o]||(r[o]=Object.create(null));const u=(s=a.fields)!==null&&s!==void 0?s:[],f=r[o];for(const d of u){const g=d.name.value;Di(i[o],g)?e.reportError(new N(`Field "${o}.${g}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:d.name})):f[g]?e.reportError(new N(`Field "${o}.${g}" can only be defined once.`,{nodes:[f[g],d.name]})):f[g]=d.name}return!1}}function Di(e,n){return J(e)||W(e)||oe(e)?e.getFields()[n]!=null:!1}function _i(e){const n=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(i){const r=i.name.value;return n[r]?e.reportError(new N(`There can be only one fragment named "${r}".`,{nodes:[n[r],i.name]})):n[r]=i.name,!1}}}function nr(e){const n=[];let i=Object.create(null);return{ObjectValue:{enter(){n.push(i),i=Object.create(null)},leave(){const r=n.pop();r||Z(!1),i=r}},ObjectField(r){const t=r.name.value;i[t]?e.reportError(new N(`There can be only one input field named "${t}".`,{nodes:[i[t],r.name]})):i[t]=r.name}}}function Si(e){const n=Object.create(null);return{OperationDefinition(i){const r=i.name;return r&&(n[r.value]?e.reportError(new N(`There can be only one operation named "${r.value}".`,{nodes:[n[r.value],r]})):n[r.value]=r),!1},FragmentDefinition:()=>!1}}function Oi(e){const n=e.getSchema(),i=Object.create(null),r=n?{query:n.getQueryType(),mutation:n.getMutationType(),subscription:n.getSubscriptionType()}:{};return{SchemaDefinition:t,SchemaExtension:t};function t(a){var s;const o=(s=a.operationTypes)!==null&&s!==void 0?s:[];for(const u of o){const f=u.operation,d=i[f];r[f]?e.reportError(new N(`Type for ${f} already defined in the schema. It cannot be redefined.`,{nodes:u})):d?e.reportError(new N(`There can be only one ${f} type in schema.`,{nodes:[d,u]})):i[f]=u}return!1}}function wi(e){const n=Object.create(null),i=e.getSchema();return{ScalarTypeDefinition:r,ObjectTypeDefinition:r,InterfaceTypeDefinition:r,UnionTypeDefinition:r,EnumTypeDefinition:r,InputObjectTypeDefinition:r};function r(t){const a=t.name.value;if(i!=null&&i.getType(a)){e.reportError(new N(`Type "${a}" already exists in the schema. It cannot also be defined in this type definition.`,{nodes:t.name}));return}return n[a]?e.reportError(new N(`There can be only one type named "${a}".`,{nodes:[n[a],t.name]})):n[a]=t.name,!1}}function Ai(e){return{OperationDefinition(n){var i;const r=(i=n.variableDefinitions)!==null&&i!==void 0?i:[],t=dn(r,a=>a.variable.name.value);for(const[a,s]of t)s.length>1&&e.reportError(new N(`There can be only one variable named "$${a}".`,{nodes:s.map(o=>o.variable.name)}))}}}function Fi(e){return{ListValue(n){const i=Ir(e.getParentInputType());if(!z(i))return K(e,n),!1},ObjectValue(n){const i=se(e.getInputType());if(!oe(i))return K(e,n),!1;const r=ge(n.fields,t=>t.name.value);for(const t of Object.values(i.getFields()))if(!r[t.name]&&Dr(t)){const s=A(t.type);e.reportError(new N(`Field "${i.name}.${t.name}" of required type "${s}" was not provided.`,{nodes:n}))}},ObjectField(n){const i=se(e.getParentInputType());if(!e.getInputType()&&oe(i)){const t=ce(n.name.value,Object.keys(i.getFields()));e.reportError(new N(`Field "${n.name.value}" is not defined by type "${i.name}".`+ee(t),{nodes:n}))}},NullValue(n){const i=e.getInputType();x(i)&&e.reportError(new N(`Expected value of type "${A(i)}", found ${P(n)}.`,{nodes:n}))},EnumValue:n=>K(e,n),IntValue:n=>K(e,n),FloatValue:n=>K(e,n),StringValue:n=>K(e,n),BooleanValue:n=>K(e,n)}}function K(e,n){const i=e.getInputType();if(!i)return;const r=se(i);if(!we(r)){const t=A(i);e.reportError(new N(`Expected value of type "${t}", found ${P(n)}.`,{nodes:n}));return}try{if(r.parseLiteral(n,void 0)===void 0){const a=A(i);e.reportError(new N(`Expected value of type "${a}", found ${P(n)}.`,{nodes:n}))}}catch(t){const a=A(i);t instanceof N?e.reportError(t):e.reportError(new N(`Expected value of type "${a}", found ${P(n)}; `+t.message,{nodes:n,originalError:t}))}}function Ri(e){return{VariableDefinition(n){const i=G(e.getSchema(),n.type);if(i!==void 0&&!_r(i)){const r=n.variable.name.value,t=P(n.type);e.reportError(new N(`Variable "$${r}" cannot be non-input type "${t}".`,{nodes:n.type}))}}}}function Li(e){let n=Object.create(null);return{OperationDefinition:{enter(){n=Object.create(null)},leave(i){const r=e.getRecursiveVariableUsages(i);for(const{node:t,type:a,defaultValue:s}of r){const o=t.name.value,u=n[o];if(u&&a){const f=e.getSchema(),d=G(f,u.type);if(d&&!ji(f,d,u.defaultValue,a,s)){const g=A(d),h=A(a);e.reportError(new N(`Variable "$${o}" of type "${g}" used in position expecting type "${h}".`,{nodes:[u,t]}))}}}}},VariableDefinition(i){n[i.variable.name.value]=i}}}function ji(e,n,i,r,t){if(x(r)&&!x(n)){if(!(i!=null&&i.kind!==p.NULL)&&!(t!==void 0))return!1;const o=r.ofType;return de(e,n,o)}return de(e,n,r)}Object.freeze([Mr,Si,Qr,Ti,Wt,xr,Ri,gi,Ur,_i,Gr,zr,si,Jr,Ai,Hr,Zr,Qt,er,Yr,Kt,Fi,di,Li,ei,nr]);const ki=Object.freeze([Wr,Oi,wi,bi,Ii,Ni,yi,Wt,Qt,er,ui,Xt,Kt,nr,Zt]);class Vi{constructor(n,i){this._ast=n,this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=i}get[Symbol.toStringTag](){return"ASTValidationContext"}reportError(n){this._onError(n)}getDocument(){return this._ast}getFragment(n){let i;if(this._fragments)i=this._fragments;else{i=Object.create(null);for(const r of this.getDocument().definitions)r.kind===p.FRAGMENT_DEFINITION&&(i[r.name.value]=r);this._fragments=i}return i[n]}getFragmentSpreads(n){let i=this._fragmentSpreads.get(n);if(!i){i=[];const r=[n];let t;for(;t=r.pop();)for(const a of t.selections)a.kind===p.FRAGMENT_SPREAD?i.push(a):a.selectionSet&&r.push(a.selectionSet);this._fragmentSpreads.set(n,i)}return i}getRecursivelyReferencedFragments(n){let i=this._recursivelyReferencedFragments.get(n);if(!i){i=[];const r=Object.create(null),t=[n.selectionSet];let a;for(;a=t.pop();)for(const s of this.getFragmentSpreads(a)){const o=s.name.value;if(r[o]!==!0){r[o]=!0;const u=this.getFragment(o);u&&(i.push(u),t.push(u.selectionSet))}}this._recursivelyReferencedFragments.set(n,i)}return i}}class Ci extends Vi{constructor(n,i,r){super(n,r),this._schema=i}get[Symbol.toStringTag](){return"SDLValidationContext"}getSchema(){return this._schema}}function Mi(e,n,i=ki){const r=[],t=new Ci(e,n,s=>{r.push(s)}),a=i.map(s=>s(t));return Sr(e,Or(a)),r}function Ui(e){const n=Mi(e);if(n.length!==0)throw new Error(n.map(i=>i.message).join(`

`))}function Pi(e,n,i){var r,t,a,s;const o=[],u=Object.create(null),f=[];let d;const g=[];for(const l of n.definitions)if(l.kind===p.SCHEMA_DEFINITION)d=l;else if(l.kind===p.SCHEMA_EXTENSION)g.push(l);else if($e(l))o.push(l);else if(qt(l)){const E=l.name.value,v=u[E];u[E]=v?v.concat([l]):[l]}else l.kind===p.DIRECTIVE_DEFINITION&&f.push(l);if(Object.keys(u).length===0&&o.length===0&&f.length===0&&g.length===0&&d==null)return e;const h=Object.create(null);for(const l of e.types)h[l.name]=ne(l);for(const l of o){var m;const E=l.name.value;h[E]=(m=Un[E])!==null&&m!==void 0?m:pr(l)}const O=b(b({query:e.query&&$(e.query),mutation:e.mutation&&$(e.mutation),subscription:e.subscription&&$(e.subscription)},d&&En([d])),En(g));return R(b({description:(r=d)===null||r===void 0||(t=r.description)===null||t===void 0?void 0:t.value},O),{types:Object.values(h),directives:[...e.directives.map(Ne),...f.map(dr)],extensions:Object.create(null),astNode:(a=d)!==null&&a!==void 0?a:e.astNode,extensionASTNodes:e.extensionASTNodes.concat(g),assumeValid:(s=i==null?void 0:i.assumeValid)!==null&&s!==void 0?s:!1});function C(l){return z(l)?new We(C(l.ofType)):x(l)?new Qe(C(l.ofType)):$(l)}function $(l){return h[l.name]}function Ne(l){const E=l.toConfig();return new On(R(b({},E),{args:le(E.args,hn)}))}function ne(l){if(Bt(l)||Gt(l))return l;if(un(l))return ur(l);if(J(l))return cr(l);if(W(l))return fr(l);if(cn(l))return lr(l);if(xe(l))return or(l);if(oe(l))return ye(l);Z(!1,"Unexpected type: "+A(l))}function ye(l){var E;const v=l.toConfig(),T=(E=u[v.name])!==null&&E!==void 0?E:[];return new jn(R(b({},v),{fields:()=>b(b({},le(v.fields,w=>R(b({},w),{type:C(w.type)}))),Nn(T)),extensionASTNodes:v.extensionASTNodes.concat(T)}))}function or(l){var E;const v=l.toConfig(),T=(E=u[l.name])!==null&&E!==void 0?E:[];return new Ln(R(b({},v),{values:b(b({},v.values),yn(T)),extensionASTNodes:v.extensionASTNodes.concat(T)}))}function ur(l){var E;const v=l.toConfig(),T=(E=u[v.name])!==null&&E!==void 0?E:[];let w=v.specifiedByURL;for(const F of T){var k;w=(k=Pn(F))!==null&&k!==void 0?k:w}return new wn(R(b({},v),{specifiedByURL:w,extensionASTNodes:v.extensionASTNodes.concat(T)}))}function cr(l){var E;const v=l.toConfig(),T=(E=u[v.name])!==null&&E!==void 0?E:[];return new An(R(b({},v),{interfaces:()=>[...l.getInterfaces().map($),...De(T)],fields:()=>b(b({},le(v.fields,mn)),Ie(T)),extensionASTNodes:v.extensionASTNodes.concat(T)}))}function fr(l){var E;const v=l.toConfig(),T=(E=u[v.name])!==null&&E!==void 0?E:[];return new Fn(R(b({},v),{interfaces:()=>[...l.getInterfaces().map($),...De(T)],fields:()=>b(b({},le(v.fields,mn)),Ie(T)),extensionASTNodes:v.extensionASTNodes.concat(T)}))}function lr(l){var E;const v=l.toConfig(),T=(E=u[v.name])!==null&&E!==void 0?E:[];return new Rn(R(b({},v),{types:()=>[...l.getTypes().map($),...bn(T)],extensionASTNodes:v.extensionASTNodes.concat(T)}))}function mn(l){return R(b({},l),{type:C(l.type),args:l.args&&le(l.args,hn)})}function hn(l){return R(b({},l),{type:C(l.type)})}function En(l){const E={};for(const T of l){var v;const w=(v=T.operationTypes)!==null&&v!==void 0?v:[];for(const k of w)E[k.operation]=be(k.type)}return E}function be(l){var E;const v=l.name.value,T=(E=Un[v])!==null&&E!==void 0?E:h[v];if(T===void 0)throw new Error(`Unknown type: "${v}".`);return T}function fe(l){return l.kind===p.LIST_TYPE?new We(fe(l.type)):l.kind===p.NON_NULL_TYPE?new Qe(fe(l.type)):be(l)}function dr(l){var E;return new On({name:l.name.value,description:(E=l.description)===null||E===void 0?void 0:E.value,locations:l.locations.map(({value:v})=>v),isRepeatable:l.repeatable,args:Tn(l.arguments),astNode:l})}function Ie(l){const E=Object.create(null);for(const w of l){var v;const k=(v=w.fields)!==null&&v!==void 0?v:[];for(const F of k){var T;E[F.name.value]={type:fe(F.type),description:(T=F.description)===null||T===void 0?void 0:T.value,args:Tn(F.arguments),deprecationReason:Se(F),astNode:F}}}return E}function Tn(l){const E=l!=null?l:[],v=Object.create(null);for(const w of E){var T;const k=fe(w.type);v[w.name.value]={type:k,description:(T=w.description)===null||T===void 0?void 0:T.value,defaultValue:Je(w.defaultValue,k),deprecationReason:Se(w),astNode:w}}return v}function Nn(l){const E=Object.create(null);for(const w of l){var v;const k=(v=w.fields)!==null&&v!==void 0?v:[];for(const F of k){var T;const te=fe(F.type);E[F.name.value]={type:te,description:(T=F.description)===null||T===void 0?void 0:T.value,defaultValue:Je(F.defaultValue,te),deprecationReason:Se(F),astNode:F}}}return E}function yn(l){const E=Object.create(null);for(const w of l){var v;const k=(v=w.values)!==null&&v!==void 0?v:[];for(const F of k){var T;E[F.name.value]={description:(T=F.description)===null||T===void 0?void 0:T.value,deprecationReason:Se(F),astNode:F}}}return E}function De(l){return l.flatMap(E=>{var v,T;return(v=(T=E.interfaces)===null||T===void 0?void 0:T.map(be))!==null&&v!==void 0?v:[]})}function bn(l){return l.flatMap(E=>{var v,T;return(v=(T=E.types)===null||T===void 0?void 0:T.map(be))!==null&&v!==void 0?v:[]})}function pr(l){var E;const v=l.name.value,T=(E=u[v])!==null&&E!==void 0?E:[];switch(l.kind){case p.OBJECT_TYPE_DEFINITION:{var w;const q=[l,...T];return new An({name:v,description:(w=l.description)===null||w===void 0?void 0:w.value,interfaces:()=>De(q),fields:()=>Ie(q),astNode:l,extensionASTNodes:T})}case p.INTERFACE_TYPE_DEFINITION:{var k;const q=[l,...T];return new Fn({name:v,description:(k=l.description)===null||k===void 0?void 0:k.value,interfaces:()=>De(q),fields:()=>Ie(q),astNode:l,extensionASTNodes:T})}case p.ENUM_TYPE_DEFINITION:{var F;const q=[l,...T];return new Ln({name:v,description:(F=l.description)===null||F===void 0?void 0:F.value,values:yn(q),astNode:l,extensionASTNodes:T})}case p.UNION_TYPE_DEFINITION:{var te;const q=[l,...T];return new Rn({name:v,description:(te=l.description)===null||te===void 0?void 0:te.value,types:()=>bn(q),astNode:l,extensionASTNodes:T})}case p.SCALAR_TYPE_DEFINITION:{var Ye;return new wn({name:v,description:(Ye=l.description)===null||Ye===void 0?void 0:Ye.value,specifiedByURL:Pn(l),astNode:l,extensionASTNodes:T})}case p.INPUT_OBJECT_TYPE_DEFINITION:{var qe;const q=[l,...T];return new jn({name:v,description:(qe=l.description)===null||qe===void 0?void 0:qe.value,fields:()=>Nn(q),astNode:l,extensionASTNodes:T})}}}}const Un=ge([...$t,...xt],e=>e.name);function Se(e){const n=Le(wr,e);return n==null?void 0:n.reason}function Pn(e){const n=Le(Ar,e);return n==null?void 0:n.url}function $i(e,n){e!=null&&e.kind===p.DOCUMENT||Rr(!1,"Must provide valid Document AST."),(n==null?void 0:n.assumeValid)!==!0&&(n==null?void 0:n.assumeValidSDL)!==!0&&Ui(e);const r=Pi({description:void 0,types:[],directives:[],extensions:Object.create(null),extensionASTNodes:[],assumeValid:!1},e,n);if(r.astNode==null)for(const a of r.types)switch(a.name){case"Query":r.query=a;break;case"Mutation":r.mutation=a;break;case"Subscription":r.subscription=a;break}const t=[...r.directives,...Te.filter(a=>r.directives.every(s=>s.name!==a.name))];return new Fr(R(b({},r),{directives:t}))}function $n(e){return Yi(e,n=>!Vr(n),xi)}function xi(e){return!Gt(e)&&!Bt(e)}function Yi(e,n,i){const r=e.getDirectives().filter(n),t=Object.values(e.getTypeMap()).filter(i);return[qi(e),...r.map(a=>Zi(a)),...t.map(a=>Gi(a))].filter(Boolean).join(`

`)}function qi(e){if(e.description==null&&Bi(e))return;const n=[],i=e.getQueryType();i&&n.push(`  query: ${i.name}`);const r=e.getMutationType();r&&n.push(`  mutation: ${r.name}`);const t=e.getSubscriptionType();return t&&n.push(`  subscription: ${t.name}`),Y(e)+`schema {
${n.join(`
`)}
}`}function Bi(e){const n=e.getQueryType();if(n&&n.name!=="Query")return!1;const i=e.getMutationType();if(i&&i.name!=="Mutation")return!1;const r=e.getSubscriptionType();return!(r&&r.name!=="Subscription")}function Gi(e){if(un(e))return Xi(e);if(J(e))return Qi(e);if(W(e))return Wi(e);if(cn(e))return Ji(e);if(xe(e))return Hi(e);if(oe(e))return zi(e);Z(!1,"Unexpected type: "+A(e))}function Xi(e){return Y(e)+`scalar ${e.name}`+Ki(e)}function tr(e){const n=e.getInterfaces();return n.length?" implements "+n.map(i=>i.name).join(" & "):""}function Qi(e){return Y(e)+`type ${e.name}`+tr(e)+rr(e)}function Wi(e){return Y(e)+`interface ${e.name}`+tr(e)+rr(e)}function Ji(e){const n=e.getTypes(),i=n.length?" = "+n.join(" | "):"";return Y(e)+"union "+e.name+i}function Hi(e){const n=e.getValues().map((i,r)=>Y(i,"  ",!r)+"  "+i.name+gn(i.deprecationReason));return Y(e)+`enum ${e.name}`+pn(n)}function zi(e){const n=Object.values(e.getFields()).map((i,r)=>Y(i,"  ",!r)+"  "+Ke(i));return Y(e)+`input ${e.name}`+pn(n)}function rr(e){const n=Object.values(e.getFields()).map((i,r)=>Y(i,"  ",!r)+"  "+i.name+ir(i.args,"  ")+": "+String(i.type)+gn(i.deprecationReason));return pn(n)}function pn(e){return e.length!==0?` {
`+e.join(`
`)+`
}`:""}function ir(e,n=""){return e.length===0?"":e.every(i=>!i.description)?"("+e.map(Ke).join(", ")+")":`(
`+e.map((i,r)=>Y(i,"  "+n,!r)+"  "+n+Ke(i)).join(`
`)+`
`+n+")"}function Ke(e){const n=Lr(e.defaultValue,e.type);let i=e.name+": "+String(e.type);return n&&(i+=` = ${P(n)}`),i+gn(e.deprecationReason)}function Zi(e){return Y(e)+"directive @"+e.name+ir(e.args)+(e.isRepeatable?" repeatable":"")+" on "+e.locations.join(" | ")}function gn(e){return e==null?"":e!==jr?` @deprecated(reason: ${P({kind:p.STRING,value:e})})`:" @deprecated"}function Ki(e){return e.specifiedByURL==null?"":` @specifiedBy(url: ${P({kind:p.STRING,value:e.specifiedByURL})})`}function Y(e,n="",i=!0){const{description:r}=e;if(r==null)return"";const t=P({kind:p.STRING,value:r,block:kr(r)});return(n&&!i?`
`+n:n)+t.replace(/\n/g,`
`+n)+`
`}var xn;(function(e){function n(i){return typeof i=="string"}e.is=n})(xn||(xn={}));var en;(function(e){function n(i){return typeof i=="string"}e.is=n})(en||(en={}));var Yn;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function n(i){return typeof i=="number"&&e.MIN_VALUE<=i&&i<=e.MAX_VALUE}e.is=n})(Yn||(Yn={}));var je;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function n(i){return typeof i=="number"&&e.MIN_VALUE<=i&&i<=e.MAX_VALUE}e.is=n})(je||(je={}));var B;(function(e){function n(r,t){return r===Number.MAX_VALUE&&(r=je.MAX_VALUE),t===Number.MAX_VALUE&&(t=je.MAX_VALUE),{line:r,character:t}}e.create=n;function i(r){var t=r;return c.objectLiteral(t)&&c.uinteger(t.line)&&c.uinteger(t.character)}e.is=i})(B||(B={}));var j;(function(e){function n(r,t,a,s){if(c.uinteger(r)&&c.uinteger(t)&&c.uinteger(a)&&c.uinteger(s))return{start:B.create(r,t),end:B.create(a,s)};if(B.is(r)&&B.is(t))return{start:r,end:t};throw new Error("Range#create called with invalid arguments[".concat(r,", ").concat(t,", ").concat(a,", ").concat(s,"]"))}e.create=n;function i(r){var t=r;return c.objectLiteral(t)&&B.is(t.start)&&B.is(t.end)}e.is=i})(j||(j={}));var ke;(function(e){function n(r,t){return{uri:r,range:t}}e.create=n;function i(r){var t=r;return c.defined(t)&&j.is(t.range)&&(c.string(t.uri)||c.undefined(t.uri))}e.is=i})(ke||(ke={}));var qn;(function(e){function n(r,t,a,s){return{targetUri:r,targetRange:t,targetSelectionRange:a,originSelectionRange:s}}e.create=n;function i(r){var t=r;return c.defined(t)&&j.is(t.targetRange)&&c.string(t.targetUri)&&j.is(t.targetSelectionRange)&&(j.is(t.originSelectionRange)||c.undefined(t.originSelectionRange))}e.is=i})(qn||(qn={}));var nn;(function(e){function n(r,t,a,s){return{red:r,green:t,blue:a,alpha:s}}e.create=n;function i(r){var t=r;return c.objectLiteral(t)&&c.numberRange(t.red,0,1)&&c.numberRange(t.green,0,1)&&c.numberRange(t.blue,0,1)&&c.numberRange(t.alpha,0,1)}e.is=i})(nn||(nn={}));var Bn;(function(e){function n(r,t){return{range:r,color:t}}e.create=n;function i(r){var t=r;return c.objectLiteral(t)&&j.is(t.range)&&nn.is(t.color)}e.is=i})(Bn||(Bn={}));var Gn;(function(e){function n(r,t,a){return{label:r,textEdit:t,additionalTextEdits:a}}e.create=n;function i(r){var t=r;return c.objectLiteral(t)&&c.string(t.label)&&(c.undefined(t.textEdit)||Q.is(t))&&(c.undefined(t.additionalTextEdits)||c.typedArray(t.additionalTextEdits,Q.is))}e.is=i})(Gn||(Gn={}));var Xn;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Xn||(Xn={}));var Qn;(function(e){function n(r,t,a,s,o,u){var f={startLine:r,endLine:t};return c.defined(a)&&(f.startCharacter=a),c.defined(s)&&(f.endCharacter=s),c.defined(o)&&(f.kind=o),c.defined(u)&&(f.collapsedText=u),f}e.create=n;function i(r){var t=r;return c.objectLiteral(t)&&c.uinteger(t.startLine)&&c.uinteger(t.startLine)&&(c.undefined(t.startCharacter)||c.uinteger(t.startCharacter))&&(c.undefined(t.endCharacter)||c.uinteger(t.endCharacter))&&(c.undefined(t.kind)||c.string(t.kind))}e.is=i})(Qn||(Qn={}));var tn;(function(e){function n(r,t){return{location:r,message:t}}e.create=n;function i(r){var t=r;return c.defined(t)&&ke.is(t.location)&&c.string(t.message)}e.is=i})(tn||(tn={}));var Wn;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Wn||(Wn={}));var Jn;(function(e){e.Unnecessary=1,e.Deprecated=2})(Jn||(Jn={}));var Hn;(function(e){function n(i){var r=i;return c.objectLiteral(r)&&c.string(r.href)}e.is=n})(Hn||(Hn={}));var Ve;(function(e){function n(r,t,a,s,o,u){var f={range:r,message:t};return c.defined(a)&&(f.severity=a),c.defined(s)&&(f.code=s),c.defined(o)&&(f.source=o),c.defined(u)&&(f.relatedInformation=u),f}e.create=n;function i(r){var t,a=r;return c.defined(a)&&j.is(a.range)&&c.string(a.message)&&(c.number(a.severity)||c.undefined(a.severity))&&(c.integer(a.code)||c.string(a.code)||c.undefined(a.code))&&(c.undefined(a.codeDescription)||c.string((t=a.codeDescription)===null||t===void 0?void 0:t.href))&&(c.string(a.source)||c.undefined(a.source))&&(c.undefined(a.relatedInformation)||c.typedArray(a.relatedInformation,tn.is))}e.is=i})(Ve||(Ve={}));var ue;(function(e){function n(r,t){for(var a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];var o={title:r,command:t};return c.defined(a)&&a.length>0&&(o.arguments=a),o}e.create=n;function i(r){var t=r;return c.defined(t)&&c.string(t.title)&&c.string(t.command)}e.is=i})(ue||(ue={}));var Q;(function(e){function n(a,s){return{range:a,newText:s}}e.replace=n;function i(a,s){return{range:{start:a,end:a},newText:s}}e.insert=i;function r(a){return{range:a,newText:""}}e.del=r;function t(a){var s=a;return c.objectLiteral(s)&&c.string(s.newText)&&j.is(s.range)}e.is=t})(Q||(Q={}));var ae;(function(e){function n(r,t,a){var s={label:r};return t!==void 0&&(s.needsConfirmation=t),a!==void 0&&(s.description=a),s}e.create=n;function i(r){var t=r;return c.objectLiteral(t)&&c.string(t.label)&&(c.boolean(t.needsConfirmation)||t.needsConfirmation===void 0)&&(c.string(t.description)||t.description===void 0)}e.is=i})(ae||(ae={}));var U;(function(e){function n(i){var r=i;return c.string(r)}e.is=n})(U||(U={}));var H;(function(e){function n(a,s,o){return{range:a,newText:s,annotationId:o}}e.replace=n;function i(a,s,o){return{range:{start:a,end:a},newText:s,annotationId:o}}e.insert=i;function r(a,s){return{range:a,newText:"",annotationId:s}}e.del=r;function t(a){var s=a;return Q.is(s)&&(ae.is(s.annotationId)||U.is(s.annotationId))}e.is=t})(H||(H={}));var Ce;(function(e){function n(r,t){return{textDocument:r,edits:t}}e.create=n;function i(r){var t=r;return c.defined(t)&&Me.is(t.textDocument)&&Array.isArray(t.edits)}e.is=i})(Ce||(Ce={}));var ve;(function(e){function n(r,t,a){var s={kind:"create",uri:r};return t!==void 0&&(t.overwrite!==void 0||t.ignoreIfExists!==void 0)&&(s.options=t),a!==void 0&&(s.annotationId=a),s}e.create=n;function i(r){var t=r;return t&&t.kind==="create"&&c.string(t.uri)&&(t.options===void 0||(t.options.overwrite===void 0||c.boolean(t.options.overwrite))&&(t.options.ignoreIfExists===void 0||c.boolean(t.options.ignoreIfExists)))&&(t.annotationId===void 0||U.is(t.annotationId))}e.is=i})(ve||(ve={}));var me;(function(e){function n(r,t,a,s){var o={kind:"rename",oldUri:r,newUri:t};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(o.options=a),s!==void 0&&(o.annotationId=s),o}e.create=n;function i(r){var t=r;return t&&t.kind==="rename"&&c.string(t.oldUri)&&c.string(t.newUri)&&(t.options===void 0||(t.options.overwrite===void 0||c.boolean(t.options.overwrite))&&(t.options.ignoreIfExists===void 0||c.boolean(t.options.ignoreIfExists)))&&(t.annotationId===void 0||U.is(t.annotationId))}e.is=i})(me||(me={}));var he;(function(e){function n(r,t,a){var s={kind:"delete",uri:r};return t!==void 0&&(t.recursive!==void 0||t.ignoreIfNotExists!==void 0)&&(s.options=t),a!==void 0&&(s.annotationId=a),s}e.create=n;function i(r){var t=r;return t&&t.kind==="delete"&&c.string(t.uri)&&(t.options===void 0||(t.options.recursive===void 0||c.boolean(t.options.recursive))&&(t.options.ignoreIfNotExists===void 0||c.boolean(t.options.ignoreIfNotExists)))&&(t.annotationId===void 0||U.is(t.annotationId))}e.is=i})(he||(he={}));var rn;(function(e){function n(i){var r=i;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(function(t){return c.string(t.kind)?ve.is(t)||me.is(t)||he.is(t):Ce.is(t)}))}e.is=n})(rn||(rn={}));var Oe=function(){function e(n,i){this.edits=n,this.changeAnnotations=i}return e.prototype.insert=function(n,i,r){var t,a;if(r===void 0?t=Q.insert(n,i):U.is(r)?(a=r,t=H.insert(n,i,r)):(this.assertChangeAnnotations(this.changeAnnotations),a=this.changeAnnotations.manage(r),t=H.insert(n,i,a)),this.edits.push(t),a!==void 0)return a},e.prototype.replace=function(n,i,r){var t,a;if(r===void 0?t=Q.replace(n,i):U.is(r)?(a=r,t=H.replace(n,i,r)):(this.assertChangeAnnotations(this.changeAnnotations),a=this.changeAnnotations.manage(r),t=H.replace(n,i,a)),this.edits.push(t),a!==void 0)return a},e.prototype.delete=function(n,i){var r,t;if(i===void 0?r=Q.del(n):U.is(i)?(t=i,r=H.del(n,i)):(this.assertChangeAnnotations(this.changeAnnotations),t=this.changeAnnotations.manage(i),r=H.del(n,t)),this.edits.push(r),t!==void 0)return t},e.prototype.add=function(n){this.edits.push(n)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(n){if(n===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),zn=function(){function e(n){this._annotations=n===void 0?Object.create(null):n,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(n,i){var r;if(U.is(n)?r=n:(r=this.nextId(),i=n),this._annotations[r]!==void 0)throw new Error("Id ".concat(r," is already in use."));if(i===void 0)throw new Error("No annotation provided for id ".concat(r));return this._annotations[r]=i,this._size++,r},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}();(function(){function e(n){var i=this;this._textEditChanges=Object.create(null),n!==void 0?(this._workspaceEdit=n,n.documentChanges?(this._changeAnnotations=new zn(n.changeAnnotations),n.changeAnnotations=this._changeAnnotations.all(),n.documentChanges.forEach(function(r){if(Ce.is(r)){var t=new Oe(r.edits,i._changeAnnotations);i._textEditChanges[r.textDocument.uri]=t}})):n.changes&&Object.keys(n.changes).forEach(function(r){var t=new Oe(n.changes[r]);i._textEditChanges[r]=t})):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(n){if(Me.is(n)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i={uri:n.uri,version:n.version},r=this._textEditChanges[i.uri];if(!r){var t=[],a={textDocument:i,edits:t};this._workspaceEdit.documentChanges.push(a),r=new Oe(t,this._changeAnnotations),this._textEditChanges[i.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var r=this._textEditChanges[n];if(!r){var t=[];this._workspaceEdit.changes[n]=t,r=new Oe(t),this._textEditChanges[n]=r}return r}},e.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new zn,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(n,i,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var t;ae.is(i)||U.is(i)?t=i:r=i;var a,s;if(t===void 0?a=ve.create(n,r):(s=U.is(t)?t:this._changeAnnotations.manage(t),a=ve.create(n,r,s)),this._workspaceEdit.documentChanges.push(a),s!==void 0)return s},e.prototype.renameFile=function(n,i,r,t){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var a;ae.is(r)||U.is(r)?a=r:t=r;var s,o;if(a===void 0?s=me.create(n,i,t):(o=U.is(a)?a:this._changeAnnotations.manage(a),s=me.create(n,i,t,o)),this._workspaceEdit.documentChanges.push(s),o!==void 0)return o},e.prototype.deleteFile=function(n,i,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var t;ae.is(i)||U.is(i)?t=i:r=i;var a,s;if(t===void 0?a=he.create(n,r):(s=U.is(t)?t:this._changeAnnotations.manage(t),a=he.create(n,r,s)),this._workspaceEdit.documentChanges.push(a),s!==void 0)return s},e})();var Zn;(function(e){function n(r){return{uri:r}}e.create=n;function i(r){var t=r;return c.defined(t)&&c.string(t.uri)}e.is=i})(Zn||(Zn={}));var Kn;(function(e){function n(r,t){return{uri:r,version:t}}e.create=n;function i(r){var t=r;return c.defined(t)&&c.string(t.uri)&&c.integer(t.version)}e.is=i})(Kn||(Kn={}));var Me;(function(e){function n(r,t){return{uri:r,version:t}}e.create=n;function i(r){var t=r;return c.defined(t)&&c.string(t.uri)&&(t.version===null||c.integer(t.version))}e.is=i})(Me||(Me={}));var et;(function(e){function n(r,t,a,s){return{uri:r,languageId:t,version:a,text:s}}e.create=n;function i(r){var t=r;return c.defined(t)&&c.string(t.uri)&&c.string(t.languageId)&&c.integer(t.version)&&c.string(t.text)}e.is=i})(et||(et={}));var an;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function n(i){var r=i;return r===e.PlainText||r===e.Markdown}e.is=n})(an||(an={}));var Ee;(function(e){function n(i){var r=i;return c.objectLiteral(i)&&an.is(r.kind)&&c.string(r.value)}e.is=n})(Ee||(Ee={}));var nt;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(nt||(nt={}));var tt;(function(e){e.PlainText=1,e.Snippet=2})(tt||(tt={}));var rt;(function(e){e.Deprecated=1})(rt||(rt={}));var it;(function(e){function n(r,t,a){return{newText:r,insert:t,replace:a}}e.create=n;function i(r){var t=r;return t&&c.string(t.newText)&&j.is(t.insert)&&j.is(t.replace)}e.is=i})(it||(it={}));var at;(function(e){e.asIs=1,e.adjustIndentation=2})(at||(at={}));var st;(function(e){function n(i){var r=i;return r&&(c.string(r.detail)||r.detail===void 0)&&(c.string(r.description)||r.description===void 0)}e.is=n})(st||(st={}));var ot;(function(e){function n(i){return{label:i}}e.create=n})(ot||(ot={}));var ut;(function(e){function n(i,r){return{items:i||[],isIncomplete:!!r}}e.create=n})(ut||(ut={}));var Ue;(function(e){function n(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=n;function i(r){var t=r;return c.string(t)||c.objectLiteral(t)&&c.string(t.language)&&c.string(t.value)}e.is=i})(Ue||(Ue={}));var ct;(function(e){function n(i){var r=i;return!!r&&c.objectLiteral(r)&&(Ee.is(r.contents)||Ue.is(r.contents)||c.typedArray(r.contents,Ue.is))&&(i.range===void 0||j.is(i.range))}e.is=n})(ct||(ct={}));var ft;(function(e){function n(i,r){return r?{label:i,documentation:r}:{label:i}}e.create=n})(ft||(ft={}));var lt;(function(e){function n(i,r){for(var t=[],a=2;a<arguments.length;a++)t[a-2]=arguments[a];var s={label:i};return c.defined(r)&&(s.documentation=r),c.defined(t)?s.parameters=t:s.parameters=[],s}e.create=n})(lt||(lt={}));var dt;(function(e){e.Text=1,e.Read=2,e.Write=3})(dt||(dt={}));var pt;(function(e){function n(i,r){var t={range:i};return c.number(r)&&(t.kind=r),t}e.create=n})(pt||(pt={}));var gt;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(gt||(gt={}));var vt;(function(e){e.Deprecated=1})(vt||(vt={}));var mt;(function(e){function n(i,r,t,a,s){var o={name:i,kind:r,location:{uri:a,range:t}};return s&&(o.containerName=s),o}e.create=n})(mt||(mt={}));var ht;(function(e){function n(i,r,t,a){return a!==void 0?{name:i,kind:r,location:{uri:t,range:a}}:{name:i,kind:r,location:{uri:t}}}e.create=n})(ht||(ht={}));var Et;(function(e){function n(r,t,a,s,o,u){var f={name:r,detail:t,kind:a,range:s,selectionRange:o};return u!==void 0&&(f.children=u),f}e.create=n;function i(r){var t=r;return t&&c.string(t.name)&&c.number(t.kind)&&j.is(t.range)&&j.is(t.selectionRange)&&(t.detail===void 0||c.string(t.detail))&&(t.deprecated===void 0||c.boolean(t.deprecated))&&(t.children===void 0||Array.isArray(t.children))&&(t.tags===void 0||Array.isArray(t.tags))}e.is=i})(Et||(Et={}));var Tt;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(Tt||(Tt={}));var Pe;(function(e){e.Invoked=1,e.Automatic=2})(Pe||(Pe={}));var Nt;(function(e){function n(r,t,a){var s={diagnostics:r};return t!=null&&(s.only=t),a!=null&&(s.triggerKind=a),s}e.create=n;function i(r){var t=r;return c.defined(t)&&c.typedArray(t.diagnostics,Ve.is)&&(t.only===void 0||c.typedArray(t.only,c.string))&&(t.triggerKind===void 0||t.triggerKind===Pe.Invoked||t.triggerKind===Pe.Automatic)}e.is=i})(Nt||(Nt={}));var yt;(function(e){function n(r,t,a){var s={title:r},o=!0;return typeof t=="string"?(o=!1,s.kind=t):ue.is(t)?s.command=t:s.edit=t,o&&a!==void 0&&(s.kind=a),s}e.create=n;function i(r){var t=r;return t&&c.string(t.title)&&(t.diagnostics===void 0||c.typedArray(t.diagnostics,Ve.is))&&(t.kind===void 0||c.string(t.kind))&&(t.edit!==void 0||t.command!==void 0)&&(t.command===void 0||ue.is(t.command))&&(t.isPreferred===void 0||c.boolean(t.isPreferred))&&(t.edit===void 0||rn.is(t.edit))}e.is=i})(yt||(yt={}));var bt;(function(e){function n(r,t){var a={range:r};return c.defined(t)&&(a.data=t),a}e.create=n;function i(r){var t=r;return c.defined(t)&&j.is(t.range)&&(c.undefined(t.command)||ue.is(t.command))}e.is=i})(bt||(bt={}));var It;(function(e){function n(r,t){return{tabSize:r,insertSpaces:t}}e.create=n;function i(r){var t=r;return c.defined(t)&&c.uinteger(t.tabSize)&&c.boolean(t.insertSpaces)}e.is=i})(It||(It={}));var Dt;(function(e){function n(r,t,a){return{range:r,target:t,data:a}}e.create=n;function i(r){var t=r;return c.defined(t)&&j.is(t.range)&&(c.undefined(t.target)||c.string(t.target))}e.is=i})(Dt||(Dt={}));var _t;(function(e){function n(r,t){return{range:r,parent:t}}e.create=n;function i(r){var t=r;return c.objectLiteral(t)&&j.is(t.range)&&(t.parent===void 0||e.is(t.parent))}e.is=i})(_t||(_t={}));var St;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(St||(St={}));var Ot;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(Ot||(Ot={}));var wt;(function(e){function n(i){var r=i;return c.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}e.is=n})(wt||(wt={}));var At;(function(e){function n(r,t){return{range:r,text:t}}e.create=n;function i(r){var t=r;return t!=null&&j.is(t.range)&&c.string(t.text)}e.is=i})(At||(At={}));var Ft;(function(e){function n(r,t,a){return{range:r,variableName:t,caseSensitiveLookup:a}}e.create=n;function i(r){var t=r;return t!=null&&j.is(t.range)&&c.boolean(t.caseSensitiveLookup)&&(c.string(t.variableName)||t.variableName===void 0)}e.is=i})(Ft||(Ft={}));var Rt;(function(e){function n(r,t){return{range:r,expression:t}}e.create=n;function i(r){var t=r;return t!=null&&j.is(t.range)&&(c.string(t.expression)||t.expression===void 0)}e.is=i})(Rt||(Rt={}));var Lt;(function(e){function n(r,t){return{frameId:r,stoppedLocation:t}}e.create=n;function i(r){var t=r;return c.defined(t)&&j.is(r.stoppedLocation)}e.is=i})(Lt||(Lt={}));var sn;(function(e){e.Type=1,e.Parameter=2;function n(i){return i===1||i===2}e.is=n})(sn||(sn={}));var on;(function(e){function n(r){return{value:r}}e.create=n;function i(r){var t=r;return c.objectLiteral(t)&&(t.tooltip===void 0||c.string(t.tooltip)||Ee.is(t.tooltip))&&(t.location===void 0||ke.is(t.location))&&(t.command===void 0||ue.is(t.command))}e.is=i})(on||(on={}));var jt;(function(e){function n(r,t,a){var s={position:r,label:t};return a!==void 0&&(s.kind=a),s}e.create=n;function i(r){var t=r;return c.objectLiteral(t)&&B.is(t.position)&&(c.string(t.label)||c.typedArray(t.label,on.is))&&(t.kind===void 0||sn.is(t.kind))&&t.textEdits===void 0||c.typedArray(t.textEdits,Q.is)&&(t.tooltip===void 0||c.string(t.tooltip)||Ee.is(t.tooltip))&&(t.paddingLeft===void 0||c.boolean(t.paddingLeft))&&(t.paddingRight===void 0||c.boolean(t.paddingRight))}e.is=i})(jt||(jt={}));var kt;(function(e){function n(i){var r=i;return c.objectLiteral(r)&&en.is(r.uri)&&c.string(r.name)}e.is=n})(kt||(kt={}));var Vt;(function(e){function n(a,s,o,u){return new ea(a,s,o,u)}e.create=n;function i(a){var s=a;return!!(c.defined(s)&&c.string(s.uri)&&(c.undefined(s.languageId)||c.string(s.languageId))&&c.uinteger(s.lineCount)&&c.func(s.getText)&&c.func(s.positionAt)&&c.func(s.offsetAt))}e.is=i;function r(a,s){for(var o=a.getText(),u=t(s,function(O,C){var $=O.range.start.line-C.range.start.line;return $===0?O.range.start.character-C.range.start.character:$}),f=o.length,d=u.length-1;d>=0;d--){var g=u[d],h=a.offsetAt(g.range.start),m=a.offsetAt(g.range.end);if(m<=f)o=o.substring(0,h)+g.newText+o.substring(m,o.length);else throw new Error("Overlapping edit");f=h}return o}e.applyEdits=r;function t(a,s){if(a.length<=1)return a;var o=a.length/2|0,u=a.slice(0,o),f=a.slice(o);t(u,s),t(f,s);for(var d=0,g=0,h=0;d<u.length&&g<f.length;){var m=s(u[d],f[g]);m<=0?a[h++]=u[d++]:a[h++]=f[g++]}for(;d<u.length;)a[h++]=u[d++];for(;g<f.length;)a[h++]=f[g++];return a}})(Vt||(Vt={}));var ea=function(){function e(n,i,r,t){this._uri=n,this._languageId=i,this._version=r,this._content=t,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(n){if(n){var i=this.offsetAt(n.start),r=this.offsetAt(n.end);return this._content.substring(i,r)}return this._content},e.prototype.update=function(n,i){this._content=n.text,this._version=i,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var n=[],i=this._content,r=!0,t=0;t<i.length;t++){r&&(n.push(t),r=!1);var a=i.charAt(t);r=a==="\r"||a===`
`,a==="\r"&&t+1<i.length&&i.charAt(t+1)===`
`&&t++}r&&i.length>0&&n.push(i.length),this._lineOffsets=n}return this._lineOffsets},e.prototype.positionAt=function(n){n=Math.max(Math.min(n,this._content.length),0);var i=this.getLineOffsets(),r=0,t=i.length;if(t===0)return B.create(0,n);for(;r<t;){var a=Math.floor((r+t)/2);i[a]>n?t=a:r=a+1}var s=r-1;return B.create(s,n-i[s])},e.prototype.offsetAt=function(n){var i=this.getLineOffsets();if(n.line>=i.length)return this._content.length;if(n.line<0)return 0;var r=i[n.line],t=n.line+1<i.length?i[n.line+1]:this._content.length;return Math.max(Math.min(r+n.character,t),r)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}(),c;(function(e){var n=Object.prototype.toString;function i(m){return typeof m!="undefined"}e.defined=i;function r(m){return typeof m=="undefined"}e.undefined=r;function t(m){return m===!0||m===!1}e.boolean=t;function a(m){return n.call(m)==="[object String]"}e.string=a;function s(m){return n.call(m)==="[object Number]"}e.number=s;function o(m,O,C){return n.call(m)==="[object Number]"&&O<=m&&m<=C}e.numberRange=o;function u(m){return n.call(m)==="[object Number]"&&-2147483648<=m&&m<=2147483647}e.integer=u;function f(m){return n.call(m)==="[object Number]"&&0<=m&&m<=2147483647}e.uinteger=f;function d(m){return n.call(m)==="[object Function]"}e.func=d;function g(m){return m!==null&&typeof m=="object"}e.objectLiteral=g;function h(m,O){return Array.isArray(m)&&m.every(O)}e.typedArray=h})(c||(c={}));function L(e){return{ofRule:e}}function I(e,n){return{ofRule:e,isList:!0,separator:n}}function na(e,n){const i=e.match;return e.match=r=>{let t=!1;return i&&(t=i(r)),t&&n.every(a=>a.match&&!a.match(r))},e}function Xe(e,n){return{style:n,match:i=>i.kind===e}}function y(e,n){return{style:n||"punctuation",match:i=>i.kind==="Punctuation"&&i.value===e}}I("Definition"),M("query"),L(_("def")),L("VariableDefinitions"),I("Directive"),M("mutation"),L(_("def")),L("VariableDefinitions"),I("Directive"),M("subscription"),L(_("def")),L("VariableDefinitions"),I("Directive"),y("("),I("VariableDefinition"),y(")"),y(":"),L("DefaultValue"),y("$","variable"),_("variable"),y("="),y("{"),I("Selection"),y("}"),_("property"),y(":"),_("qualifier"),L("Arguments"),I("Directive"),L("SelectionSet"),_("property"),L("Arguments"),I("Directive"),L("SelectionSet"),y("("),I("Argument"),y(")"),_("attribute"),y(":"),y("..."),_("def"),I("Directive"),y("..."),L("TypeCondition"),I("Directive"),M("fragment"),L(na(_("def"),[M("on")])),I("Directive"),M("on"),Xe("Number","number"),Xe("Name","builtin"),Xe("Name","keyword"),_("string-2"),y("["),I("Value"),y("]"),y("{"),I("ObjectField"),y("}"),_("attribute"),y(":"),y("["),y("]"),L(y("!")),L(y("!")),ta("atom"),y("@","meta"),_("meta"),L("Arguments"),M("directive"),y("@","meta"),_("meta"),L("ArgumentsDef"),M("on"),I("DirectiveLocation",y("|")),M("interface"),_("atom"),L("Implements"),I("Directive"),y("{"),I("FieldDef"),y("}"),M("implements"),I("NamedType",y("&")),_("string-2"),M("schema"),I("Directive"),y("{"),I("OperationTypeDef"),y("}"),_("keyword"),y(":"),_("atom"),M("scalar"),_("atom"),I("Directive"),M("type"),_("atom"),L("Implements"),I("Directive"),y("{"),I("FieldDef"),y("}"),_("property"),L("ArgumentsDef"),y(":"),I("Directive"),y("("),I("InputValueDef"),y(")"),_("attribute"),y(":"),L("DefaultValue"),I("Directive"),M("union"),_("atom"),I("Directive"),y("="),I("UnionMember",y("|")),M("enum"),_("atom"),I("Directive"),y("{"),I("EnumValueDef"),y("}"),_("string-2"),I("Directive"),M("input"),_("atom"),I("Directive"),y("{"),I("InputValueDef"),y("}"),M("extend");function M(e){return{style:"keyword",match:n=>n.kind==="Name"&&n.value===e}}function _(e){return{style:e,match:n=>n.kind==="Name",update(n,i){n.name=i.value}}}function ta(e){return{style:e,match:n=>n.kind==="Name",update(n,i){n.prevState&&n.prevState.prevState&&(n.name=i.value,n.prevState.prevState.type=i.value)}}}const ra={ALIASED_FIELD:"AliasedField",ARGUMENTS:"Arguments",SHORT_QUERY:"ShortQuery",QUERY:"Query",MUTATION:"Mutation",SUBSCRIPTION:"Subscription",TYPE_CONDITION:"TypeCondition",INVALID:"Invalid",COMMENT:"Comment",SCHEMA_DEF:"SchemaDef",SCALAR_DEF:"ScalarDef",OBJECT_TYPE_DEF:"ObjectTypeDef",OBJECT_VALUE:"ObjectValue",LIST_VALUE:"ListValue",INTERFACE_DEF:"InterfaceDef",UNION_DEF:"UnionDef",ENUM_DEF:"EnumDef",ENUM_VALUE:"EnumValue",FIELD_DEF:"FieldDef",INPUT_DEF:"InputDef",INPUT_VALUE_DEF:"InputValueDef",ARGUMENTS_DEF:"ArgumentsDef",EXTEND_DEF:"ExtendDef",DIRECTIVE_DEF:"DirectiveDef",IMPLEMENTS:"Implements",VARIABLE_DEFINITIONS:"VariableDefinitions",TYPE:"Type"};Object.assign(Object.assign({},p),ra);var vn={exports:{}};function ar(e,n){if(e!=null)return e;var i=new Error(n!==void 0?n:"Got unexpected "+e);throw i.framesToPop=1,i}vn.exports=ar;vn.exports.default=ar;Object.defineProperty(vn.exports,"__esModule",{value:!0});globalThis&&globalThis.__awaiter;var D;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(D||(D={}));const Ct=e=>"getModeId"in e?e.getModeId():e.getLanguageId(),ia=e=>{const o=e,{schema:n,documentAST:i,introspectionJSON:r,introspectionJSONString:t,documentString:a}=o,s=Sn(o,["schema","documentAST","introspectionJSON","introspectionJSONString","documentString"]);if(n)return R(b({},s),{documentString:$n(n)});if(t)return R(b({},s),{introspectionJSONString:t});if(a)return R(b({},s),{documentString:a});if(r)return R(b({},s),{introspectionJSONString:JSON.stringify(r)});if(i){const u=$i(i,s.buildSchemaOptions);return R(b({},s),{documentString:$n(u)})}throw Error("no schema supplied")},aa=2*60*1e3;class sa{constructor(n){this._defaults=n,this._worker=null,this._idleCheckInterval=window.setInterval(()=>this._checkIfIdle(),30*1e3),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange(()=>{this._stopWorker()}),this._client=null}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){if(!this._worker)return;Date.now()-this._lastUsedTime>aa&&this._stopWorker()}async _getClient(){var n;if(this._lastUsedTime=Date.now(),!this._client&&!this._worker)try{this._worker=X.createWebWorker({moduleId:"monaco-graphql/esm/GraphQLWorker.js",label:this._defaults.languageId,createData:{languageId:this._defaults.languageId,formattingOptions:this._defaults.formattingOptions,languageConfig:{schemas:(n=this._defaults.schemas)==null?void 0:n.map(ia),externalFragmentDefinitions:this._defaults.externalFragmentDefinitions}}}),this._client=await this._worker.getProxy()}catch(i){console.error("error loading worker",i)}return this._client}async getLanguageServiceWorker(...n){const i=await this._getClient();return await this._worker.withSyncedResources(n),i}}class oa{constructor(n,i){this.defaults=n,this._worker=i,this._disposables=[],this._listener=Object.create(null),this._worker=i;const r=a=>{var d;const s=Ct(a);if(s!==this.defaults.languageId)return;const o=a.uri.toString(),u=((d=n.diagnosticSettings)==null?void 0:d.validateVariablesJSON)&&n.diagnosticSettings.validateVariablesJSON[o];let f;this._listener[o]=a.onDidChangeContent(()=>{clearTimeout(f),f=setTimeout(()=>{this._doValidate(a.uri,s,u)},200)}),this._doValidate(a.uri,s,u)},t=a=>{X.setModelMarkers(a,this.defaults.languageId,[]);const s=a.uri.toString(),o=this._listener[s];o&&(o.dispose(),delete this._listener[s])};this._disposables.push(X.onDidCreateModel(r)),this._disposables.push(X.onWillDisposeModel(a=>{t(a)})),this._disposables.push(X.onDidChangeModelLanguage(a=>{t(a.model),r(a.model)})),this._disposables.push({dispose:()=>{for(const a in this._listener)this._listener[a].dispose()}}),this._disposables.push(n.onDidChange(()=>{X.getModels().forEach(a=>{Ct(a)===this.defaults.languageId&&(t(a),r(a))})})),X.getModels().forEach(r)}dispose(){this._disposables.forEach(n=>n&&n.dispose()),this._disposables=[]}async _doValidate(n,i,r){var s,o;const t=await this._worker(n),a=await t.doValidation(n.toString());if(X.setModelMarkers(X.getModel(n),i,a),r){if(r.length<1)throw Error("no variables URI strings provided to validate");const u=await t.doGetVariablesJSONSchema(n.toString());if(!u)return;const d={uri:Cr.file(r[0].replace(".json","-schema.json")).toString(),schema:u,fileMatch:r};ie.json.jsonDefaults.setDiagnosticsOptions(R(b({schemaValidation:"error",validate:!0},(o=(s=this.defaults)==null?void 0:s.diagnosticSettings)==null?void 0:o.jsonDiagnosticSettings),{schemas:[d],enableSchemaRequest:!1}))}}}const S=ie.CompletionItemKind,Mt={[D.Text]:S.Text,[D.Method]:S.Method,[D.Function]:S.Function,[D.Constructor]:S.Constructor,[D.Field]:S.Field,[D.Variable]:S.Variable,[D.Class]:S.Class,[D.Interface]:S.Interface,[D.Module]:S.Module,[D.Property]:S.Property,[D.Unit]:S.Unit,[D.Value]:S.Value,[D.Enum]:S.Enum,[D.Keyword]:S.Keyword,[D.Snippet]:S.Snippet,[D.Color]:S.Color,[D.File]:S.File,[D.Reference]:S.Reference,[D.Folder]:S.Folder,[D.EnumMember]:S.EnumMember,[D.Constant]:S.Constant,[D.Struct]:S.Struct,[D.Event]:S.Event,[D.Operator]:S.Operator,[D.TypeParameter]:S.TypeParameter};function ua(e){return e in Mt?Mt[e]:S.Text}function ca(e){var i;return{range:e.range,kind:ua(e.kind),label:e.label,insertText:(i=e.insertText)!=null?i:e.label,insertTextRules:e.insertText?ie.CompletionItemInsertTextRule.InsertAsSnippet:void 0,sortText:e.sortText,filterText:e.filterText,documentation:e.documentation,detail:e.detail,command:e.command}}class fa{constructor(n){this._worker=n,this._worker=n}get triggerCharacters(){return[":","$",`
`," ","(","@"]}async provideCompletionItems(n,i,r,t){try{const a=n.uri,o=await(await this._worker(n.uri)).doComplete(a.toString(),i);return{incomplete:!0,suggestions:o.map(ca)}}catch(a){return console.error(`Error fetching completion items

${a}`),{suggestions:[]}}}}class la{constructor(n){this._worker=n,this._worker=n}async provideDocumentFormattingEdits(n,i,r){const a=await(await this._worker(n.uri)).doFormat(n.uri.toString());return a?[{range:n.getFullModelRange(),text:a}]:[]}}class da{constructor(n){this._worker=n}async provideHover(n,i,r){const t=n.uri,s=await(await this._worker(n.uri)).doHover(t.toString(),i);return s?{range:s.range,contents:[{value:s.content}]}:{contents:[]}}dispose(){}}function va(e){const n=[],i=[],r=new sa(e);n.push(r);const t=(...h)=>{try{return r.getLanguageServiceWorker(...h)}catch{throw Error("Error fetching graphql language service worker")}};function a(){const{modeConfiguration:h}=e;h.documentFormattingEdits&&i.push(ie.registerDocumentFormattingEditProvider(e.languageId,new la(t)))}function s(h){const{modeConfiguration:m}=e;sr(i),m.completionItems&&i.push(ie.registerCompletionItemProvider(e.languageId,new fa(t))),m.diagnostics&&i.push(new oa(h,t)),m.hovers&&i.push(ie.registerHoverProvider(e.languageId,new da(t))),a()}let{modeConfiguration:o,formattingOptions:u,diagnosticSettings:f,externalFragmentDefinitions:d,schemas:g}=e;return s(e),e.onDidChange(h=>{h.modeConfiguration!==o&&(o=h.modeConfiguration,s(h)),h.formattingOptions!==u&&(u=h.formattingOptions,a()),h.externalFragmentDefinitions!==d&&(d=h.externalFragmentDefinitions,s(h)),h.diagnosticSettings!==f&&(f=h.diagnosticSettings,s(h)),h.schemas!==g&&(g=h.schemas,s(h))}),n.push(Ut(i)),Ut(n)}function Ut(e){return{dispose:()=>sr(e)}}function sr(e){for(;e.length;)e.pop().dispose()}export{va as setupMode};
