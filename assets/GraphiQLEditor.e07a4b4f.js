import{a as e,A as E,M as p,d as c,j as n,H as O,e as m,f as C,G as v,g as y,h as x,O as I,P as V,i as H,k as L,l as A,r as s,m as g,V as W,n as R,o as G,E as k,p as P,q as S,t as z,v as Q,w as D,x as M,y as b,z as B,B as j,I as q,J as T,L as w,Q as U,R as N,U as $,W as F,X as J}from"./index.86d51604.js";import{P as X,a as _,b as K,I as Y,C as Z}from"./Prettier.a318100d.js";import{O as ee,T as re}from"./ToggleGroup.fae2e0f7.js";import{R as te}from"./Resizer.da0b430f.js";const ae=()=>e(E,{children:e(p,{editorType:"results",optionOverrides:{lineNumbers:"off",readOnly:!0}})}),f=()=>{const{addEditorTab:i}=c();return e(y,{onClick:()=>i(),children:e(X,{})})},ie=()=>{const{activeEditorTabId:i,editorTabs:r}=c();return n(O,{children:[n(m,{children:[r.length<2?null:r.map(t=>e(C,{editorTabId:t.editorTabId,isActive:i===t.editorTabId},t.editorTabId)),r.length>1&&e(f,{})]}),r.length<2&&e(f,{}),e(v,{children:n("a",{href:"https://github.com/graphql/graphiql",target:"_blank",rel:"noreferrer",children:["Graph",e("i",{children:"i"}),"QL"]})})]})},ne=()=>{const{monacoEditors:i}=c(),{executeOperation:r}=x(),t=i.find(a=>a.name==="operation");return n(I,{children:[e(V,{onClick:()=>{r()},children:e(_,{})}),e(H,{onClick:()=>t==null?void 0:t.editor.getAction("editor.action.formatDocument").run(),children:e(K,{})})]})},oe=()=>e(L,{children:e(A,{isVisible:!0,children:e(p,{editorType:"headers"})})}),se=()=>{var o;const[i,r]=s.exports.useState("CodeEditor"),t=g(),a=(o=t==null?void 0:t.operationDefinition)==null?void 0:o.variableDefinitions;return n(W,{children:[e(R,{isVisible:i==="CodeEditor",children:e(p,{editorType:"variables"})}),a&&a.length>0&&i==="InputEditor"&&e(G,{children:e(k,{variableDefinitions:[...a]})}),i==="InputEditor"&&(a&&(a==null?void 0:a.length)===0||!a)&&e(P,{children:"There are no active variable definitions."}),e(S,{children:e(ee,{title:"Select an editor type",control:e(re,{ariaLabel:"Enable or disable EasyVars",defaultValue:"InputEditor",items:[{ariaLabel:"Use input editor",value:"InputEditor",icon:e(Y,{})},{ariaLabel:"Use code editor",value:"CodeEditor",icon:e(Z,{})}],onChange:l=>r(l),size:"mini",value:i})})})]})},le=({setHeight:i})=>{var h,u;const[r,t]=s.exports.useState(!1),[a,o]=s.exports.useState(""),l=g(),d=((u=(h=l==null?void 0:l.operationDefinition)==null?void 0:h.variableDefinitions)==null?void 0:u.length)||0;return e(z,{open:r,onOpenChange:()=>{r?(t(!1),o("")):(t(!0),o("VariablesTab")),setTimeout(()=>{i()},150)},children:n(Q,{value:a,onValueChange:o,children:[n(D,{children:[n(M,{"aria-label":"Operations Tools",children:[n(b,{value:"VariablesTab",onClick:()=>{r||t(!0)},children:["Variables ",d>0&&e("span",{children:d})]}),e(b,{value:"HeadersTab",onClick:()=>{r||t(!0)},children:"Headers"})]}),e(B,{isOperationToolsOpen:r,children:e(j,{})})]}),n(q,{forceMount:!0,hidden:!r,children:[e(T,{value:"VariablesTab",forceMount:!0,hidden:a!=="VariablesTab",children:e(se,{})}),e(T,{value:"HeadersTab",forceMount:!0,hidden:a!=="HeadersTab",children:e(oe,{})})]})]})})},de=()=>{const{editorTabs:i}=c(),r=s.exports.useRef(null),t=s.exports.useRef(null),a=s.exports.useRef(null),[o,l]=s.exports.useState(null);s.exports.useEffect(()=>{d()},[o]);const d=()=>{if(t.current&&a.current&&r.current){if(!o)return l(t.current.clientHeight);t.current.style.height=`${r.current.clientHeight-a.current.clientHeight}px`}};return n(w,{ref:r,expanded:i.length<2,children:[n(U,{ref:t,children:[e(p,{editorType:"operation"}),e(N,{children:e(ne,{})})]}),e($,{ref:a,children:e(le,{setHeight:d})})]})},Te=()=>{const{activeEditorTabId:i,switchEditorTab:r}=c();return s.exports.useEffect(()=>{i&&r({editorTabId:i})},[]),e(F,{children:n(J,{children:[e(ie,{}),e(te,{direction:"horizontal",handleStyle:"bar",pane1:{initialFlexGrowValue:1,component:e(de,{})},pane2:{component:e(ae,{})}})]})})};export{Te as G};
