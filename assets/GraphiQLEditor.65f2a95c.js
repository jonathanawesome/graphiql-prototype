import{j as e,z as g,M as p,c,a as n,H as O,T as m,B as C,G as E,I as x,d as H,O as v,J as V,N as y,Q as A,U as I,r as o,V as R,W,g as L,X as G,Y as k,Z as P,_ as Q,$ as b,a0 as S,a1 as z,a2 as T,a3 as M,a4 as B,a5 as j,a6 as D,a7 as $,a8 as q}from"./index.c5a099b4.js";import{P as w,a as N,b as _}from"./Prettier.4dbc90bb.js";import{C as F}from"./ChevronLarge.c84174ea.js";import{R as J}from"./Resizer.5607dc1d.js";const U=()=>e(g,{children:e(p,{editorType:"results",optionOverrides:{lineNumbers:"off",readOnly:!0}})}),f=()=>{const{addEditorTab:a}=c();return e(x,{onClick:()=>a(),children:e(w,{})})},X=()=>{const{activeEditorTabId:a,editorTabs:r}=c();return n(O,{children:[n(m,{children:[r.length<2?null:r.map(t=>e(C,{editorTabId:t.editorTabId,isActive:a===t.editorTabId},t.editorTabId)),r.length>1&&e(f,{})]}),r.length<2&&e(f,{}),e(E,{children:n("a",{href:"https://github.com/graphql/graphiql",target:"_blank",rel:"noreferrer",children:["Graph",e("i",{children:"i"}),"QL"]})})]})},Y=()=>{const{monacoEditors:a}=c(),{executeOperation:r}=H(),t=a.find(i=>i.name==="operation");return n(v,{children:[e(V,{onClick:()=>{r()},children:e(N,{})}),e(y,{onClick:()=>t==null?void 0:t.editor.getAction("editor.action.formatDocument").run(),children:e(_,{})})]})},Z=()=>e(A,{children:e(I,{isVisible:!0,children:e(p,{editorType:"headers"})})}),K=()=>{const[a]=o.exports.useState("CodeEditor");return e(R,{children:e(W,{isVisible:a==="CodeEditor",children:e(p,{editorType:"variables"})})})},ee=({setHeight:a})=>{var h,u;const[r,t]=o.exports.useState(!1),[i,s]=o.exports.useState(""),l=L(),d=((u=(h=l==null?void 0:l.operationDefinition)==null?void 0:h.variableDefinitions)==null?void 0:u.length)||0;return e(G,{open:r,onOpenChange:()=>{r?(t(!1),s("")):(t(!0),s("VariablesTab")),setTimeout(()=>{a()},150)},children:n(k,{value:i,onValueChange:s,children:[n(P,{children:[n(Q,{"aria-label":"Operations Tools",children:[n(b,{value:"VariablesTab",onClick:()=>{r||t(!0)},children:["Variables ",d>0&&e("span",{children:d})]}),e(b,{value:"HeadersTab",onClick:()=>{r||t(!0)},children:"Headers"})]}),e(S,{isOperationToolsOpen:r,children:e(F,{})})]}),n(z,{forceMount:!0,hidden:!r,children:[e(T,{value:"VariablesTab",forceMount:!0,hidden:i!=="VariablesTab",children:e(K,{})}),e(T,{value:"HeadersTab",forceMount:!0,hidden:i!=="HeadersTab",children:e(Z,{})})]})]})})},re=()=>{const{editorTabs:a}=c(),r=o.exports.useRef(null),t=o.exports.useRef(null),i=o.exports.useRef(null),[s,l]=o.exports.useState(null);o.exports.useEffect(()=>{d()},[s]);const d=()=>{if(t.current&&i.current&&r.current){if(!s)return l(t.current.clientHeight);t.current.style.height=`${r.current.clientHeight-i.current.clientHeight}px`}};return n(M,{ref:r,expanded:a.length<2,children:[n(B,{ref:t,children:[e(p,{editorType:"operation"}),e(j,{children:e(Y,{})})]}),e(D,{ref:i,children:e(ee,{setHeight:d})})]})},se=()=>{const{activeEditorTabId:a,switchEditorTab:r}=c();return o.exports.useEffect(()=>{a&&r({editorTabId:a})},[]),e($,{children:n(q,{children:[e(X,{}),e(J,{direction:"horizontal",handleStyle:"bar",pane1:{initialFlexGrowValue:1,component:e(re,{})},pane2:{component:e(U,{})}})]})})};export{se as G};
