import{K as a,i as N,d as T,a as l,P as p,g as A,E as _,e as Y,f as b}from"./index.33004984.js";import{g as L,a as P}from"./getEnumValues.3f435fd0.js";import{F as m}from"./Form.9934f654.js";const y=({type:e})=>e.kind===a.NON_NULL_TYPE||e.kind===a.LIST_TYPE?y({type:e.type}):e.name.value,c=({type:e})=>e.kind===a.NON_NULL_TYPE?c({type:e.type}):e.kind!==a.NAMED_TYPE,d=e=>Array.isArray(e)?e.map(r=>d(r)):typeof e=="boolean"?`${e}`:e?`${e}`:"",E=({typeNameValue:e,value:r})=>Array.isArray(r)?r.map(n=>E({typeNameValue:e,value:n})):["Int","Float"].includes(e)?Number(r):e==="Boolean"?r==="true":r,k=({currentValue:e,displayString:r,graphqlType:n,handleChange:t,isList:o,typeNameValue:i,variableDefinition:f})=>{const s=f.variable.name.value;if(!n)return null;let u;return o?u=l(m,{formType:{type:"DYNAMIC"},formControls:[{control:{currentValue:e,handleChange:t,name:s,typeNameValue:i},label:s,labelAddOn:l(p,{copy:r})}]}):N(n)&&n.name==="Boolean"?u=l(m,{formType:{type:"DYNAMIC"},formControls:[{control:{currentValue:e,handleChange:t,name:s,options:[{value:"true",name:"True"},{value:"false",name:"False"}]},label:s,labelAddOn:l(p,{copy:r})}]}):T(n)?u=l(m,{formType:{type:"DYNAMIC"},formControls:[{control:{currentValue:e,handleChange:t,name:s,options:L({enumTypeName:i})||[]},label:s,labelAddOn:l(p,{copy:r})}]}):u=l(m,{formType:{type:"DYNAMIC"},formControls:[{control:{currentValue:e,handleChange:t,name:s,placeholder:P({typeNameAsString:i})},label:s,labelAddOn:l(p,{copy:r})}]}),u},V=({currentValue:e,variableDefinition:r})=>{const{updateVariable:n}=Y(),{schema:t}=b(),o=c({type:r.type}),i=y({type:r.type}),f=M({type:r.type}),s=({value:u})=>{n({variableName:r.variable.name.value,variableValue:E({typeNameValue:i,value:u})})};return!t||"error"in t?null:k({currentValue:d(e),displayString:f,graphqlType:t.getType(i),handleChange:s,isList:o,typeNameValue:i,variableDefinition:r})},D=({variableDefinitions:e})=>{const r=A(),n=r==null?void 0:r.variablesModel.getValue();let t={};if(n)try{t=JSON.parse(n)}catch{console.warn("error parsing variables in EasyVars")}return l(_,{children:e==null?void 0:e.map(o=>l(V,{variableDefinition:o,currentValue:t[o.variable.name.value]},o.variable.name.value))})},M=({type:e})=>{let r="";return e.kind===a.NON_NULL_TYPE?e.type.kind===a.LIST_TYPE?(e.type.type.kind===a.NON_NULL_TYPE&&e.type.type.type.kind===a.NAMED_TYPE&&(r=`[${e.type.type.type.name.value}!]!`),e.type.type.kind===a.NAMED_TYPE&&(r=`[${e.type.type.name.value}]!`)):e.type.kind===a.NAMED_TYPE&&(r=`${e.type.name.value}!`):e.kind===a.LIST_TYPE?(e.type.kind===a.NON_NULL_TYPE&&e.type.type.kind===a.NAMED_TYPE&&(r=`[${e.type.type.name.value}!]`),e.type.kind===a.NAMED_TYPE&&(r=`[${e.type.name.value}]`)):e.kind===a.NAMED_TYPE&&(r=`${e.name.value}`),r};export{D as E};
