var he=Object.defineProperty,ye=Object.defineProperties;var Ce=Object.getOwnPropertyDescriptors;var Z=Object.getOwnPropertySymbols;var Ee=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable;var Y=(n,e,i)=>e in n?he(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i,h=(n,e)=>{for(var i in e||(e={}))Ee.call(e,i)&&Y(n,i,e[i]);if(Z)for(var i of Z(e))Te.call(e,i)&&Y(n,i,e[i]);return n},y=(n,e)=>ye(n,Ce(e));import{j as l,t as g,a as m,P as Le,b as Ne,c as Ie,d as be,K as d,p as Se,i as ae,e as k,f as _,h as we,k as De,l as xe,m as Fe,n as Oe,F as w,s as u,r as L,o as $,R as Ae,T as Me,C as $e,q as ke,u as Re,v as Ve,w as Pe,x as _e,y as Ue,z as je,A as Be,B as T,g as C,D as se,E as Ge,H as Ze,I as H,J as W,L as J,M as Ye,N as He,O as Q,Q as z}from"./index.7350ed2e.js";const We=()=>l("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l("path",{fillRule:"evenodd",clipRule:"evenodd",fill:g.colors.scale600.value,d:"M15.4574 3.95093C16.0663 3.34206 16.8921 3 17.7532 3C18.6143 3 19.4401 3.34206 20.049 3.95093C20.6579 4.55981 21 5.38563 21 6.24672C21 7.1078 20.6579 7.93362 20.049 8.5425C19.4401 9.15137 18.6143 9.49343 17.7532 9.49343H15.9673V14.5066H17.7532C18.3954 14.5066 19.0231 14.697 19.557 15.0537C20.091 15.4105 20.5071 15.9176 20.7528 16.5108C20.9986 17.1041 21.0629 17.7569 20.9376 18.3867C20.8123 19.0165 20.5031 19.595 20.049 20.0491C19.595 20.5031 19.0164 20.8123 18.3866 20.9376C17.7568 21.0629 17.104 20.9986 16.5107 20.7529C15.9175 20.5071 15.4104 20.091 15.0536 19.5571C14.6969 19.0231 14.5064 18.3954 14.5064 17.7533V15.9639H9.49356V17.7533C9.49356 18.6144 9.15149 19.4402 8.5426 20.0491C7.9337 20.6579 7.10788 21 6.24678 21C5.38569 21 4.55986 20.6579 3.95097 20.0491C3.34207 19.4402 3 18.6144 3 17.7533C3 16.8922 3.34208 16.0664 3.95097 15.4575C4.55986 14.8486 5.38569 14.5066 6.24678 14.5066H8.03407V9.49409H6.24678C5.38569 9.49409 4.55986 9.15203 3.95097 8.54315C3.34208 7.93428 3 7.10846 3 6.24737C3 5.38628 3.34208 4.56047 3.95097 3.95159C4.55986 3.34271 5.38569 3.00065 6.24678 3.00065C7.10788 3.00065 7.93371 3.34271 8.5426 3.95159C9.15149 4.56047 9.49356 5.38628 9.49356 6.24737V8.0322H14.5064V6.24672C14.5064 5.38563 14.8485 4.55981 15.4574 3.95093ZM14.5079 9.49166H9.49352V14.5044H14.5079V9.49166ZM8.03411 8.03463V6.24737C8.03411 5.77337 7.8458 5.31877 7.51062 4.9836C7.17543 4.64842 6.72082 4.46011 6.24678 4.46011C5.77275 4.46011 5.31813 4.64842 4.98295 4.9836C4.64776 5.31877 4.45946 5.77337 4.45946 6.24737C4.45946 6.72138 4.64776 7.17597 4.98295 7.51115C5.31813 7.84632 5.77275 8.03463 6.24678 8.03463H8.03411ZM15.9659 8.03397H17.7532C18.2272 8.03397 18.6819 7.84567 19.0171 7.51049C19.3522 7.17531 19.5405 6.72072 19.5405 6.24672C19.5405 5.77271 19.3522 5.31812 19.0171 4.98294C18.6819 4.64776 18.2272 4.45946 17.7532 4.45946C17.2792 4.45946 16.8246 4.64776 16.4894 4.98294C16.1542 5.31812 15.9659 5.77271 15.9659 6.24672V8.03397ZM8.03411 15.966H6.24678C5.77275 15.966 5.31813 16.1543 4.98295 16.4895C4.64776 16.8247 4.45946 17.2793 4.45946 17.7533C4.45946 18.2273 4.64776 18.6819 4.98295 19.0171C5.31813 19.3522 5.77275 19.5405 6.24678 19.5405C6.72082 19.5405 7.17543 19.3522 7.51062 19.0171C7.8458 18.6819 8.03411 18.2273 8.03411 17.7533V15.966ZM15.9659 15.966V17.7533C15.9659 18.1068 16.0707 18.4523 16.2671 18.7462C16.4635 19.0401 16.7426 19.2692 17.0692 19.4045C17.3958 19.5398 17.7552 19.5752 18.1019 19.5062C18.4486 19.4372 18.7671 19.267 19.017 19.0171C19.267 18.7671 19.4372 18.4486 19.5062 18.102C19.5752 17.7553 19.5398 17.3959 19.4045 17.0693C19.2692 16.7428 19.0401 16.4636 18.7462 16.2672C18.4523 16.0708 18.1067 15.966 17.7532 15.966H15.9659Z"})}),Je=({arrowOptions:n={offset:5},contentOptions:e={align:"end",sideOffset:5},content:i,icon:t})=>m(Le,{children:[l(Ne,{asChild:!0,children:l("button",{children:t})}),m(Ie,{sideOffset:e.sideOffset,align:e.align,children:[i,l(be,{offset:n.offset})]})]}),Qe=({typeNode:n})=>({kind:d.NAMED_TYPE,name:{kind:d.NAME,value:n.name.value}}),oe=({typeNode:n})=>n.type.kind===d.LIST_TYPE?{kind:d.NON_NULL_TYPE,type:B({typeNode:n.type})}:{kind:d.NON_NULL_TYPE,type:Qe({typeNode:n.type})},B=({typeNode:n})=>n.type.kind===d.LIST_TYPE?{kind:d.LIST_TYPE,type:B({typeNode:n.type})}:n.type.kind===d.NON_NULL_TYPE?{kind:d.LIST_TYPE,type:oe({typeNode:n.type})}:{kind:d.LIST_TYPE,type:{kind:d.NAMED_TYPE,name:{kind:d.NAME,value:n.type.name.value}}},ze=({typeNode:n})=>n.kind===d.NON_NULL_TYPE?oe({typeNode:n}):n.kind===d.LIST_TYPE?B({typeNode:n}):n,re=({type:n,variableName:e})=>{const i=n.toString(),t=Se(i);return{kind:d.VARIABLE_DEFINITION,variable:{kind:d.VARIABLE,name:{kind:d.NAME,value:e}},type:ze({typeNode:t})}},b=n=>n.charAt(0).toUpperCase()+n.slice(1),qe=({fieldName:n,selections:e})=>{const i=e==null?void 0:e.find(t=>{var a;return t.kind===d.INLINE_FRAGMENT?((a=t.typeCondition)==null?void 0:a.name.value)===n:(t.kind,d.FRAGMENT_SPREAD,t.name.value===n)});if(i&&(i.kind===d.INLINE_FRAGMENT||i.kind===d.FIELD))return i},de=({ancestors:n})=>[...n.keys()].slice(0,-1).reverse().map((t,a)=>{const[o]=t.split("-");return a!==0?b(o):o}).join(""),Ke=({inputType:n})=>{let e=n;for(;ae(e);)e=e.ofType;return e},pe=n=>{let e=n;for(;ae(e);)e=e.ofType;return e},q=({ancestors:n,argument:e,selection:i})=>{var r,p;const t=k.slug(),a=new Map([[`${e.name}-${t}`,{inputObject:e.type,name:e.name,parentType:"FIELD",selection:(r=i==null?void 0:i.arguments)==null?void 0:r.find(f=>f.name.value===e.name)}],...n]),o=new Map([[`${e.name}-${t}`,{argument:e,selection:(p=i==null?void 0:i.arguments)==null?void 0:p.find(f=>f.name.value===e.name),variableName:`${de({ancestors:n})}${b(e.name)}`}],...n]);let s=null;if(_(e.type))s=l(U,{ancestors:a,renderingInputField:e,inputType:e.type});else if(we(e.type)||De(e.type)){const f=Ke({inputType:e.type});xe(f)?s=l(M,{ancestors:o}):_(f)?s=l(U,{ancestors:a,renderingInputField:e,inputType:f}):Fe(f)&&(s=l(M,{ancestors:o}))}else Oe(e.type)?s=l(M,{ancestors:o}):s=l("p",{style:{color:"red"},children:`yikes...something went wrong with this type ${e.type}`});return l(w,{children:s})},Xe=u("div",{display:"flex",alignContent:"center",justifyContent:"center",height:13,width:13,"& svg":{transformOrigin:"center center",transition:"all .15s ease",height:"100%",width:"50%",path:{fill:"$scale600"}},variants:{isExpanded:{true:{svg:{transform:"rotate(90deg)",path:{fill:"$accentField"}}}}}}),en=({isExpanded:n})=>l(Xe,{isExpanded:n,children:l("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l("path",{d:"M16.2192 46.9257L36.5688 26.5761C37.9915 25.1533 37.9915 22.8467 36.5688 21.4239L16.2192 1.07434C13.9241 -1.22068 10 0.404748 10 3.65041L10 44.3496C10 47.5952 13.9241 49.2207 16.2192 46.9257Z"})})}),nn=u("div",{display:"flex",alignContent:"center",justifyContent:"center",height:15,width:15,cursor:"pointer","& svg":{height:"100%",width:"100%"}}),tn=({isSelected:n})=>l(nn,{children:m("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{d:"M2.02293 28.8838C-0.674311 26.1865 -0.674311 21.8134 2.02293 19.1162L19.1162 2.02293C21.8134 -0.674311 26.1865 -0.674311 28.8838 2.02293L45.9771 19.1162C48.6743 21.8134 48.6743 26.1865 45.9771 28.8838L28.8838 45.9771C26.1865 48.6743 21.8134 48.6743 19.1162 45.9771L2.02293 28.8838Z",fill:n?g.colors.accentArgument.value:void 0}),l("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.2375 4.14425L4.14425 21.2375C2.61858 22.7632 2.61858 25.2368 4.14425 26.7625L21.2375 43.8557C22.7632 45.3814 25.2368 45.3814 26.7625 43.8557L43.8557 26.7625C45.3814 25.2368 45.3814 22.7632 43.8557 21.2375L26.7625 4.14425C25.2368 2.61858 22.7632 2.61858 21.2375 4.14425ZM2.02293 19.1162C-0.674311 21.8135 -0.674311 26.1866 2.02293 28.8838L19.1162 45.9771C21.8135 48.6743 26.1866 48.6743 28.8838 45.9771L45.9771 28.8838C48.6743 26.1866 48.6743 21.8135 45.9771 19.1162L28.8838 2.02293C26.1866 -0.674311 21.8135 -0.674311 19.1162 2.02293L2.02293 19.1162Z",fill:n?g.colors.accentArgument.value:g.colors.scale600.value}),l("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M34.5956 19.9311L22.1406 32.3782L13.849 24.0948L17.0295 20.9113L22.14 26.0168L31.4147 16.7481L34.5956 19.9311Z",fill:n?g.colors.scale100.value:void 0})]})}),ln=u("svg",{transition:"all .12s ease"}),K=({active:n})=>m(ln,{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{d:"M44.3077 23.9999C44.3077 35.2156 35.2156 44.3076 24 44.3076C12.7844 44.3076 3.69232 35.2156 3.69232 23.9999C3.69232 12.7843 12.7844 3.69226 24 3.69226C35.2156 3.69226 44.3077 12.7843 44.3077 23.9999Z",fill:n?g.colors.accentField.value:void 0}),l("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 44.3077C35.2156 44.3077 44.3077 35.2156 44.3077 24C44.3077 12.7844 35.2156 3.69231 24 3.69231C12.7844 3.69231 3.69231 12.7844 3.69231 24C3.69231 35.2156 12.7844 44.3077 24 44.3077ZM24 48C37.2548 48 48 37.2548 48 24C48 10.7452 37.2548 0 24 0C10.7452 0 0 10.7452 0 24C0 37.2548 10.7452 48 24 48Z",fill:n?g.colors.accentField.value:g.colors.scale600.value}),l("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.302 19.66L22.0166 32.9369L13.1723 24.1013L16.5647 20.7055L22.016 26.1515L31.909 16.2648L35.302 19.66Z",fill:n?g.colors.scale100.value:void 0})]});u("div",{display:"flex",alignContent:"center",justifyContent:"center",height:15,width:15,"& svg":{height:"100%",width:"100%"}});const an=()=>m("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.5235 33.9708C27.5025 33.9708 33.9708 27.5025 33.9708 19.5235C33.9708 11.5444 27.5025 5.0761 19.5235 5.0761C11.5444 5.0761 5.0761 11.5444 5.0761 19.5235C5.0761 27.5025 11.5444 33.9708 19.5235 33.9708ZM19.5235 39.047C30.306 39.047 39.047 30.306 39.047 19.5235C39.047 8.74096 30.306 0 19.5235 0C8.74096 0 0 8.74096 0 19.5235C0 30.306 8.74096 39.047 19.5235 39.047Z",fill:g.colors.scale600.value}),l("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M44.0953 48L31.2376 35.1423L34.8269 31.5529L47.6847 44.4107L44.0953 48Z",fill:g.colors.scale600.value})]}),sn=()=>l("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l("circle",{cx:"24",cy:"24",r:"24",fill:g.colors.scale600.value})}),on=()=>m("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.212 7.97285L14.4728 11.712C14.1757 12.0091 14.1757 12.4909 14.4728 12.788L18.212 16.5272C18.5091 16.8243 18.9909 16.8243 19.288 16.5272L23.0272 12.788C23.3243 12.4909 23.3243 12.0091 23.0272 11.712L19.288 7.97285C18.9909 7.67572 18.5091 7.67572 18.212 7.97285ZM13.9425 11.1817C13.3525 11.7717 13.3525 12.7283 13.9425 13.3183L17.6817 17.0575C18.2717 17.6475 19.2283 17.6475 19.8183 17.0575L23.5575 13.3183C24.1475 12.7283 24.1475 11.7717 23.5575 11.1817L19.8183 7.44252C19.2283 6.85249 18.2717 6.85249 17.6817 7.44252L13.9425 11.1817Z",fill:g.colors.scale700.value}),l("path",{d:"M6.88186 14.379C5.70605 13.2032 5.70605 11.2968 6.88186 10.121L10.621 6.38186C11.7968 5.20605 13.7032 5.20605 14.879 6.38186L18.6181 10.121C19.794 11.2968 19.794 13.2032 18.6181 14.379L14.879 18.1182C13.7032 19.294 11.7968 19.294 10.621 18.1182L6.88186 14.379Z",fill:g.colors.scale100.value}),l("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.212 7.97285L8.47285 11.712C8.17572 12.0091 8.17572 12.4909 8.47285 12.788L12.212 16.5272C12.5091 16.8243 12.9909 16.8243 13.288 16.5272L17.0272 12.788C17.3243 12.4909 17.3243 12.0091 17.0272 11.712L13.288 7.97285C12.9909 7.67572 12.5091 7.67572 12.212 7.97285ZM7.94252 11.1817C7.35249 11.7717 7.35249 12.7283 7.94252 13.3183L11.6817 17.0575C12.2717 17.6475 13.2283 17.6475 13.8183 17.0575L17.5575 13.3183C18.1475 12.7283 18.1475 11.7717 17.5575 11.1817L13.8183 7.44252C13.2283 6.85249 12.2717 6.85249 11.6817 7.44252L7.94252 11.1817Z",fill:g.colors.scale700.value}),l("path",{d:"M0.881857 14.379C-0.293952 13.2032 -0.293952 11.2968 0.881857 10.121L4.62101 6.38186C5.79682 5.20605 7.70318 5.20605 8.87899 6.38186L12.6181 10.121C13.794 11.2968 13.794 13.2032 12.6181 14.379L8.87899 18.1182C7.70318 19.294 5.79682 19.294 4.62101 18.1182L0.881857 14.379Z",fill:g.colors.scale100.value}),l("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.212 7.97285L2.47285 11.712C2.17572 12.0091 2.17572 12.4909 2.47285 12.788L6.212 16.5272C6.50913 16.8243 6.99087 16.8243 7.288 16.5272L11.0272 12.788C11.3243 12.4909 11.3243 12.0091 11.0272 11.712L7.288 7.97285C6.99087 7.67572 6.50913 7.67572 6.212 7.97285ZM1.94252 11.1817C1.35249 11.7717 1.35249 12.7283 1.94252 13.3183L5.68167 17.0575C6.27169 17.6475 7.22831 17.6475 7.81833 17.0575L11.5575 13.3183C12.1475 12.7283 12.1475 11.7717 11.5575 11.1817L7.81833 7.44252C7.22831 6.85249 6.27169 6.85249 5.68167 7.44252L1.94252 11.1817Z",fill:g.colors.scale700.value})]}),rn=u("div",{marginTop:12}),dn=u("div",{marginBottom:8}),V=u("span",{display:"inline-flex",alignContent:"center",fontWeight:"$medium",fontSize:12,lineHeight:1,height:15,color:"$scale700",marginLeft:8,marginTop:2}),pn=u("div",{height:15,width:15,position:"relative",svg:{position:"absolute",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",height:24,width:24}}),cn=({ancestors:n,selection:e})=>{const{field:i}=n.values().next().value,{args:t}=i,[a,o]=L.exports.useState(!1),s=t.filter(p=>$(p)),r=t.filter(p=>!$(p));return m(rn,{children:[l(dn,{children:s.length>0?s.sort().map(p=>l(q,{ancestors:n,argument:p,selection:e},p.name)):null}),r.length>0&&l(D,{content:l(x,{children:r.length>0?r.sort().map(p=>l(q,{ancestors:n,argument:p,selection:e},p.name)):null}),leadContent:l(w,{children:a?l(V,{children:"Hide arguments"}):s.length>0?l(V,{children:`${r.length.toString()} more arguments`}):l(V,{children:`Show ${r.length.toString()} optional arguments`})}),isExpanded:a,setIsExpanded:o,trigger:l(pn,{children:l(on,{})})})]})},un=u(Ae,{position:"relative"}),ce=u("div",{width:"100%",display:"grid",gridTemplateColumns:"15px 1fr",alignItems:"start",gap:6,variants:{hasToggler:{true:{gridTemplateColumns:"15px 15px 1fr"}}}}),fn=u(Me,{height:15,width:15,display:"flex",alignItems:"center",justifyContent:"center"}),mn=u($e,{}),D=({content:n,isExpanded:e,leadContent:i,setIsExpanded:t,toggler:a,trigger:o=l(en,{isExpanded:e})})=>m(un,{open:e,onOpenChange:t,children:[m(ce,{hasToggler:!!a,children:[a&&a,l(fn,{children:o}),i]}),l(mn,{children:n})]}),vn=u("div",{display:"flex",flexDirection:"column",marginTop:12,marginLeft:8,paddingLeft:12,borderLeft:"1px solid $scale400",variants:{gap:{[8]:{gap:8},[12]:{gap:12},[16]:{gap:16}}}}),x=({children:n,gap:e="12"})=>l(vn,{gap:e,children:n}),gn=u("div",{display:"flex",alignItems:"center",gap:8}),X=u("span",{display:"flex",alignItems:"center",padding:2,fontSize:7,textTransform:"uppercase",color:"$scale700 !important",backgroundColor:"$scale100",border:"1px solid $scale500",borderRadius:2}),ee=({type:n})=>{let e="Whoops!";return n instanceof ke?e="Nonnull":n instanceof Re?e="Object":n instanceof Ve?e="Interface":n instanceof Pe?e="Union":n instanceof _e?e="Enum":n instanceof Ue?e="InputObject":n instanceof je?e="List":n instanceof Be&&(e="Scalar"),e},hn=({type:n})=>{const e=ee({type:n});return m(gn,{children:[l(X,{children:e}),e==="Nonnull"&&l(X,{children:ee({type:pe(n)})})]})},yn=T.getState().updateVariable,Cn=({ancestor:n,setNextAction:e,setNextVariableDefinitions:i})=>{var r;const t=C(),a=(r=t==null?void 0:t.operationDefinition)==null?void 0:r.variableDefinitions,o=re({type:n.argument.type,variableName:n.variableName});i({nextVariableDefinitions:[...a||[],o]}),yn({variableName:n.variableName,variableValue:se({type:o.type})});const s={kind:d.ARGUMENT,name:{kind:d.NAME,value:n.argument.name},value:{kind:d.VARIABLE,name:{kind:d.NAME,value:n.variableName}}};return e({type:"ADD",payload:{type:"ARGUMENT",node:s}})},F=({ancestor:n})=>{var e,i;if("field"in n)return(e=n.selectionSet)==null?void 0:e.selections.filter(t=>{var a;return t.name.value!==((a=n.field)==null?void 0:a.name)});if("onType"in n)return(i=n.selectionSet)==null?void 0:i.selections.filter(t=>{var a;return((a=t.typeCondition)==null?void 0:a.name.value)!==n.onType})},En=({ancestor:n,setNextSelectionSet:e,setNextVariableDefinitions:i})=>{var r;const t=C(),a=(r=t==null?void 0:t.operationDefinition)==null?void 0:r.variableDefinitions,o=F({ancestor:n}),s={kind:d.FIELD,name:{kind:d.NAME,value:n.field.name}};return i({nextVariableDefinitions:[...a||[]]}),e({nextSelectionSet:{kind:d.SELECTION_SET,selections:o?[s,...o]:[s]}})},Tn=T.getState().updateVariable,Ln=({ancestor:n,setNextAction:e,setNextVariableDefinitions:i})=>{var r;const t=C(),a=(r=t==null?void 0:t.operationDefinition)==null?void 0:r.variableDefinitions,o=re({type:n.inputField.type,variableName:n.variableName});i({nextVariableDefinitions:[...a||[],o]}),Tn({variableName:n.variableName,variableValue:se({type:o.type})});const s={kind:d.OBJECT_FIELD,name:{kind:d.NAME,value:n.inputField.name},value:{kind:d.VARIABLE,name:{kind:d.NAME,value:n.variableName}}};e({type:"ADD",payload:{type:"INPUT_FIELD",node:s}})},Nn=({ancestor:n,nextAction:e,setNextAction:i})=>{if(e){if(n.parentType==="FIELD"){const t={kind:d.ARGUMENT,name:{kind:d.NAME,value:n.name},value:{kind:d.OBJECT,fields:[e.payload.node]}};return i({type:"ADD",payload:{type:"ARGUMENT",node:t}})}if(n.parentType==="INPUT_OBJECT"){const t={kind:d.OBJECT_FIELD,name:{kind:d.NAME,value:n.name},value:{kind:d.OBJECT,fields:[e.payload.node]}};return i({type:"ADD",payload:{type:"INPUT_FIELD",node:t}})}}console.log("no nextAction to perform in handleAddInputObject")},In=({ancestor:n,nextAction:e,nextSelectionSet:i,setNextSelectionSet:t})=>{const a={kind:d.FIELD,name:{kind:d.NAME,value:n.field.name},selectionSet:i||void 0,arguments:e?[e.payload.node]:void 0},o=F({ancestor:n});return t({nextSelectionSet:{kind:d.SELECTION_SET,selections:o?[a,...o]:[a]}})},bn=({ancestor:n,nextSelectionSet:e,setNextSelectionSet:i})=>{const t={kind:d.INLINE_FRAGMENT,typeCondition:{kind:d.NAMED_TYPE,name:{kind:d.NAME,value:n.onType}},selectionSet:e!=null?e:{kind:d.SELECTION_SET,selections:[]}},a=F({ancestor:n});return i({nextSelectionSet:{kind:d.SELECTION_SET,selections:a?[t,...a]:[t]}})},Sn=T.getState().removeVariables,wn=({ancestor:n,setNextSelectionSet:e,setNextVariableDefinitions:i,target:t})=>{var r,p,f;const a=C(),o=(r=a==null?void 0:a.operationDefinition)==null?void 0:r.variableDefinitions;if(console.log("running handleRemoveField",{ancestor:n,variableDefinitions:o}),n.selection&&n.selection.kind===d.FIELD&&n.selection.arguments&&((p=n.selection.arguments)==null?void 0:p.length)>0){const v=n.selection.arguments.flatMap(E=>E.value.kind===d.VARIABLE?E.value.name.value:E.value.kind===d.OBJECT?E.value.fields.map(O=>(console.log("f",O),`${n.field.name}${b(E.name.value)}${b(O.name.value)}`)):[]),c=o==null?void 0:o.filter(E=>!v.includes(E.variable.name.value));Sn({variableNames:v}),v&&c&&i({nextVariableDefinitions:c})}else i({nextVariableDefinitions:[...o||[]]});const s=((f=n.selectionSet)==null?void 0:f.selections).filter(v=>v.name.value!==t.field.name);return e({nextSelectionSet:{kind:d.SELECTION_SET,selections:s}})},Dn=T.getState().removeVariables,xn=({ancestor:n,setNextAction:e,setNextVariableDefinitions:i})=>{var s;const t=C(),a=(s=t==null?void 0:t.operationDefinition)==null?void 0:s.variableDefinitions,o=a==null?void 0:a.filter(r=>r.variable.name.value!==n.variableName);return i({nextVariableDefinitions:o!=null?o:[]}),Dn({variableNames:[n.variableName]}),e({type:"REMOVE",payload:{type:"ARGUMENT",nodeName:n.argument.name}})},Fn=T.getState().removeVariables,On=({ancestor:n,setNextAction:e,setNextVariableDefinitions:i})=>{var s;const t=C(),a=(s=t==null?void 0:t.operationDefinition)==null?void 0:s.variableDefinitions,o=a==null?void 0:a.filter(r=>r.variable.name.value!==n.variableName);o&&i({nextVariableDefinitions:o}),Fn({variableNames:[n.variableName]}),e({type:"REMOVE",payload:{type:"INPUT_FIELD",nodeName:n.inputField.name}})},An=({ancestor:n,nextAction:e,setNextAction:i})=>{const t=n.selection;let a=[];if(e){if(n.parentType==="FIELD"){if(e.type==="ADD"){const o=t.value.fields.findIndex(s=>s.name.value===e.payload.node.name.value);o!==-1?(t.value.fields[o]=e.payload.node,a=[...t.value.fields]):a=[...t.value.fields,e.payload.node]}else if(e.type==="REMOVE"){const o=t.value.fields.filter(s=>s.name.value!==e.payload.nodeName);if(o.length===0)return i({type:"REMOVE",payload:{type:"ARGUMENT",nodeName:t.name.value}});a=o}}if(n.parentType==="INPUT_OBJECT"){if(e.type==="ADD"){const o=y(h({},t),{value:y(h({},t.value),{fields:[...t.value.fields,e.payload.node]})});return i({type:"ADD",payload:{type:"INPUT_FIELD",node:o}})}else if(e.type==="REMOVE"){const o=t.value.fields.filter(s=>s.name.value!==e.payload.nodeName);if(o.length===0)return i({type:"REMOVE",payload:{type:"ARGUMENT",nodeName:t.name.value}});a=o}}if(n.parentType==="FIELD"){const o=y(h({},t),{value:{kind:d.OBJECT,fields:a}});return i({type:"ADD",payload:{type:"ARGUMENT",node:o}})}if(n.parentType==="INPUT_OBJECT"){const o=y(h({},t),{value:{kind:d.OBJECT,fields:a}});return i({type:"ADD",payload:{type:"INPUT_FIELD",node:o}})}}console.log("no nextAction to perform in handleUpdateInputObject")},Mn=({ancestor:n,nextAction:e,setNextAction:i,nextSelectionSet:t,setNextSelectionSet:a})=>{var p,f;const o=F({ancestor:n}),s=n.selection;let r=h({},s);if(t&&(r=y(h({},r),{selectionSet:h(h({},r.selectionSet),t)})),(e==null?void 0:e.type)==="ADD"){const v=(p=s==null?void 0:s.arguments)==null?void 0:p.findIndex(c=>c.name.value===e.payload.node.name.value);v!==-1&&s.arguments?(s.arguments[v]=e.payload.node,r=y(h({},r),{arguments:s.arguments})):r=y(h({},r),{arguments:s.arguments?[...s.arguments,e.payload.node]:[e.payload.node]})}return(e==null?void 0:e.type)==="REMOVE"&&(r=y(h({},r),{arguments:(f=s==null?void 0:s.arguments)==null?void 0:f.filter(v=>v.name.value!==e.payload.nodeName)})),i(null),a({nextSelectionSet:{kind:d.SELECTION_SET,selections:o?[r,...o]:[r]}})},$n=({ancestor:n,nextSelectionSet:e,setNextSelectionSet:i})=>{const t=F({ancestor:n}),a=n.selection;if((e==null?void 0:e.selections.length)===0)return i({nextSelectionSet:{kind:d.SELECTION_SET,selections:t?[...t]:[]}});if(e)return a.selectionSet=e,i({nextSelectionSet:{kind:d.SELECTION_SET,selections:t?[a,...t]:[a]}})},kn=({ancestor:n,nextSelectionSet:e})=>{},Rn=({ancestors:n,get:e})=>{const i=T.getState().updateEditorTabData,t=C(),a=t==null?void 0:t.operationDefinition,o=n.values().next().value,s=e().setNextSelectionSet,r=e().setNextVariableDefinitions,p=e().setNextAction;n.forEach((c,E)=>{const O="rootTypeName"in c,G="field"in c,fe="onType"in c,me="argument"in c,ve="inputField"in c,ge="inputObject"in c;O?kn({ancestor:c,nextSelectionSet:e().nextSelectionSet}):c===o?(me&&(c.selection?xn({ancestor:c,setNextAction:p,setNextVariableDefinitions:r}):Cn({ancestor:c,setNextAction:p,setNextVariableDefinitions:r})),ve&&(c.selection?On({ancestor:c,setNextAction:p,setNextVariableDefinitions:r}):Ln({ancestor:c,setNextAction:p,setNextVariableDefinitions:r})),G&&(c.selection?wn({ancestor:c,setNextSelectionSet:s,setNextVariableDefinitions:r,target:o}):En({ancestor:c,setNextSelectionSet:s,setNextVariableDefinitions:r}))):(ge&&(c.selection?An({ancestor:c,nextAction:e().nextAction,setNextAction:p}):Nn({ancestor:c,nextAction:e().nextAction,setNextAction:p})),G&&(c.selection?Mn({ancestor:c,nextAction:e().nextAction,nextSelectionSet:e().nextSelectionSet,setNextAction:p,setNextSelectionSet:s}):In({ancestor:c,nextAction:e().nextAction,nextSelectionSet:e().nextSelectionSet,setNextSelectionSet:s})),fe&&(c.selection?$n({ancestor:c,nextSelectionSet:e().nextSelectionSet,setNextSelectionSet:s}):bn({ancestor:c,nextSelectionSet:e().nextSelectionSet,setNextSelectionSet:s})))});const f=e().nextSelectionSet,v=y(h({},a||{kind:d.OPERATION_DEFINITION,operation:"query",name:{kind:d.NAME,value:"ExampleQuery"}}),{variableDefinitions:e().nextVariableDefinitions,selectionSet:f!=null?f:{kind:d.SELECTION_SET,selections:[]}});f&&f.selections.length>0?i({dataType:"operation",newValue:Ge({kind:d.DOCUMENT,definitions:[v]})}):i({dataType:"operation",newValue:""}),s({nextSelectionSet:null}),r({nextVariableDefinitions:[]})},P=C();var le;const ne=(le=P==null?void 0:P.operationDefinition)==null?void 0:le.variableDefinitions,R=Ze((n,e)=>({descriptionsVisibility:"Below",setDescriptionsVisibility:i=>{n({descriptionsVisibility:i})},pillsVisibility:"Off",setPillsVisibility:i=>{n({pillsVisibility:i})},nextSelectionSet:null,setNextSelectionSet:({nextSelectionSet:i})=>{n({nextSelectionSet:i})},nextVariableDefinitions:ne?[...ne]:void 0,setNextVariableDefinitions:({nextVariableDefinitions:i})=>{n({nextVariableDefinitions:i})},nextAction:null,setNextAction:i=>{n({nextAction:i})},toggle:({ancestors:i})=>Rn({ancestors:i,get:e})})),Vn=u("div",{display:"flex",alignItems:"center",gap:4,span:{whiteSpace:"nowrap"}}),N=u("span",{fontWeight:"$semiBold",color:"$scale800"}),I=u("span",{fontWeight:"$regular",color:"$scale700"}),A=u("div",{display:"flex",alignItems:"center",justifyContent:"flex-start",textAlign:"left",gap:8,fontSize:11,lineHeight:1.3,color:"$scale700",fontWeight:"$regular",svg:{height:2,width:2}}),Pn=u("div",{display:"flex",gap:6,fontSize:"$body",variants:{descriptionsVisibility:{Below:{flexDirection:"column",alignItems:"flex-start",[`& ${A}`]:{svg:{display:"none"}}},Inline:{flexDirection:"row",alignItems:"center",[`& ${A}`]:{whiteSpace:"nowrap",overflow:"hidden"}},Off:{[`& ${A}`]:{display:"none"}}},isSelected:{true:{}},type:{FIELD:{},INLINE_FRAGMENT:{},ARGUMENT:{},INPUT_TYPE:{}}},compoundVariants:[{type:"FIELD",isSelected:!0,css:{[`& ${N}, & ${I}`]:{color:"$accentField"}}},{type:"INLINE_FRAGMENT",isSelected:!0,css:{[`& ${N}, & ${I}`]:{color:"$accentInfo"}}},{type:"ARGUMENT",isSelected:!0,css:{[`& ${N}, & ${I}`]:{color:"$accentArgument"}}},{type:"INPUT_TYPE",isSelected:!0,css:{[`& ${N}, & ${I}`]:{color:"$accentArgument"}}}]}),S=({name:n,description:e=null,isSelected:i,type:t,variant:a})=>{const{descriptionsVisibility:o,pillsVisibility:s}=R();return m(Pn,{isSelected:i,descriptionsVisibility:o,type:a,children:[m(Vn,{children:[l(N,{children:n}),t&&l(I,{children:t.toString()}),s==="On"&&t&&l(hn,{type:t})]}),e&&m(A,{children:[l(sn,{}),l("span",{children:e})]})]})},_n=u("div",{marginLeft:20}),ie=u("button",{display:"flex",alignItems:"center",justifyContent:"center",svg:{height:15,width:15},variants:{isActive:{false:{svg:{transform:"scale(0.85)"}}}}}),te=R.getState().toggle,ue=({ancestors:n})=>{const[e,i]=L.exports.useState(!1),{field:t,selectionSet:a}=n.values().next().value,o=pe(t.type),s=H(o)||W(o)||J(o)||t.args.length>0;let r;a&&a.selections&&(r=qe({fieldName:t.name,selections:[...a.selections]})),L.exports.useEffect(()=>{i(!!r)},[r]);let p=null;return J(o)?p=l(j,{ancestors:n,fields:o.getFields(),selection:r}):H(o)?p=l(j,{ancestors:n,fields:o.getFields(),selection:r}):W(o)&&(p=l(Xn,{ancestors:n,unionType:o,selection:r})),s?l(D,{content:m(_n,{children:[t.args.length>0&&l(cn,{ancestors:n,selection:r}),l(w,{children:p})]}),leadContent:l(S,{name:t.name,description:t.description||null,isSelected:!!r,type:t.type,variant:"FIELD"}),isExpanded:e,setIsExpanded:i,toggler:l(ie,{isActive:!!r,onClick:()=>te({ancestors:n}),children:l(K,{active:!!r})})}):m(ce,{children:[l(ie,{isActive:!!r,onClick:()=>te({ancestors:n}),children:l(K,{active:!!r})}),l(S,{name:t.name,description:t.description||null,isSelected:!!r,type:t.type,variant:"FIELD"})]})},U=({ancestors:n,renderingInputField:e,inputType:i})=>{const t=k.slug(),[a,o]=L.exports.useState(!1),s=i.getFields(),r=n.values().next().value;return l(D,{content:l(w,{children:a&&l(x,{children:Object.keys(s).map(p=>{var f,v;return _(s[p].type)?l(U,{ancestors:new Map([[`${s[p].name}-${t}`,{inputObject:s[p].type,name:s[p].name,parentType:"INPUT_OBJECT",selection:r.selection?r.selection.value.fields.find(c=>c.name.value===s[p].name):null}],...n]),inputType:s[p].type,renderingInputField:s[p]},s[p].name):l(M,{ancestors:new Map([[`${s[p].name}-${t}`,{inputField:s[p],parentInputObject:i,selection:r.selection?(v=((f=r.selection)==null?void 0:f.value).fields)==null?void 0:v.find(c=>c.name.value===p):null,variableName:`${de({ancestors:n})}${b(s[p].name)}`}],...n])},s[p].name)})})}),leadContent:l(S,{name:`${e.name}${$(e)||Ye(e)?"*":""}`,description:i.description||null,isSelected:!!r.selection,type:i,variant:"INPUT_TYPE"}),isExpanded:a,setIsExpanded:o})},j=({ancestors:n,fields:e,selection:i})=>{const t=k.slug();return l(w,{children:l(x,{children:e&&Object.keys(e).map(a=>{var o,s;return l(ue,{ancestors:new Map([[`${e[a].name}-${t}`,{field:e[a],selectionSet:i==null?void 0:i.selectionSet,selection:((s=(o=i==null?void 0:i.selectionSet)==null?void 0:o.selections)==null?void 0:s.find(r=>r.kind===d.FIELD&&r.name.value===e[a].name))||null}],...n])},e[a].name)})})})},Un=u("div",{display:"flex",flexDirection:"column",gap:24}),jn=()=>{const{descriptionsVisibility:n,pillsVisibility:e,setDescriptionsVisibility:i,setPillsVisibility:t}=R();return m(Un,{children:[l(Q,{title:"Type Pills",description:"Show or hide type pills",control:l(z,{ariaLabel:"Type pills visibility",defaultValue:"Off",items:[{ariaLabel:"Do not display type pills",value:"Off"},{ariaLabel:"Display type pills",value:"On"}],onChange:a=>t(a),size:"regular",value:e})}),l(Q,{title:"Descriptions",description:"Adjust visibility and display of descriptions",control:l(z,{ariaLabel:"Description visibility",defaultValue:"Inline",items:[{ariaLabel:"Descriptions below item details",value:"Below"},{ariaLabel:"Descriptions inline with item details",value:"Inline"},{ariaLabel:"Descriptions hidden",value:"Off"}],onChange:a=>i(a),size:"regular",value:n})})]})},Bn=()=>l(Je,{content:l(jn,{}),icon:l(He,{})}),Gn=u("div",{display:"flex",flexDirection:"column",gap:34,paddingTop:14,paddingRight:0,paddingBottom:0,paddingLeft:32,height:"100%"}),Zn=u("div",{display:"flex",justifyContent:"space-between",alignItems:"center",h2:{fontSize:"$display",fontWeight:"$semiBold",color:"$scale800",margin:0,padding:0}}),Yn=u("div",{position:"relative",height:"100%",width:"100%",overflowY:"auto"}),Hn=u("div",{position:"absolute",top:0,left:0,height:"100%",width:"100%",overflowX:"hidden"}),Wn=u("div",{display:"flex",alignItems:"center",gap:12,marginLeft:"auto"}),Jn=u("div",{backgroundColor:"$scale200",borderRadius:8,padding:12,gap:12,display:"flex",alignItems:"center",cursor:"not-allowed",span:{fontSize:"$body",color:"$scale700"},svg:{height:16,width:16}}),ti=()=>{const{schema:n}=T();if(!n)return l("p",{children:"loading schema..."});const e=n.getQueryType();return m(Gn,{children:[m(Zn,{children:[l("h2",{children:"Pathfinder"}),m(Wn,{children:[m(Jn,{children:[l(an,{}),l("span",{children:"Search"}),l(We,{}),l("span",{children:"K"})]}),l(Bn,{})]})]}),l(Yn,{children:l(Hn,{children:e?l(zn,{rootType:e}):null})})]})},Qn=u("span",{color:"$scale800",fontSize:"$body",fontWeight:"$semiBold"}),zn=({rootType:n})=>{const e=C(),i=e==null?void 0:e.operationDefinition,t=n.getFields(),[a,o]=L.exports.useState(!0);return l(D,{content:l(x,{children:Object.keys(t).sort().map(s=>{var r;return l(ue,{ancestors:new Map([[`${t[s].name}`,{field:t[s],selectionSet:i==null?void 0:i.selectionSet,selection:((r=i==null?void 0:i.selectionSet)==null?void 0:r.selections.find(p=>p.name.value===t[s].name))||null}],[`${n.name}`,{rootTypeName:n.name}]])},s)})}),leadContent:l(Qn,{children:n.name}),isExpanded:a,setIsExpanded:o})},qn=u("div",{display:"flex",alignItems:"flex-start",justifyContent:"flex-start",gap:8}),Kn=R.getState().toggle,M=({ancestors:n})=>{const e=n.values().next().value,i=!!e.selection;let t;return"inputField"in e?t=e.inputField:t=e.argument,m(qn,{children:[l("button",{onClick:()=>Kn({ancestors:n}),children:l(tn,{isSelected:i})}),l(S,{name:`${t.name}${$(t)?"*":""}`,description:t.description||null,isSelected:i,type:t.type,variant:"ARGUMENT"})]})},Xn=({ancestors:n,selection:e,unionType:i})=>{const t=i.getTypes();return l(x,{children:t.map(a=>l(ei,{ancestors:n,objectMember:a,selection:e},a.name))})},ei=({ancestors:n,objectMember:e,selection:i})=>{var r,p;const t=k.slug(),[a,o]=L.exports.useState(!1),s=(p=(r=i==null?void 0:i.selectionSet)==null?void 0:r.selections)==null?void 0:p.find(f=>{var v;return f.kind===d.INLINE_FRAGMENT&&((v=f.typeCondition)==null?void 0:v.name.value)===e.name});return l(D,{content:l(j,{ancestors:new Map([[`${e.name}-${t}`,{onType:e.name,selectionSet:i==null?void 0:i.selectionSet,selection:s||null}],...n]),fields:e.getFields(),selection:s}),leadContent:l(S,{name:"... on",description:e.description||null,isSelected:!!s,type:e,variant:"INLINE_FRAGMENT"}),isExpanded:a,setIsExpanded:o})};export{ti as P};
