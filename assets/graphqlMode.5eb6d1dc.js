var ur=Object.defineProperty;var cr=(e,t,i)=>t in e?ur(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var M=(e,t,i)=>(cr(e,typeof t!="symbol"?t+"":t,i),i);import{ah as $,ai as H,aY as te,at as Q,as as J,K as p,aZ as Ge,a_ as Xe,a$ as fr,b0 as N,b1 as K,b2 as kt,b3 as ue,b4 as de,ax as U,b5 as Ee,b6 as z,b7 as w,b8 as k,aw as Ye,b9 as Ue,ba as lr,bb as dr,bc as jt,bd as Vt,be as ae,al as Se,aj as sn,au as on,ak as Pe,ag as se,bf as pr,am as Ct,bg as pe,bh as Qe,bi as gr,bj as vr,bk as Mt,bl as mr,az as hr,bm as Er,bn as Tr,bo as Nr,bp as bn,bq as fe,br as Ut,bs as Pt,bt as yn,bu as In,bv as _n,bw as Dn,bx as Sn,by as On,bz as br,bA as yr,bB as Ir,bC as _r,bD as Dr,bE as Sr,bF as Or,bG as wr,bH as G,bI as re,bJ as Ar}from"./index.c85fb776.js";function le(e,t,i){return t===i?!0:$(i)?$(t)?le(e,t.ofType,i.ofType):!1:$(t)?le(e,t.ofType,i):H(i)?H(t)?le(e,t.ofType,i.ofType):!1:H(t)?!1:te(i)&&(Q(t)||J(t))&&e.isSubType(i,t)}function wn(e,t,i){return t===i?!0:te(t)?te(i)?e.getPossibleTypes(t).some(r=>e.isSubType(i,r)):e.isSubType(t,i):te(i)?e.isSubType(i,t):!1}function B(e,t){switch(t.kind){case p.LIST_TYPE:{const i=B(e,t.type);return i&&new Xe(i)}case p.NON_NULL_TYPE:{const i=B(e,t.type);return i&&new Ge(i)}case p.NAMED_TYPE:return e.getType(t.name.value)}}function Fr(e){return{Document(t){for(const i of t.definitions)if(!fr(i)){const r=i.kind===p.SCHEMA_DEFINITION||i.kind===p.SCHEMA_EXTENSION?"schema":'"'+i.name.value+'"';e.reportError(new N(`The ${r} definition is not executable.`,{nodes:i}))}return!1}}}function Rr(e){return{Field(t){const i=e.getParentType();if(i&&!e.getFieldDef()){const n=e.getSchema(),a=t.name.value;let s=K("to use an inline fragment on",Lr(n,i,a));s===""&&(s=K(kr(i,a))),e.reportError(new N(`Cannot query field "${a}" on type "${i.name}".`+s,{nodes:t}))}}}}function Lr(e,t,i){if(!te(t))return[];const r=new Set,n=Object.create(null);for(const s of e.getPossibleTypes(t))if(!!s.getFields()[i]){r.add(s),n[s.name]=1;for(const o of s.getInterfaces()){var a;!o.getFields()[i]||(r.add(o),n[o.name]=((a=n[o.name])!==null&&a!==void 0?a:0)+1)}}return[...r].sort((s,o)=>{const u=n[o.name]-n[s.name];return u!==0?u:Q(s)&&e.isSubType(s,o)?-1:Q(o)&&e.isSubType(o,s)?1:kt(s.name,o.name)}).map(s=>s.name)}function kr(e,t){if(J(e)||Q(e)){const i=Object.keys(e.getFields());return ue(t,i)}return[]}function jr(e){return{InlineFragment(t){const i=t.typeCondition;if(i){const r=B(e.getSchema(),i);if(r&&!de(r)){const n=U(i);e.reportError(new N(`Fragment cannot condition on non composite type "${n}".`,{nodes:i}))}}},FragmentDefinition(t){const i=B(e.getSchema(),t.typeCondition);if(i&&!de(i)){const r=U(t.typeCondition);e.reportError(new N(`Fragment "${t.name.value}" cannot condition on non composite type "${r}".`,{nodes:t.typeCondition}))}}}}function Vr(e){return{...$t(e),Argument(t){const i=e.getArgument(),r=e.getFieldDef(),n=e.getParentType();if(!i&&r&&n){const a=t.name.value,s=r.args.map(u=>u.name),o=ue(a,s);e.reportError(new N(`Unknown argument "${a}" on field "${n.name}.${r.name}".`+K(o),{nodes:t}))}}}}function $t(e){const t=Object.create(null),i=e.getSchema(),r=i?i.getDirectives():Ee;for(const s of r)t[s.name]=s.args.map(o=>o.name);const n=e.getDocument().definitions;for(const s of n)if(s.kind===p.DIRECTIVE_DEFINITION){var a;const o=(a=s.arguments)!==null&&a!==void 0?a:[];t[s.name.value]=o.map(u=>u.name.value)}return{Directive(s){const o=s.name.value,u=t[o];if(s.arguments&&u)for(const f of s.arguments){const d=f.name.value;if(!u.includes(d)){const g=ue(d,u);e.reportError(new N(`Unknown argument "${d}" on directive "@${o}".`+K(g),{nodes:f}))}}return!1}}}function xt(e){const t=Object.create(null),i=e.getSchema(),r=i?i.getDirectives():Ee;for(const a of r)t[a.name]=a.locations;const n=e.getDocument().definitions;for(const a of n)a.kind===p.DIRECTIVE_DEFINITION&&(t[a.name.value]=a.locations.map(s=>s.value));return{Directive(a,s,o,u,f){const d=a.name.value,g=t[d];if(!g){e.reportError(new N(`Unknown directive "@${d}".`,{nodes:a}));return}const h=Cr(f);h&&!g.includes(h)&&e.reportError(new N(`Directive "@${d}" may not be used on ${h}.`,{nodes:a}))}}}function Cr(e){const t=e[e.length-1];switch("kind"in t||z(!1),t.kind){case p.OPERATION_DEFINITION:return Mr(t.operation);case p.FIELD:return k.FIELD;case p.FRAGMENT_SPREAD:return k.FRAGMENT_SPREAD;case p.INLINE_FRAGMENT:return k.INLINE_FRAGMENT;case p.FRAGMENT_DEFINITION:return k.FRAGMENT_DEFINITION;case p.VARIABLE_DEFINITION:return k.VARIABLE_DEFINITION;case p.SCHEMA_DEFINITION:case p.SCHEMA_EXTENSION:return k.SCHEMA;case p.SCALAR_TYPE_DEFINITION:case p.SCALAR_TYPE_EXTENSION:return k.SCALAR;case p.OBJECT_TYPE_DEFINITION:case p.OBJECT_TYPE_EXTENSION:return k.OBJECT;case p.FIELD_DEFINITION:return k.FIELD_DEFINITION;case p.INTERFACE_TYPE_DEFINITION:case p.INTERFACE_TYPE_EXTENSION:return k.INTERFACE;case p.UNION_TYPE_DEFINITION:case p.UNION_TYPE_EXTENSION:return k.UNION;case p.ENUM_TYPE_DEFINITION:case p.ENUM_TYPE_EXTENSION:return k.ENUM;case p.ENUM_VALUE_DEFINITION:return k.ENUM_VALUE;case p.INPUT_OBJECT_TYPE_DEFINITION:case p.INPUT_OBJECT_TYPE_EXTENSION:return k.INPUT_OBJECT;case p.INPUT_VALUE_DEFINITION:{const i=e[e.length-3];return"kind"in i||z(!1),i.kind===p.INPUT_OBJECT_TYPE_DEFINITION?k.INPUT_FIELD_DEFINITION:k.ARGUMENT_DEFINITION}default:z(!1,"Unexpected kind: "+w(t.kind))}}function Mr(e){switch(e){case Ye.QUERY:return k.QUERY;case Ye.MUTATION:return k.MUTATION;case Ye.SUBSCRIPTION:return k.SUBSCRIPTION}}function Ur(e){return{FragmentSpread(t){const i=t.name.value;e.getFragment(i)||e.reportError(new N(`Unknown fragment "${i}".`,{nodes:t.name}))}}}function Yt(e){const t=e.getSchema(),i=t?t.getTypeMap():Object.create(null),r=Object.create(null);for(const a of e.getDocument().definitions)Ue(a)&&(r[a.name.value]=!0);const n=[...Object.keys(i),...Object.keys(r)];return{NamedType(a,s,o,u,f){const d=a.name.value;if(!i[d]&&!r[d]){var g;const h=(g=f[2])!==null&&g!==void 0?g:o,m=h!=null&&Pr(h);if(m&&An.includes(d))return;const S=ue(d,m?An.concat(n):n);e.reportError(new N(`Unknown type "${d}".`+K(S),{nodes:a}))}}}}const An=[...jt,...Vt].map(e=>e.name);function Pr(e){return"kind"in e&&(lr(e)||dr(e))}function $r(e){let t=0;return{Document(i){t=i.definitions.filter(r=>r.kind===p.OPERATION_DEFINITION).length},OperationDefinition(i){!i.name&&t>1&&e.reportError(new N("This anonymous operation must be the only defined operation.",{nodes:i}))}}}function xr(e){var t,i,r;const n=e.getSchema(),a=(t=(i=(r=n==null?void 0:n.astNode)!==null&&r!==void 0?r:n==null?void 0:n.getQueryType())!==null&&i!==void 0?i:n==null?void 0:n.getMutationType())!==null&&t!==void 0?t:n==null?void 0:n.getSubscriptionType();let s=0;return{SchemaDefinition(o){if(a){e.reportError(new N("Cannot define a new schema within a schema extension.",{nodes:o}));return}s>0&&e.reportError(new N("Must provide only one schema definition.",{nodes:o})),++s}}}function Yr(e){const t=Object.create(null),i=[],r=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(a){return n(a),!1}};function n(a){if(t[a.name.value])return;const s=a.name.value;t[s]=!0;const o=e.getFragmentSpreads(a.selectionSet);if(o.length!==0){r[s]=i.length;for(const u of o){const f=u.name.value,d=r[f];if(i.push(u),d===void 0){const g=e.getFragment(f);g&&n(g)}else{const g=i.slice(d),h=g.slice(0,-1).map(m=>'"'+m.name.value+'"').join(", ");e.reportError(new N(`Cannot spread fragment "${f}" within itself`+(h!==""?` via ${h}.`:"."),{nodes:g}))}i.pop()}r[s]=void 0}}}function qr(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(i){const r=e.getRecursiveVariableUsages(i);for(const{node:n}of r){const a=n.name.value;t[a]!==!0&&e.reportError(new N(i.name?`Variable "$${a}" is not defined by operation "${i.name.value}".`:`Variable "$${a}" is not defined.`,{nodes:[n,i]}))}}},VariableDefinition(i){t[i.variable.name.value]=!0}}}function Br(e){const t=[],i=[];return{OperationDefinition(r){return t.push(r),!1},FragmentDefinition(r){return i.push(r),!1},Document:{leave(){const r=Object.create(null);for(const n of t)for(const a of e.getRecursivelyReferencedFragments(n))r[a.name.value]=!0;for(const n of i){const a=n.name.value;r[a]!==!0&&e.reportError(new N(`Fragment "${a}" is never used.`,{nodes:n}))}}}}}function Gr(e){let t=[];return{OperationDefinition:{enter(){t=[]},leave(i){const r=Object.create(null),n=e.getRecursiveVariableUsages(i);for(const{node:a}of n)r[a.name.value]=!0;for(const a of t){const s=a.variable.name.value;r[s]!==!0&&e.reportError(new N(i.name?`Variable "$${s}" is never used in operation "${i.name.value}".`:`Variable "$${s}" is never used.`,{nodes:a}))}}},VariableDefinition(i){t.push(i)}}}function un(e){switch(e.kind){case p.OBJECT:return{...e,fields:Xr(e.fields)};case p.LIST:return{...e,values:e.values.map(un)};case p.INT:case p.FLOAT:case p.STRING:case p.BOOLEAN:case p.NULL:case p.ENUM:case p.VARIABLE:return e}}function Xr(e){return e.map(t=>({...t,value:un(t.value)})).sort((t,i)=>kt(t.name.value,i.name.value))}function qt(e){return Array.isArray(e)?e.map(([t,i])=>`subfields "${t}" conflict because `+qt(i)).join(" and "):e}function Qr(e){const t=new Zr,i=new Map;return{SelectionSet(r){const n=Jr(e,i,t,e.getParentType(),r);for(const[[a,s],o,u]of n){const f=qt(s);e.reportError(new N(`Fields "${a}" conflict because ${f}. Use different aliases on the fields to fetch both if this was intentional.`,{nodes:o.concat(u)}))}}}}function Jr(e,t,i,r,n){const a=[],[s,o]=Ae(e,t,r,n);if(Hr(e,a,t,i,s),o.length!==0)for(let u=0;u<o.length;u++){Oe(e,a,t,i,!1,s,o[u]);for(let f=u+1;f<o.length;f++)we(e,a,t,i,!1,o[u],o[f])}return a}function Oe(e,t,i,r,n,a,s){const o=e.getFragment(s);if(!o)return;const[u,f]=We(e,i,o);if(a!==u){cn(e,t,i,r,n,a,u);for(const d of f)r.has(d,s,n)||(r.add(d,s,n),Oe(e,t,i,r,n,a,d))}}function we(e,t,i,r,n,a,s){if(a===s||r.has(a,s,n))return;r.add(a,s,n);const o=e.getFragment(a),u=e.getFragment(s);if(!o||!u)return;const[f,d]=We(e,i,o),[g,h]=We(e,i,u);cn(e,t,i,r,n,f,g);for(const m of h)we(e,t,i,r,n,a,m);for(const m of d)we(e,t,i,r,n,m,s)}function Wr(e,t,i,r,n,a,s,o){const u=[],[f,d]=Ae(e,t,n,a),[g,h]=Ae(e,t,s,o);cn(e,u,t,i,r,f,g);for(const m of h)Oe(e,u,t,i,r,f,m);for(const m of d)Oe(e,u,t,i,r,g,m);for(const m of d)for(const S of h)we(e,u,t,i,r,m,S);return u}function Hr(e,t,i,r,n){for(const[a,s]of Object.entries(n))if(s.length>1)for(let o=0;o<s.length;o++)for(let u=o+1;u<s.length;u++){const f=Bt(e,i,r,!1,a,s[o],s[u]);f&&t.push(f)}}function cn(e,t,i,r,n,a,s){for(const[o,u]of Object.entries(a)){const f=s[o];if(f)for(const d of u)for(const g of f){const h=Bt(e,i,r,n,o,d,g);h&&t.push(h)}}}function Bt(e,t,i,r,n,a,s){const[o,u,f]=a,[d,g,h]=s,m=r||o!==d&&J(o)&&J(d);if(!m){const ee=u.name.value,Ne=g.name.value;if(ee!==Ne)return[[n,`"${ee}" and "${Ne}" are different fields`],[u],[g]];if(Fn(u)!==Fn(g))return[[n,"they have differing arguments"],[u],[g]]}const S=f==null?void 0:f.type,j=h==null?void 0:h.type;if(S&&j&&Je(S,j))return[[n,`they return conflicting types "${w(S)}" and "${w(j)}"`],[u],[g]];const P=u.selectionSet,Te=g.selectionSet;if(P&&Te){const ee=Wr(e,t,i,m,ae(S),P,ae(j),Te);return zr(ee,n,u,g)}}function Fn(e){var t;const i=(t=e.arguments)!==null&&t!==void 0?t:[],r={kind:p.OBJECT,fields:i.map(n=>({kind:p.OBJECT_FIELD,name:n.name,value:n.value}))};return U(un(r))}function Je(e,t){return H(e)?H(t)?Je(e.ofType,t.ofType):!0:H(t)?!0:$(e)?$(t)?Je(e.ofType,t.ofType):!0:$(t)?!0:Se(e)||Se(t)?e!==t:!1}function Ae(e,t,i,r){const n=t.get(r);if(n)return n;const a=Object.create(null),s=Object.create(null);Gt(e,i,r,a,s);const o=[a,Object.keys(s)];return t.set(r,o),o}function We(e,t,i){const r=t.get(i.selectionSet);if(r)return r;const n=B(e.getSchema(),i.typeCondition);return Ae(e,t,n,i.selectionSet)}function Gt(e,t,i,r,n){for(const a of i.selections)switch(a.kind){case p.FIELD:{const s=a.name.value;let o;(J(t)||Q(t))&&(o=t.getFields()[s]);const u=a.alias?a.alias.value:s;r[u]||(r[u]=[]),r[u].push([t,a,o]);break}case p.FRAGMENT_SPREAD:n[a.name.value]=!0;break;case p.INLINE_FRAGMENT:{const s=a.typeCondition,o=s?B(e.getSchema(),s):t;Gt(e,o,a.selectionSet,r,n);break}}}function zr(e,t,i,r){if(e.length>0)return[[t,e.map(([n])=>n)],[i,...e.map(([,n])=>n).flat()],[r,...e.map(([,,n])=>n).flat()]]}class Zr{constructor(){this._data=new Map}has(t,i,r){var n;const[a,s]=t<i?[t,i]:[i,t],o=(n=this._data.get(a))===null||n===void 0?void 0:n.get(s);return o===void 0?!1:r?!0:r===o}add(t,i,r){const[n,a]=t<i?[t,i]:[i,t],s=this._data.get(n);s===void 0?this._data.set(n,new Map([[a,r]])):s.set(a,r)}}function Kr(e){return{InlineFragment(t){const i=e.getType(),r=e.getParentType();if(de(i)&&de(r)&&!wn(e.getSchema(),i,r)){const n=w(r),a=w(i);e.reportError(new N(`Fragment cannot be spread here as objects of type "${n}" can never be of type "${a}".`,{nodes:t}))}},FragmentSpread(t){const i=t.name.value,r=ei(e,i),n=e.getParentType();if(r&&n&&!wn(e.getSchema(),r,n)){const a=w(n),s=w(r);e.reportError(new N(`Fragment "${i}" cannot be spread here as objects of type "${a}" can never be of type "${s}".`,{nodes:t}))}}}}function ei(e,t){const i=e.getFragment(t);if(i){const r=B(e.getSchema(),i.typeCondition);if(de(r))return r}}function ni(e){const t=e.getSchema(),i=Object.create(null);for(const n of e.getDocument().definitions)Ue(n)&&(i[n.name.value]=n);return{ScalarTypeExtension:r,ObjectTypeExtension:r,InterfaceTypeExtension:r,UnionTypeExtension:r,EnumTypeExtension:r,InputObjectTypeExtension:r};function r(n){const a=n.name.value,s=i[a],o=t==null?void 0:t.getType(a);let u;if(s?u=ti[s.kind]:o&&(u=ri(o)),u){if(u!==n.kind){const f=ii(n.kind);e.reportError(new N(`Cannot extend non-${f} type "${a}".`,{nodes:s?[s,n]:n}))}}else{const f=Object.keys({...i,...t==null?void 0:t.getTypeMap()}),d=ue(a,f);e.reportError(new N(`Cannot extend type "${a}" because it is not defined.`+K(d),{nodes:n.name}))}}}const ti={[p.SCALAR_TYPE_DEFINITION]:p.SCALAR_TYPE_EXTENSION,[p.OBJECT_TYPE_DEFINITION]:p.OBJECT_TYPE_EXTENSION,[p.INTERFACE_TYPE_DEFINITION]:p.INTERFACE_TYPE_EXTENSION,[p.UNION_TYPE_DEFINITION]:p.UNION_TYPE_EXTENSION,[p.ENUM_TYPE_DEFINITION]:p.ENUM_TYPE_EXTENSION,[p.INPUT_OBJECT_TYPE_DEFINITION]:p.INPUT_OBJECT_TYPE_EXTENSION};function ri(e){if(sn(e))return p.SCALAR_TYPE_EXTENSION;if(J(e))return p.OBJECT_TYPE_EXTENSION;if(Q(e))return p.INTERFACE_TYPE_EXTENSION;if(on(e))return p.UNION_TYPE_EXTENSION;if(Pe(e))return p.ENUM_TYPE_EXTENSION;if(se(e))return p.INPUT_OBJECT_TYPE_EXTENSION;z(!1,"Unexpected type: "+w(e))}function ii(e){switch(e){case p.SCALAR_TYPE_EXTENSION:return"scalar";case p.OBJECT_TYPE_EXTENSION:return"object";case p.INTERFACE_TYPE_EXTENSION:return"interface";case p.UNION_TYPE_EXTENSION:return"union";case p.ENUM_TYPE_EXTENSION:return"enum";case p.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:z(!1,"Unexpected kind: "+w(e))}}function ai(e){return{...Xt(e),Field:{leave(t){var i;const r=e.getFieldDef();if(!r)return!1;const n=new Set((i=t.arguments)===null||i===void 0?void 0:i.map(a=>a.name.value));for(const a of r.args)if(!n.has(a.name)&&Ct(a)){const s=w(a.type);e.reportError(new N(`Field "${r.name}" argument "${a.name}" of type "${s}" is required, but it was not provided.`,{nodes:t}))}}}}}function Xt(e){var t;const i=Object.create(null),r=e.getSchema(),n=(t=r==null?void 0:r.getDirectives())!==null&&t!==void 0?t:Ee;for(const o of n)i[o.name]=pe(o.args.filter(Ct),u=>u.name);const a=e.getDocument().definitions;for(const o of a)if(o.kind===p.DIRECTIVE_DEFINITION){var s;const u=(s=o.arguments)!==null&&s!==void 0?s:[];i[o.name.value]=pe(u.filter(si),f=>f.name.value)}return{Directive:{leave(o){const u=o.name.value,f=i[u];if(f){var d;const g=(d=o.arguments)!==null&&d!==void 0?d:[],h=new Set(g.map(m=>m.name.value));for(const[m,S]of Object.entries(f))if(!h.has(m)){const j=pr(S.type)?w(S.type):U(S.type);e.reportError(new N(`Directive "@${u}" argument "${m}" of type "${j}" is required, but it was not provided.`,{nodes:o}))}}}}}}function si(e){return e.type.kind===p.NON_NULL_TYPE&&e.defaultValue==null}function oi(e){return{Field(t){const i=e.getType(),r=t.selectionSet;if(i){if(Se(ae(i))){if(r){const n=t.name.value,a=w(i);e.reportError(new N(`Field "${n}" must not have a selection since type "${a}" has no subfields.`,{nodes:r}))}}else if(!r){const n=t.name.value,a=w(i);e.reportError(new N(`Field "${n}" of type "${a}" must have a selection of subfields. Did you mean "${n} { ... }"?`,{nodes:t}))}}}}}function ui(e,t,i){var r;const n={},a=(r=t.arguments)!==null&&r!==void 0?r:[],s=pe(a,o=>o.name.value);for(const o of e.args){const u=o.name,f=o.type,d=s[u];if(!d){if(o.defaultValue!==void 0)n[u]=o.defaultValue;else if($(f))throw new N(`Argument "${u}" of required type "${w(f)}" was not provided.`,{nodes:t});continue}const g=d.value;let h=g.kind===p.NULL;if(g.kind===p.VARIABLE){const S=g.name.value;if(i==null||!ci(i,S)){if(o.defaultValue!==void 0)n[u]=o.defaultValue;else if($(f))throw new N(`Argument "${u}" of required type "${w(f)}" was provided the variable "$${S}" which was not provided a runtime value.`,{nodes:g});continue}h=i[S]==null}if(h&&$(f))throw new N(`Argument "${u}" of non-null type "${w(f)}" must not be null.`,{nodes:g});const m=Qe(g,f,i);if(m===void 0)throw new N(`Argument "${u}" has invalid value ${U(g)}.`,{nodes:g});n[u]=m}return n}function Fe(e,t,i){var r;const n=(r=t.directives)===null||r===void 0?void 0:r.find(a=>a.name.value===e.name);if(n)return ui(e,n,i)}function ci(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function fi(e,t,i,r,n){const a=new Map;return He(e,t,i,r,n,a,new Set),a}function He(e,t,i,r,n,a,s){for(const o of n.selections)switch(o.kind){case p.FIELD:{if(!qe(i,o))continue;const u=li(o),f=a.get(u);f!==void 0?f.push(o):a.set(u,[o]);break}case p.INLINE_FRAGMENT:{if(!qe(i,o)||!Rn(e,o,r))continue;He(e,t,i,r,o.selectionSet,a,s);break}case p.FRAGMENT_SPREAD:{const u=o.name.value;if(s.has(u)||!qe(i,o))continue;s.add(u);const f=t[u];if(!f||!Rn(e,f,r))continue;He(e,t,i,r,f.selectionSet,a,s);break}}}function qe(e,t){const i=Fe(gr,t,e);if((i==null?void 0:i.if)===!0)return!1;const r=Fe(vr,t,e);return(r==null?void 0:r.if)!==!1}function Rn(e,t,i){const r=t.typeCondition;if(!r)return!0;const n=B(e,r);return n===i?!0:te(n)?e.isSubType(n,i):!1}function li(e){return e.alias?e.alias.value:e.name.value}function di(e){return{OperationDefinition(t){if(t.operation==="subscription"){const i=e.getSchema(),r=i.getSubscriptionType();if(r){const n=t.name?t.name.value:null,a=Object.create(null),s=e.getDocument(),o=Object.create(null);for(const f of s.definitions)f.kind===p.FRAGMENT_DEFINITION&&(o[f.name.value]=f);const u=fi(i,o,a,r,t.selectionSet);if(u.size>1){const g=[...u.values()].slice(1).flat();e.reportError(new N(n!=null?`Subscription "${n}" must select only one top level field.`:"Anonymous Subscription must select only one top level field.",{nodes:g}))}for(const f of u.values())f[0].name.value.startsWith("__")&&e.reportError(new N(n!=null?`Subscription "${n}" must not select an introspection top level field.`:"Anonymous Subscription must not select an introspection top level field.",{nodes:f}))}}}}}function fn(e,t){const i=new Map;for(const r of e){const n=t(r),a=i.get(n);a===void 0?i.set(n,[r]):a.push(r)}return i}function pi(e){return{DirectiveDefinition(r){var n;const a=(n=r.arguments)!==null&&n!==void 0?n:[];return i(`@${r.name.value}`,a)},InterfaceTypeDefinition:t,InterfaceTypeExtension:t,ObjectTypeDefinition:t,ObjectTypeExtension:t};function t(r){var n;const a=r.name.value,s=(n=r.fields)!==null&&n!==void 0?n:[];for(const u of s){var o;const f=u.name.value,d=(o=u.arguments)!==null&&o!==void 0?o:[];i(`${a}.${f}`,d)}return!1}function i(r,n){const a=fn(n,s=>s.name.value);for(const[s,o]of a)o.length>1&&e.reportError(new N(`Argument "${r}(${s}:)" can only be defined once.`,{nodes:o.map(u=>u.name)}));return!1}}function Qt(e){return{Field:t,Directive:t};function t(i){var r;const n=(r=i.arguments)!==null&&r!==void 0?r:[],a=fn(n,s=>s.name.value);for(const[s,o]of a)o.length>1&&e.reportError(new N(`There can be only one argument named "${s}".`,{nodes:o.map(u=>u.name)}))}}function gi(e){const t=Object.create(null),i=e.getSchema();return{DirectiveDefinition(r){const n=r.name.value;if(i!=null&&i.getDirective(n)){e.reportError(new N(`Directive "@${n}" already exists in the schema. It cannot be redefined.`,{nodes:r.name}));return}return t[n]?e.reportError(new N(`There can be only one directive named "@${n}".`,{nodes:[t[n],r.name]})):t[n]=r.name,!1}}}function Jt(e){const t=Object.create(null),i=e.getSchema(),r=i?i.getDirectives():Ee;for(const o of r)t[o.name]=!o.isRepeatable;const n=e.getDocument().definitions;for(const o of n)o.kind===p.DIRECTIVE_DEFINITION&&(t[o.name.value]=!o.repeatable);const a=Object.create(null),s=Object.create(null);return{enter(o){if(!("directives"in o)||!o.directives)return;let u;if(o.kind===p.SCHEMA_DEFINITION||o.kind===p.SCHEMA_EXTENSION)u=a;else if(Ue(o)||Mt(o)){const f=o.name.value;u=s[f],u===void 0&&(s[f]=u=Object.create(null))}else u=Object.create(null);for(const f of o.directives){const d=f.name.value;t[d]&&(u[d]?e.reportError(new N(`The directive "@${d}" can only be used once at this location.`,{nodes:[u[d],f]})):u[d]=f)}}}}function vi(e){const t=e.getSchema(),i=t?t.getTypeMap():Object.create(null),r=Object.create(null);return{EnumTypeDefinition:n,EnumTypeExtension:n};function n(a){var s;const o=a.name.value;r[o]||(r[o]=Object.create(null));const u=(s=a.values)!==null&&s!==void 0?s:[],f=r[o];for(const d of u){const g=d.name.value,h=i[o];Pe(h)&&h.getValue(g)?e.reportError(new N(`Enum value "${o}.${g}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:d.name})):f[g]?e.reportError(new N(`Enum value "${o}.${g}" can only be defined once.`,{nodes:[f[g],d.name]})):f[g]=d.name}return!1}}function mi(e){const t=e.getSchema(),i=t?t.getTypeMap():Object.create(null),r=Object.create(null);return{InputObjectTypeDefinition:n,InputObjectTypeExtension:n,InterfaceTypeDefinition:n,InterfaceTypeExtension:n,ObjectTypeDefinition:n,ObjectTypeExtension:n};function n(a){var s;const o=a.name.value;r[o]||(r[o]=Object.create(null));const u=(s=a.fields)!==null&&s!==void 0?s:[],f=r[o];for(const d of u){const g=d.name.value;hi(i[o],g)?e.reportError(new N(`Field "${o}.${g}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:d.name})):f[g]?e.reportError(new N(`Field "${o}.${g}" can only be defined once.`,{nodes:[f[g],d.name]})):f[g]=d.name}return!1}}function hi(e,t){return J(e)||Q(e)||se(e)?e.getFields()[t]!=null:!1}function Ei(e){const t=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(i){const r=i.name.value;return t[r]?e.reportError(new N(`There can be only one fragment named "${r}".`,{nodes:[t[r],i.name]})):t[r]=i.name,!1}}}function Wt(e){const t=[];let i=Object.create(null);return{ObjectValue:{enter(){t.push(i),i=Object.create(null)},leave(){const r=t.pop();r||z(!1),i=r}},ObjectField(r){const n=r.name.value;i[n]?e.reportError(new N(`There can be only one input field named "${n}".`,{nodes:[i[n],r.name]})):i[n]=r.name}}}function Ti(e){const t=Object.create(null);return{OperationDefinition(i){const r=i.name;return r&&(t[r.value]?e.reportError(new N(`There can be only one operation named "${r.value}".`,{nodes:[t[r.value],r]})):t[r.value]=r),!1},FragmentDefinition:()=>!1}}function Ni(e){const t=e.getSchema(),i=Object.create(null),r=t?{query:t.getQueryType(),mutation:t.getMutationType(),subscription:t.getSubscriptionType()}:{};return{SchemaDefinition:n,SchemaExtension:n};function n(a){var s;const o=(s=a.operationTypes)!==null&&s!==void 0?s:[];for(const u of o){const f=u.operation,d=i[f];r[f]?e.reportError(new N(`Type for ${f} already defined in the schema. It cannot be redefined.`,{nodes:u})):d?e.reportError(new N(`There can be only one ${f} type in schema.`,{nodes:[d,u]})):i[f]=u}return!1}}function bi(e){const t=Object.create(null),i=e.getSchema();return{ScalarTypeDefinition:r,ObjectTypeDefinition:r,InterfaceTypeDefinition:r,UnionTypeDefinition:r,EnumTypeDefinition:r,InputObjectTypeDefinition:r};function r(n){const a=n.name.value;if(i!=null&&i.getType(a)){e.reportError(new N(`Type "${a}" already exists in the schema. It cannot also be defined in this type definition.`,{nodes:n.name}));return}return t[a]?e.reportError(new N(`There can be only one type named "${a}".`,{nodes:[t[a],n.name]})):t[a]=n.name,!1}}function yi(e){return{OperationDefinition(t){var i;const r=(i=t.variableDefinitions)!==null&&i!==void 0?i:[],n=fn(r,a=>a.variable.name.value);for(const[a,s]of n)s.length>1&&e.reportError(new N(`There can be only one variable named "$${a}".`,{nodes:s.map(o=>o.variable.name)}))}}}function Ii(e){return{ListValue(t){const i=mr(e.getParentInputType());if(!H(i))return Z(e,t),!1},ObjectValue(t){const i=ae(e.getInputType());if(!se(i))return Z(e,t),!1;const r=pe(t.fields,n=>n.name.value);for(const n of Object.values(i.getFields()))if(!r[n.name]&&hr(n)){const s=w(n.type);e.reportError(new N(`Field "${i.name}.${n.name}" of required type "${s}" was not provided.`,{nodes:t}))}},ObjectField(t){const i=ae(e.getParentInputType());if(!e.getInputType()&&se(i)){const n=ue(t.name.value,Object.keys(i.getFields()));e.reportError(new N(`Field "${t.name.value}" is not defined by type "${i.name}".`+K(n),{nodes:t}))}},NullValue(t){const i=e.getInputType();$(i)&&e.reportError(new N(`Expected value of type "${w(i)}", found ${U(t)}.`,{nodes:t}))},EnumValue:t=>Z(e,t),IntValue:t=>Z(e,t),FloatValue:t=>Z(e,t),StringValue:t=>Z(e,t),BooleanValue:t=>Z(e,t)}}function Z(e,t){const i=e.getInputType();if(!i)return;const r=ae(i);if(!Se(r)){const n=w(i);e.reportError(new N(`Expected value of type "${n}", found ${U(t)}.`,{nodes:t}));return}try{if(r.parseLiteral(t,void 0)===void 0){const a=w(i);e.reportError(new N(`Expected value of type "${a}", found ${U(t)}.`,{nodes:t}))}}catch(n){const a=w(i);n instanceof N?e.reportError(n):e.reportError(new N(`Expected value of type "${a}", found ${U(t)}; `+n.message,{nodes:t,originalError:n}))}}function _i(e){return{VariableDefinition(t){const i=B(e.getSchema(),t.type);if(i!==void 0&&!Er(i)){const r=t.variable.name.value,n=U(t.type);e.reportError(new N(`Variable "$${r}" cannot be non-input type "${n}".`,{nodes:t.type}))}}}}function Di(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(i){const r=e.getRecursiveVariableUsages(i);for(const{node:n,type:a,defaultValue:s}of r){const o=n.name.value,u=t[o];if(u&&a){const f=e.getSchema(),d=B(f,u.type);if(d&&!Si(f,d,u.defaultValue,a,s)){const g=w(d),h=w(a);e.reportError(new N(`Variable "$${o}" of type "${g}" used in position expecting type "${h}".`,{nodes:[u,n]}))}}}}},VariableDefinition(i){t[i.variable.name.value]=i}}}function Si(e,t,i,r,n){if($(r)&&!$(t)){if(!(i!=null&&i.kind!==p.NULL)&&!(n!==void 0))return!1;const o=r.ofType;return le(e,t,o)}return le(e,t,r)}Object.freeze([Fr,Ti,$r,di,Yt,jr,_i,oi,Rr,Ei,Ur,Br,Kr,Yr,yi,qr,Gr,xt,Jt,Vr,Qt,Ii,ai,Di,Qr,Wt]);const Oi=Object.freeze([xr,Ni,bi,vi,mi,pi,gi,Yt,xt,Jt,ni,$t,Qt,Wt,Xt]);class wi{constructor(t,i){this._ast=t,this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=i}get[Symbol.toStringTag](){return"ASTValidationContext"}reportError(t){this._onError(t)}getDocument(){return this._ast}getFragment(t){let i;if(this._fragments)i=this._fragments;else{i=Object.create(null);for(const r of this.getDocument().definitions)r.kind===p.FRAGMENT_DEFINITION&&(i[r.name.value]=r);this._fragments=i}return i[t]}getFragmentSpreads(t){let i=this._fragmentSpreads.get(t);if(!i){i=[];const r=[t];let n;for(;n=r.pop();)for(const a of n.selections)a.kind===p.FRAGMENT_SPREAD?i.push(a):a.selectionSet&&r.push(a.selectionSet);this._fragmentSpreads.set(t,i)}return i}getRecursivelyReferencedFragments(t){let i=this._recursivelyReferencedFragments.get(t);if(!i){i=[];const r=Object.create(null),n=[t.selectionSet];let a;for(;a=n.pop();)for(const s of this.getFragmentSpreads(a)){const o=s.name.value;if(r[o]!==!0){r[o]=!0;const u=this.getFragment(o);u&&(i.push(u),n.push(u.selectionSet))}}this._recursivelyReferencedFragments.set(t,i)}return i}}class Ai extends wi{constructor(t,i,r){super(t,r),this._schema=i}get[Symbol.toStringTag](){return"SDLValidationContext"}getSchema(){return this._schema}}function Fi(e,t,i=Oi){const r=[],n=new Ai(e,t,s=>{r.push(s)}),a=i.map(s=>s(n));return Tr(e,Nr(a)),r}function Ri(e){const t=Fi(e);if(t.length!==0)throw new Error(t.map(i=>i.message).join(`

`))}function Li(e,t,i){var r,n,a,s;const o=[],u=Object.create(null),f=[];let d;const g=[];for(const l of t.definitions)if(l.kind===p.SCHEMA_DEFINITION)d=l;else if(l.kind===p.SCHEMA_EXTENSION)g.push(l);else if(Ue(l))o.push(l);else if(Mt(l)){const E=l.name.value,v=u[E];u[E]=v?v.concat([l]):[l]}else l.kind===p.DIRECTIVE_DEFINITION&&f.push(l);if(Object.keys(u).length===0&&o.length===0&&f.length===0&&g.length===0&&d==null)return e;const h=Object.create(null);for(const l of e.types)h[l.name]=ee(l);for(const l of o){var m;const E=l.name.value;h[E]=(m=Ln[E])!==null&&m!==void 0?m:or(l)}const S={query:e.query&&P(e.query),mutation:e.mutation&&P(e.mutation),subscription:e.subscription&&P(e.subscription),...d&&mn([d]),...mn(g)};return{description:(r=d)===null||r===void 0||(n=r.description)===null||n===void 0?void 0:n.value,...S,types:Object.values(h),directives:[...e.directives.map(Te),...f.map(sr)],extensions:Object.create(null),astNode:(a=d)!==null&&a!==void 0?a:e.astNode,extensionASTNodes:e.extensionASTNodes.concat(g),assumeValid:(s=i==null?void 0:i.assumeValid)!==null&&s!==void 0?s:!1};function j(l){return H(l)?new Xe(j(l.ofType)):$(l)?new Ge(j(l.ofType)):P(l)}function P(l){return h[l.name]}function Te(l){const E=l.toConfig();return new bn({...E,args:fe(E.args,vn)})}function ee(l){if(Ut(l)||Pt(l))return l;if(sn(l))return tr(l);if(J(l))return rr(l);if(Q(l))return ir(l);if(on(l))return ar(l);if(Pe(l))return nr(l);if(se(l))return Ne(l);z(!1,"Unexpected type: "+w(l))}function Ne(l){var E;const v=l.toConfig(),T=(E=u[v.name])!==null&&E!==void 0?E:[];return new On({...v,fields:()=>({...fe(v.fields,O=>({...O,type:j(O.type)})),...En(T)}),extensionASTNodes:v.extensionASTNodes.concat(T)})}function nr(l){var E;const v=l.toConfig(),T=(E=u[l.name])!==null&&E!==void 0?E:[];return new Sn({...v,values:{...v.values,...Tn(T)},extensionASTNodes:v.extensionASTNodes.concat(T)})}function tr(l){var E;const v=l.toConfig(),T=(E=u[v.name])!==null&&E!==void 0?E:[];let O=v.specifiedByURL;for(const A of T){var L;O=(L=kn(A))!==null&&L!==void 0?L:O}return new yn({...v,specifiedByURL:O,extensionASTNodes:v.extensionASTNodes.concat(T)})}function rr(l){var E;const v=l.toConfig(),T=(E=u[v.name])!==null&&E!==void 0?E:[];return new In({...v,interfaces:()=>[...l.getInterfaces().map(P),...Ie(T)],fields:()=>({...fe(v.fields,gn),...ye(T)}),extensionASTNodes:v.extensionASTNodes.concat(T)})}function ir(l){var E;const v=l.toConfig(),T=(E=u[v.name])!==null&&E!==void 0?E:[];return new _n({...v,interfaces:()=>[...l.getInterfaces().map(P),...Ie(T)],fields:()=>({...fe(v.fields,gn),...ye(T)}),extensionASTNodes:v.extensionASTNodes.concat(T)})}function ar(l){var E;const v=l.toConfig(),T=(E=u[v.name])!==null&&E!==void 0?E:[];return new Dn({...v,types:()=>[...l.getTypes().map(P),...Nn(T)],extensionASTNodes:v.extensionASTNodes.concat(T)})}function gn(l){return{...l,type:j(l.type),args:l.args&&fe(l.args,vn)}}function vn(l){return{...l,type:j(l.type)}}function mn(l){const E={};for(const T of l){var v;const O=(v=T.operationTypes)!==null&&v!==void 0?v:[];for(const L of O)E[L.operation]=be(L.type)}return E}function be(l){var E;const v=l.name.value,T=(E=Ln[v])!==null&&E!==void 0?E:h[v];if(T===void 0)throw new Error(`Unknown type: "${v}".`);return T}function ce(l){return l.kind===p.LIST_TYPE?new Xe(ce(l.type)):l.kind===p.NON_NULL_TYPE?new Ge(ce(l.type)):be(l)}function sr(l){var E;return new bn({name:l.name.value,description:(E=l.description)===null||E===void 0?void 0:E.value,locations:l.locations.map(({value:v})=>v),isRepeatable:l.repeatable,args:hn(l.arguments),astNode:l})}function ye(l){const E=Object.create(null);for(const O of l){var v;const L=(v=O.fields)!==null&&v!==void 0?v:[];for(const A of L){var T;E[A.name.value]={type:ce(A.type),description:(T=A.description)===null||T===void 0?void 0:T.value,args:hn(A.arguments),deprecationReason:_e(A),astNode:A}}}return E}function hn(l){const E=l!=null?l:[],v=Object.create(null);for(const O of E){var T;const L=ce(O.type);v[O.name.value]={type:L,description:(T=O.description)===null||T===void 0?void 0:T.value,defaultValue:Qe(O.defaultValue,L),deprecationReason:_e(O),astNode:O}}return v}function En(l){const E=Object.create(null);for(const O of l){var v;const L=(v=O.fields)!==null&&v!==void 0?v:[];for(const A of L){var T;const ne=ce(A.type);E[A.name.value]={type:ne,description:(T=A.description)===null||T===void 0?void 0:T.value,defaultValue:Qe(A.defaultValue,ne),deprecationReason:_e(A),astNode:A}}}return E}function Tn(l){const E=Object.create(null);for(const O of l){var v;const L=(v=O.values)!==null&&v!==void 0?v:[];for(const A of L){var T;E[A.name.value]={description:(T=A.description)===null||T===void 0?void 0:T.value,deprecationReason:_e(A),astNode:A}}}return E}function Ie(l){return l.flatMap(E=>{var v,T;return(v=(T=E.interfaces)===null||T===void 0?void 0:T.map(be))!==null&&v!==void 0?v:[]})}function Nn(l){return l.flatMap(E=>{var v,T;return(v=(T=E.types)===null||T===void 0?void 0:T.map(be))!==null&&v!==void 0?v:[]})}function or(l){var E;const v=l.name.value,T=(E=u[v])!==null&&E!==void 0?E:[];switch(l.kind){case p.OBJECT_TYPE_DEFINITION:{var O;const Y=[l,...T];return new In({name:v,description:(O=l.description)===null||O===void 0?void 0:O.value,interfaces:()=>Ie(Y),fields:()=>ye(Y),astNode:l,extensionASTNodes:T})}case p.INTERFACE_TYPE_DEFINITION:{var L;const Y=[l,...T];return new _n({name:v,description:(L=l.description)===null||L===void 0?void 0:L.value,interfaces:()=>Ie(Y),fields:()=>ye(Y),astNode:l,extensionASTNodes:T})}case p.ENUM_TYPE_DEFINITION:{var A;const Y=[l,...T];return new Sn({name:v,description:(A=l.description)===null||A===void 0?void 0:A.value,values:Tn(Y),astNode:l,extensionASTNodes:T})}case p.UNION_TYPE_DEFINITION:{var ne;const Y=[l,...T];return new Dn({name:v,description:(ne=l.description)===null||ne===void 0?void 0:ne.value,types:()=>Nn(Y),astNode:l,extensionASTNodes:T})}case p.SCALAR_TYPE_DEFINITION:{var $e;return new yn({name:v,description:($e=l.description)===null||$e===void 0?void 0:$e.value,specifiedByURL:kn(l),astNode:l,extensionASTNodes:T})}case p.INPUT_OBJECT_TYPE_DEFINITION:{var xe;const Y=[l,...T];return new On({name:v,description:(xe=l.description)===null||xe===void 0?void 0:xe.value,fields:()=>En(Y),astNode:l,extensionASTNodes:T})}}}}const Ln=pe([...jt,...Vt],e=>e.name);function _e(e){const t=Fe(br,e);return t==null?void 0:t.reason}function kn(e){const t=Fe(yr,e);return t==null?void 0:t.url}function ki(e,t){e!=null&&e.kind===p.DOCUMENT||_r(!1,"Must provide valid Document AST."),(t==null?void 0:t.assumeValid)!==!0&&(t==null?void 0:t.assumeValidSDL)!==!0&&Ri(e);const r=Li({description:void 0,types:[],directives:[],extensions:Object.create(null),extensionASTNodes:[],assumeValid:!1},e,t);if(r.astNode==null)for(const a of r.types)switch(a.name){case"Query":r.query=a;break;case"Mutation":r.mutation=a;break;case"Subscription":r.subscription=a;break}const n=[...r.directives,...Ee.filter(a=>r.directives.every(s=>s.name!==a.name))];return new Ir({...r,directives:n})}function jn(e){return Vi(e,t=>!wr(t),ji)}function ji(e){return!Pt(e)&&!Ut(e)}function Vi(e,t,i){const r=e.getDirectives().filter(t),n=Object.values(e.getTypeMap()).filter(i);return[Ci(e),...r.map(a=>Gi(a)),...n.map(a=>Ui(a))].filter(Boolean).join(`

`)}function Ci(e){if(e.description==null&&Mi(e))return;const t=[],i=e.getQueryType();i&&t.push(`  query: ${i.name}`);const r=e.getMutationType();r&&t.push(`  mutation: ${r.name}`);const n=e.getSubscriptionType();return n&&t.push(`  subscription: ${n.name}`),x(e)+`schema {
${t.join(`
`)}
}`}function Mi(e){const t=e.getQueryType();if(t&&t.name!=="Query")return!1;const i=e.getMutationType();if(i&&i.name!=="Mutation")return!1;const r=e.getSubscriptionType();return!(r&&r.name!=="Subscription")}function Ui(e){if(sn(e))return Pi(e);if(J(e))return $i(e);if(Q(e))return xi(e);if(on(e))return Yi(e);if(Pe(e))return qi(e);if(se(e))return Bi(e);z(!1,"Unexpected type: "+w(e))}function Pi(e){return x(e)+`scalar ${e.name}`+Xi(e)}function Ht(e){const t=e.getInterfaces();return t.length?" implements "+t.map(i=>i.name).join(" & "):""}function $i(e){return x(e)+`type ${e.name}`+Ht(e)+zt(e)}function xi(e){return x(e)+`interface ${e.name}`+Ht(e)+zt(e)}function Yi(e){const t=e.getTypes(),i=t.length?" = "+t.join(" | "):"";return x(e)+"union "+e.name+i}function qi(e){const t=e.getValues().map((i,r)=>x(i,"  ",!r)+"  "+i.name+dn(i.deprecationReason));return x(e)+`enum ${e.name}`+ln(t)}function Bi(e){const t=Object.values(e.getFields()).map((i,r)=>x(i,"  ",!r)+"  "+ze(i));return x(e)+`input ${e.name}`+ln(t)}function zt(e){const t=Object.values(e.getFields()).map((i,r)=>x(i,"  ",!r)+"  "+i.name+Zt(i.args,"  ")+": "+String(i.type)+dn(i.deprecationReason));return ln(t)}function ln(e){return e.length!==0?` {
`+e.join(`
`)+`
}`:""}function Zt(e,t=""){return e.length===0?"":e.every(i=>!i.description)?"("+e.map(ze).join(", ")+")":`(
`+e.map((i,r)=>x(i,"  "+t,!r)+"  "+t+ze(i)).join(`
`)+`
`+t+")"}function ze(e){const t=Dr(e.defaultValue,e.type);let i=e.name+": "+String(e.type);return t&&(i+=` = ${U(t)}`),i+dn(e.deprecationReason)}function Gi(e){return x(e)+"directive @"+e.name+Zt(e.args)+(e.isRepeatable?" repeatable":"")+" on "+e.locations.join(" | ")}function dn(e){return e==null?"":e!==Sr?` @deprecated(reason: ${U({kind:p.STRING,value:e})})`:" @deprecated"}function Xi(e){return e.specifiedByURL==null?"":` @specifiedBy(url: ${U({kind:p.STRING,value:e.specifiedByURL})})`}function x(e,t="",i=!0){const{description:r}=e;if(r==null)return"";const n=U({kind:p.STRING,value:r,block:Or(r)});return(t&&!i?`
`+t:t)+n.replace(/\n/g,`
`+t)+`
`}var Vn;(function(e){function t(i){return typeof i=="string"}e.is=t})(Vn||(Vn={}));var Ze;(function(e){function t(i){return typeof i=="string"}e.is=t})(Ze||(Ze={}));var Cn;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(i){return typeof i=="number"&&e.MIN_VALUE<=i&&i<=e.MAX_VALUE}e.is=t})(Cn||(Cn={}));var Re;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(i){return typeof i=="number"&&e.MIN_VALUE<=i&&i<=e.MAX_VALUE}e.is=t})(Re||(Re={}));var q;(function(e){function t(r,n){return r===Number.MAX_VALUE&&(r=Re.MAX_VALUE),n===Number.MAX_VALUE&&(n=Re.MAX_VALUE),{line:r,character:n}}e.create=t;function i(r){var n=r;return c.objectLiteral(n)&&c.uinteger(n.line)&&c.uinteger(n.character)}e.is=i})(q||(q={}));var R;(function(e){function t(r,n,a,s){if(c.uinteger(r)&&c.uinteger(n)&&c.uinteger(a)&&c.uinteger(s))return{start:q.create(r,n),end:q.create(a,s)};if(q.is(r)&&q.is(n))return{start:r,end:n};throw new Error("Range#create called with invalid arguments[".concat(r,", ").concat(n,", ").concat(a,", ").concat(s,"]"))}e.create=t;function i(r){var n=r;return c.objectLiteral(n)&&q.is(n.start)&&q.is(n.end)}e.is=i})(R||(R={}));var Le;(function(e){function t(r,n){return{uri:r,range:n}}e.create=t;function i(r){var n=r;return c.defined(n)&&R.is(n.range)&&(c.string(n.uri)||c.undefined(n.uri))}e.is=i})(Le||(Le={}));var Mn;(function(e){function t(r,n,a,s){return{targetUri:r,targetRange:n,targetSelectionRange:a,originSelectionRange:s}}e.create=t;function i(r){var n=r;return c.defined(n)&&R.is(n.targetRange)&&c.string(n.targetUri)&&R.is(n.targetSelectionRange)&&(R.is(n.originSelectionRange)||c.undefined(n.originSelectionRange))}e.is=i})(Mn||(Mn={}));var Ke;(function(e){function t(r,n,a,s){return{red:r,green:n,blue:a,alpha:s}}e.create=t;function i(r){var n=r;return c.objectLiteral(n)&&c.numberRange(n.red,0,1)&&c.numberRange(n.green,0,1)&&c.numberRange(n.blue,0,1)&&c.numberRange(n.alpha,0,1)}e.is=i})(Ke||(Ke={}));var Un;(function(e){function t(r,n){return{range:r,color:n}}e.create=t;function i(r){var n=r;return c.objectLiteral(n)&&R.is(n.range)&&Ke.is(n.color)}e.is=i})(Un||(Un={}));var Pn;(function(e){function t(r,n,a){return{label:r,textEdit:n,additionalTextEdits:a}}e.create=t;function i(r){var n=r;return c.objectLiteral(n)&&c.string(n.label)&&(c.undefined(n.textEdit)||X.is(n))&&(c.undefined(n.additionalTextEdits)||c.typedArray(n.additionalTextEdits,X.is))}e.is=i})(Pn||(Pn={}));var $n;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})($n||($n={}));var xn;(function(e){function t(r,n,a,s,o,u){var f={startLine:r,endLine:n};return c.defined(a)&&(f.startCharacter=a),c.defined(s)&&(f.endCharacter=s),c.defined(o)&&(f.kind=o),c.defined(u)&&(f.collapsedText=u),f}e.create=t;function i(r){var n=r;return c.objectLiteral(n)&&c.uinteger(n.startLine)&&c.uinteger(n.startLine)&&(c.undefined(n.startCharacter)||c.uinteger(n.startCharacter))&&(c.undefined(n.endCharacter)||c.uinteger(n.endCharacter))&&(c.undefined(n.kind)||c.string(n.kind))}e.is=i})(xn||(xn={}));var en;(function(e){function t(r,n){return{location:r,message:n}}e.create=t;function i(r){var n=r;return c.defined(n)&&Le.is(n.location)&&c.string(n.message)}e.is=i})(en||(en={}));var Yn;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Yn||(Yn={}));var qn;(function(e){e.Unnecessary=1,e.Deprecated=2})(qn||(qn={}));var Bn;(function(e){function t(i){var r=i;return c.objectLiteral(r)&&c.string(r.href)}e.is=t})(Bn||(Bn={}));var ke;(function(e){function t(r,n,a,s,o,u){var f={range:r,message:n};return c.defined(a)&&(f.severity=a),c.defined(s)&&(f.code=s),c.defined(o)&&(f.source=o),c.defined(u)&&(f.relatedInformation=u),f}e.create=t;function i(r){var n,a=r;return c.defined(a)&&R.is(a.range)&&c.string(a.message)&&(c.number(a.severity)||c.undefined(a.severity))&&(c.integer(a.code)||c.string(a.code)||c.undefined(a.code))&&(c.undefined(a.codeDescription)||c.string((n=a.codeDescription)===null||n===void 0?void 0:n.href))&&(c.string(a.source)||c.undefined(a.source))&&(c.undefined(a.relatedInformation)||c.typedArray(a.relatedInformation,en.is))}e.is=i})(ke||(ke={}));var oe;(function(e){function t(r,n){for(var a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];var o={title:r,command:n};return c.defined(a)&&a.length>0&&(o.arguments=a),o}e.create=t;function i(r){var n=r;return c.defined(n)&&c.string(n.title)&&c.string(n.command)}e.is=i})(oe||(oe={}));var X;(function(e){function t(a,s){return{range:a,newText:s}}e.replace=t;function i(a,s){return{range:{start:a,end:a},newText:s}}e.insert=i;function r(a){return{range:a,newText:""}}e.del=r;function n(a){var s=a;return c.objectLiteral(s)&&c.string(s.newText)&&R.is(s.range)}e.is=n})(X||(X={}));var ie;(function(e){function t(r,n,a){var s={label:r};return n!==void 0&&(s.needsConfirmation=n),a!==void 0&&(s.description=a),s}e.create=t;function i(r){var n=r;return c.objectLiteral(n)&&c.string(n.label)&&(c.boolean(n.needsConfirmation)||n.needsConfirmation===void 0)&&(c.string(n.description)||n.description===void 0)}e.is=i})(ie||(ie={}));var C;(function(e){function t(i){var r=i;return c.string(r)}e.is=t})(C||(C={}));var W;(function(e){function t(a,s,o){return{range:a,newText:s,annotationId:o}}e.replace=t;function i(a,s,o){return{range:{start:a,end:a},newText:s,annotationId:o}}e.insert=i;function r(a,s){return{range:a,newText:"",annotationId:s}}e.del=r;function n(a){var s=a;return X.is(s)&&(ie.is(s.annotationId)||C.is(s.annotationId))}e.is=n})(W||(W={}));var je;(function(e){function t(r,n){return{textDocument:r,edits:n}}e.create=t;function i(r){var n=r;return c.defined(n)&&Ve.is(n.textDocument)&&Array.isArray(n.edits)}e.is=i})(je||(je={}));var ge;(function(e){function t(r,n,a){var s={kind:"create",uri:r};return n!==void 0&&(n.overwrite!==void 0||n.ignoreIfExists!==void 0)&&(s.options=n),a!==void 0&&(s.annotationId=a),s}e.create=t;function i(r){var n=r;return n&&n.kind==="create"&&c.string(n.uri)&&(n.options===void 0||(n.options.overwrite===void 0||c.boolean(n.options.overwrite))&&(n.options.ignoreIfExists===void 0||c.boolean(n.options.ignoreIfExists)))&&(n.annotationId===void 0||C.is(n.annotationId))}e.is=i})(ge||(ge={}));var ve;(function(e){function t(r,n,a,s){var o={kind:"rename",oldUri:r,newUri:n};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(o.options=a),s!==void 0&&(o.annotationId=s),o}e.create=t;function i(r){var n=r;return n&&n.kind==="rename"&&c.string(n.oldUri)&&c.string(n.newUri)&&(n.options===void 0||(n.options.overwrite===void 0||c.boolean(n.options.overwrite))&&(n.options.ignoreIfExists===void 0||c.boolean(n.options.ignoreIfExists)))&&(n.annotationId===void 0||C.is(n.annotationId))}e.is=i})(ve||(ve={}));var me;(function(e){function t(r,n,a){var s={kind:"delete",uri:r};return n!==void 0&&(n.recursive!==void 0||n.ignoreIfNotExists!==void 0)&&(s.options=n),a!==void 0&&(s.annotationId=a),s}e.create=t;function i(r){var n=r;return n&&n.kind==="delete"&&c.string(n.uri)&&(n.options===void 0||(n.options.recursive===void 0||c.boolean(n.options.recursive))&&(n.options.ignoreIfNotExists===void 0||c.boolean(n.options.ignoreIfNotExists)))&&(n.annotationId===void 0||C.is(n.annotationId))}e.is=i})(me||(me={}));var nn;(function(e){function t(i){var r=i;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(function(n){return c.string(n.kind)?ge.is(n)||ve.is(n)||me.is(n):je.is(n)}))}e.is=t})(nn||(nn={}));var De=function(){function e(t,i){this.edits=t,this.changeAnnotations=i}return e.prototype.insert=function(t,i,r){var n,a;if(r===void 0?n=X.insert(t,i):C.is(r)?(a=r,n=W.insert(t,i,r)):(this.assertChangeAnnotations(this.changeAnnotations),a=this.changeAnnotations.manage(r),n=W.insert(t,i,a)),this.edits.push(n),a!==void 0)return a},e.prototype.replace=function(t,i,r){var n,a;if(r===void 0?n=X.replace(t,i):C.is(r)?(a=r,n=W.replace(t,i,r)):(this.assertChangeAnnotations(this.changeAnnotations),a=this.changeAnnotations.manage(r),n=W.replace(t,i,a)),this.edits.push(n),a!==void 0)return a},e.prototype.delete=function(t,i){var r,n;if(i===void 0?r=X.del(t):C.is(i)?(n=i,r=W.del(t,i)):(this.assertChangeAnnotations(this.changeAnnotations),n=this.changeAnnotations.manage(i),r=W.del(t,n)),this.edits.push(r),n!==void 0)return n},e.prototype.add=function(t){this.edits.push(t)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),Gn=function(){function e(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(t,i){var r;if(C.is(t)?r=t:(r=this.nextId(),i=t),this._annotations[r]!==void 0)throw new Error("Id ".concat(r," is already in use."));if(i===void 0)throw new Error("No annotation provided for id ".concat(r));return this._annotations[r]=i,this._size++,r},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}();(function(){function e(t){var i=this;this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new Gn(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(function(r){if(je.is(r)){var n=new De(r.edits,i._changeAnnotations);i._textEditChanges[r.textDocument.uri]=n}})):t.changes&&Object.keys(t.changes).forEach(function(r){var n=new De(t.changes[r]);i._textEditChanges[r]=n})):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(t){if(Ve.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i={uri:t.uri,version:t.version},r=this._textEditChanges[i.uri];if(!r){var n=[],a={textDocument:i,edits:n};this._workspaceEdit.documentChanges.push(a),r=new De(n,this._changeAnnotations),this._textEditChanges[i.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var r=this._textEditChanges[t];if(!r){var n=[];this._workspaceEdit.changes[t]=n,r=new De(n),this._textEditChanges[t]=r}return r}},e.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Gn,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(t,i,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var n;ie.is(i)||C.is(i)?n=i:r=i;var a,s;if(n===void 0?a=ge.create(t,r):(s=C.is(n)?n:this._changeAnnotations.manage(n),a=ge.create(t,r,s)),this._workspaceEdit.documentChanges.push(a),s!==void 0)return s},e.prototype.renameFile=function(t,i,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var a;ie.is(r)||C.is(r)?a=r:n=r;var s,o;if(a===void 0?s=ve.create(t,i,n):(o=C.is(a)?a:this._changeAnnotations.manage(a),s=ve.create(t,i,n,o)),this._workspaceEdit.documentChanges.push(s),o!==void 0)return o},e.prototype.deleteFile=function(t,i,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var n;ie.is(i)||C.is(i)?n=i:r=i;var a,s;if(n===void 0?a=me.create(t,r):(s=C.is(n)?n:this._changeAnnotations.manage(n),a=me.create(t,r,s)),this._workspaceEdit.documentChanges.push(a),s!==void 0)return s},e})();var Xn;(function(e){function t(r){return{uri:r}}e.create=t;function i(r){var n=r;return c.defined(n)&&c.string(n.uri)}e.is=i})(Xn||(Xn={}));var Qn;(function(e){function t(r,n){return{uri:r,version:n}}e.create=t;function i(r){var n=r;return c.defined(n)&&c.string(n.uri)&&c.integer(n.version)}e.is=i})(Qn||(Qn={}));var Ve;(function(e){function t(r,n){return{uri:r,version:n}}e.create=t;function i(r){var n=r;return c.defined(n)&&c.string(n.uri)&&(n.version===null||c.integer(n.version))}e.is=i})(Ve||(Ve={}));var Jn;(function(e){function t(r,n,a,s){return{uri:r,languageId:n,version:a,text:s}}e.create=t;function i(r){var n=r;return c.defined(n)&&c.string(n.uri)&&c.string(n.languageId)&&c.integer(n.version)&&c.string(n.text)}e.is=i})(Jn||(Jn={}));var tn;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(i){var r=i;return r===e.PlainText||r===e.Markdown}e.is=t})(tn||(tn={}));var he;(function(e){function t(i){var r=i;return c.objectLiteral(i)&&tn.is(r.kind)&&c.string(r.value)}e.is=t})(he||(he={}));var Wn;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(Wn||(Wn={}));var Hn;(function(e){e.PlainText=1,e.Snippet=2})(Hn||(Hn={}));var zn;(function(e){e.Deprecated=1})(zn||(zn={}));var Zn;(function(e){function t(r,n,a){return{newText:r,insert:n,replace:a}}e.create=t;function i(r){var n=r;return n&&c.string(n.newText)&&R.is(n.insert)&&R.is(n.replace)}e.is=i})(Zn||(Zn={}));var Kn;(function(e){e.asIs=1,e.adjustIndentation=2})(Kn||(Kn={}));var et;(function(e){function t(i){var r=i;return r&&(c.string(r.detail)||r.detail===void 0)&&(c.string(r.description)||r.description===void 0)}e.is=t})(et||(et={}));var nt;(function(e){function t(i){return{label:i}}e.create=t})(nt||(nt={}));var tt;(function(e){function t(i,r){return{items:i||[],isIncomplete:!!r}}e.create=t})(tt||(tt={}));var Ce;(function(e){function t(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function i(r){var n=r;return c.string(n)||c.objectLiteral(n)&&c.string(n.language)&&c.string(n.value)}e.is=i})(Ce||(Ce={}));var rt;(function(e){function t(i){var r=i;return!!r&&c.objectLiteral(r)&&(he.is(r.contents)||Ce.is(r.contents)||c.typedArray(r.contents,Ce.is))&&(i.range===void 0||R.is(i.range))}e.is=t})(rt||(rt={}));var it;(function(e){function t(i,r){return r?{label:i,documentation:r}:{label:i}}e.create=t})(it||(it={}));var at;(function(e){function t(i,r){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];var s={label:i};return c.defined(r)&&(s.documentation=r),c.defined(n)?s.parameters=n:s.parameters=[],s}e.create=t})(at||(at={}));var st;(function(e){e.Text=1,e.Read=2,e.Write=3})(st||(st={}));var ot;(function(e){function t(i,r){var n={range:i};return c.number(r)&&(n.kind=r),n}e.create=t})(ot||(ot={}));var ut;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(ut||(ut={}));var ct;(function(e){e.Deprecated=1})(ct||(ct={}));var ft;(function(e){function t(i,r,n,a,s){var o={name:i,kind:r,location:{uri:a,range:n}};return s&&(o.containerName=s),o}e.create=t})(ft||(ft={}));var lt;(function(e){function t(i,r,n,a){return a!==void 0?{name:i,kind:r,location:{uri:n,range:a}}:{name:i,kind:r,location:{uri:n}}}e.create=t})(lt||(lt={}));var dt;(function(e){function t(r,n,a,s,o,u){var f={name:r,detail:n,kind:a,range:s,selectionRange:o};return u!==void 0&&(f.children=u),f}e.create=t;function i(r){var n=r;return n&&c.string(n.name)&&c.number(n.kind)&&R.is(n.range)&&R.is(n.selectionRange)&&(n.detail===void 0||c.string(n.detail))&&(n.deprecated===void 0||c.boolean(n.deprecated))&&(n.children===void 0||Array.isArray(n.children))&&(n.tags===void 0||Array.isArray(n.tags))}e.is=i})(dt||(dt={}));var pt;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(pt||(pt={}));var Me;(function(e){e.Invoked=1,e.Automatic=2})(Me||(Me={}));var gt;(function(e){function t(r,n,a){var s={diagnostics:r};return n!=null&&(s.only=n),a!=null&&(s.triggerKind=a),s}e.create=t;function i(r){var n=r;return c.defined(n)&&c.typedArray(n.diagnostics,ke.is)&&(n.only===void 0||c.typedArray(n.only,c.string))&&(n.triggerKind===void 0||n.triggerKind===Me.Invoked||n.triggerKind===Me.Automatic)}e.is=i})(gt||(gt={}));var vt;(function(e){function t(r,n,a){var s={title:r},o=!0;return typeof n=="string"?(o=!1,s.kind=n):oe.is(n)?s.command=n:s.edit=n,o&&a!==void 0&&(s.kind=a),s}e.create=t;function i(r){var n=r;return n&&c.string(n.title)&&(n.diagnostics===void 0||c.typedArray(n.diagnostics,ke.is))&&(n.kind===void 0||c.string(n.kind))&&(n.edit!==void 0||n.command!==void 0)&&(n.command===void 0||oe.is(n.command))&&(n.isPreferred===void 0||c.boolean(n.isPreferred))&&(n.edit===void 0||nn.is(n.edit))}e.is=i})(vt||(vt={}));var mt;(function(e){function t(r,n){var a={range:r};return c.defined(n)&&(a.data=n),a}e.create=t;function i(r){var n=r;return c.defined(n)&&R.is(n.range)&&(c.undefined(n.command)||oe.is(n.command))}e.is=i})(mt||(mt={}));var ht;(function(e){function t(r,n){return{tabSize:r,insertSpaces:n}}e.create=t;function i(r){var n=r;return c.defined(n)&&c.uinteger(n.tabSize)&&c.boolean(n.insertSpaces)}e.is=i})(ht||(ht={}));var Et;(function(e){function t(r,n,a){return{range:r,target:n,data:a}}e.create=t;function i(r){var n=r;return c.defined(n)&&R.is(n.range)&&(c.undefined(n.target)||c.string(n.target))}e.is=i})(Et||(Et={}));var Tt;(function(e){function t(r,n){return{range:r,parent:n}}e.create=t;function i(r){var n=r;return c.objectLiteral(n)&&R.is(n.range)&&(n.parent===void 0||e.is(n.parent))}e.is=i})(Tt||(Tt={}));var Nt;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(Nt||(Nt={}));var bt;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(bt||(bt={}));var yt;(function(e){function t(i){var r=i;return c.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}e.is=t})(yt||(yt={}));var It;(function(e){function t(r,n){return{range:r,text:n}}e.create=t;function i(r){var n=r;return n!=null&&R.is(n.range)&&c.string(n.text)}e.is=i})(It||(It={}));var _t;(function(e){function t(r,n,a){return{range:r,variableName:n,caseSensitiveLookup:a}}e.create=t;function i(r){var n=r;return n!=null&&R.is(n.range)&&c.boolean(n.caseSensitiveLookup)&&(c.string(n.variableName)||n.variableName===void 0)}e.is=i})(_t||(_t={}));var Dt;(function(e){function t(r,n){return{range:r,expression:n}}e.create=t;function i(r){var n=r;return n!=null&&R.is(n.range)&&(c.string(n.expression)||n.expression===void 0)}e.is=i})(Dt||(Dt={}));var St;(function(e){function t(r,n){return{frameId:r,stoppedLocation:n}}e.create=t;function i(r){var n=r;return c.defined(n)&&R.is(r.stoppedLocation)}e.is=i})(St||(St={}));var rn;(function(e){e.Type=1,e.Parameter=2;function t(i){return i===1||i===2}e.is=t})(rn||(rn={}));var an;(function(e){function t(r){return{value:r}}e.create=t;function i(r){var n=r;return c.objectLiteral(n)&&(n.tooltip===void 0||c.string(n.tooltip)||he.is(n.tooltip))&&(n.location===void 0||Le.is(n.location))&&(n.command===void 0||oe.is(n.command))}e.is=i})(an||(an={}));var Ot;(function(e){function t(r,n,a){var s={position:r,label:n};return a!==void 0&&(s.kind=a),s}e.create=t;function i(r){var n=r;return c.objectLiteral(n)&&q.is(n.position)&&(c.string(n.label)||c.typedArray(n.label,an.is))&&(n.kind===void 0||rn.is(n.kind))&&n.textEdits===void 0||c.typedArray(n.textEdits,X.is)&&(n.tooltip===void 0||c.string(n.tooltip)||he.is(n.tooltip))&&(n.paddingLeft===void 0||c.boolean(n.paddingLeft))&&(n.paddingRight===void 0||c.boolean(n.paddingRight))}e.is=i})(Ot||(Ot={}));var wt;(function(e){function t(i){var r=i;return c.objectLiteral(r)&&Ze.is(r.uri)&&c.string(r.name)}e.is=t})(wt||(wt={}));var At;(function(e){function t(a,s,o,u){return new Qi(a,s,o,u)}e.create=t;function i(a){var s=a;return!!(c.defined(s)&&c.string(s.uri)&&(c.undefined(s.languageId)||c.string(s.languageId))&&c.uinteger(s.lineCount)&&c.func(s.getText)&&c.func(s.positionAt)&&c.func(s.offsetAt))}e.is=i;function r(a,s){for(var o=a.getText(),u=n(s,function(S,j){var P=S.range.start.line-j.range.start.line;return P===0?S.range.start.character-j.range.start.character:P}),f=o.length,d=u.length-1;d>=0;d--){var g=u[d],h=a.offsetAt(g.range.start),m=a.offsetAt(g.range.end);if(m<=f)o=o.substring(0,h)+g.newText+o.substring(m,o.length);else throw new Error("Overlapping edit");f=h}return o}e.applyEdits=r;function n(a,s){if(a.length<=1)return a;var o=a.length/2|0,u=a.slice(0,o),f=a.slice(o);n(u,s),n(f,s);for(var d=0,g=0,h=0;d<u.length&&g<f.length;){var m=s(u[d],f[g]);m<=0?a[h++]=u[d++]:a[h++]=f[g++]}for(;d<u.length;)a[h++]=u[d++];for(;g<f.length;)a[h++]=f[g++];return a}})(At||(At={}));var Qi=function(){function e(t,i,r,n){this._uri=t,this._languageId=i,this._version=r,this._content=n,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(t){if(t){var i=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(i,r)}return this._content},e.prototype.update=function(t,i){this._content=t.text,this._version=i,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var t=[],i=this._content,r=!0,n=0;n<i.length;n++){r&&(t.push(n),r=!1);var a=i.charAt(n);r=a==="\r"||a===`
`,a==="\r"&&n+1<i.length&&i.charAt(n+1)===`
`&&n++}r&&i.length>0&&t.push(i.length),this._lineOffsets=t}return this._lineOffsets},e.prototype.positionAt=function(t){t=Math.max(Math.min(t,this._content.length),0);var i=this.getLineOffsets(),r=0,n=i.length;if(n===0)return q.create(0,t);for(;r<n;){var a=Math.floor((r+n)/2);i[a]>t?n=a:r=a+1}var s=r-1;return q.create(s,t-i[s])},e.prototype.offsetAt=function(t){var i=this.getLineOffsets();if(t.line>=i.length)return this._content.length;if(t.line<0)return 0;var r=i[t.line],n=t.line+1<i.length?i[t.line+1]:this._content.length;return Math.max(Math.min(r+t.character,n),r)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}(),c;(function(e){var t=Object.prototype.toString;function i(m){return typeof m!="undefined"}e.defined=i;function r(m){return typeof m=="undefined"}e.undefined=r;function n(m){return m===!0||m===!1}e.boolean=n;function a(m){return t.call(m)==="[object String]"}e.string=a;function s(m){return t.call(m)==="[object Number]"}e.number=s;function o(m,S,j){return t.call(m)==="[object Number]"&&S<=m&&m<=j}e.numberRange=o;function u(m){return t.call(m)==="[object Number]"&&-2147483648<=m&&m<=2147483647}e.integer=u;function f(m){return t.call(m)==="[object Number]"&&0<=m&&m<=2147483647}e.uinteger=f;function d(m){return t.call(m)==="[object Function]"}e.func=d;function g(m){return m!==null&&typeof m=="object"}e.objectLiteral=g;function h(m,S){return Array.isArray(m)&&m.every(S)}e.typedArray=h})(c||(c={}));function F(e){return{ofRule:e}}function y(e,t){return{ofRule:e,isList:!0,separator:t}}function Ji(e,t){const i=e.match;return e.match=r=>{let n=!1;return i&&(n=i(r)),n&&t.every(a=>a.match&&!a.match(r))},e}function Be(e,t){return{style:t,match:i=>i.kind===e}}function b(e,t){return{style:t||"punctuation",match:i=>i.kind==="Punctuation"&&i.value===e}}y("Definition"),V("query"),F(_("def")),F("VariableDefinitions"),y("Directive"),V("mutation"),F(_("def")),F("VariableDefinitions"),y("Directive"),V("subscription"),F(_("def")),F("VariableDefinitions"),y("Directive"),b("("),y("VariableDefinition"),b(")"),b(":"),F("DefaultValue"),b("$","variable"),_("variable"),b("="),b("{"),y("Selection"),b("}"),_("property"),b(":"),_("qualifier"),F("Arguments"),y("Directive"),F("SelectionSet"),_("property"),F("Arguments"),y("Directive"),F("SelectionSet"),b("("),y("Argument"),b(")"),_("attribute"),b(":"),b("..."),_("def"),y("Directive"),b("..."),F("TypeCondition"),y("Directive"),V("fragment"),F(Ji(_("def"),[V("on")])),y("Directive"),V("on"),Be("Number","number"),Be("Name","builtin"),Be("Name","keyword"),_("string-2"),b("["),y("Value"),b("]"),b("{"),y("ObjectField"),b("}"),_("attribute"),b(":"),b("["),b("]"),F(b("!")),F(b("!")),Wi("atom"),b("@","meta"),_("meta"),F("Arguments"),V("directive"),b("@","meta"),_("meta"),F("ArgumentsDef"),V("on"),y("DirectiveLocation",b("|")),V("interface"),_("atom"),F("Implements"),y("Directive"),b("{"),y("FieldDef"),b("}"),V("implements"),y("NamedType",b("&")),_("string-2"),V("schema"),y("Directive"),b("{"),y("OperationTypeDef"),b("}"),_("keyword"),b(":"),_("atom"),V("scalar"),_("atom"),y("Directive"),V("type"),_("atom"),F("Implements"),y("Directive"),b("{"),y("FieldDef"),b("}"),_("property"),F("ArgumentsDef"),b(":"),y("Directive"),b("("),y("InputValueDef"),b(")"),_("attribute"),b(":"),F("DefaultValue"),y("Directive"),V("union"),_("atom"),y("Directive"),b("="),y("UnionMember",b("|")),V("enum"),_("atom"),y("Directive"),b("{"),y("EnumValueDef"),b("}"),_("string-2"),y("Directive"),V("input"),_("atom"),y("Directive"),b("{"),y("InputValueDef"),b("}"),V("extend");function V(e){return{style:"keyword",match:t=>t.kind==="Name"&&t.value===e}}function _(e){return{style:e,match:t=>t.kind==="Name",update(t,i){t.name=i.value}}}function Wi(e){return{style:e,match:t=>t.kind==="Name",update(t,i){var r;!((r=t.prevState)===null||r===void 0)&&r.prevState&&(t.name=i.value,t.prevState.prevState.type=i.value)}}}const Hi={ALIASED_FIELD:"AliasedField",ARGUMENTS:"Arguments",SHORT_QUERY:"ShortQuery",QUERY:"Query",MUTATION:"Mutation",SUBSCRIPTION:"Subscription",TYPE_CONDITION:"TypeCondition",INVALID:"Invalid",COMMENT:"Comment",SCHEMA_DEF:"SchemaDef",SCALAR_DEF:"ScalarDef",OBJECT_TYPE_DEF:"ObjectTypeDef",OBJECT_VALUE:"ObjectValue",LIST_VALUE:"ListValue",INTERFACE_DEF:"InterfaceDef",UNION_DEF:"UnionDef",ENUM_DEF:"EnumDef",ENUM_VALUE:"EnumValue",FIELD_DEF:"FieldDef",INPUT_DEF:"InputDef",INPUT_VALUE_DEF:"InputValueDef",ARGUMENTS_DEF:"ArgumentsDef",EXTEND_DEF:"ExtendDef",DIRECTIVE_DEF:"DirectiveDef",IMPLEMENTS:"Implements",VARIABLE_DEFINITIONS:"VariableDefinitions",TYPE:"Type"};Object.assign(Object.assign({},p),Hi);var pn={exports:{}};function Kt(e,t){if(e!=null)return e;var i=new Error(t!==void 0?t:"Got unexpected "+e);throw i.framesToPop=1,i}pn.exports=Kt;pn.exports.default=Kt;Object.defineProperty(pn.exports,"__esModule",{value:!0});globalThis&&globalThis.__awaiter;var I;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(I||(I={}));const Ft=e=>"getModeId"in e?e.getModeId():e.getLanguageId(),zi=e=>{const{schema:t,documentAST:i,introspectionJSON:r,introspectionJSONString:n,documentString:a,...s}=e;if(t)return{...s,documentString:jn(t)};if(n)return{...s,introspectionJSONString:n};if(a)return{...s,documentString:a};if(r)return{...s,introspectionJSONString:JSON.stringify(r)};if(i){const o=ki(i,s.buildSchemaOptions);return{...s,documentString:jn(o)}}throw Error("no schema supplied")},Zi=2*60*1e3;class Ki{constructor(t){M(this,"_defaults");M(this,"_idleCheckInterval");M(this,"_lastUsedTime");M(this,"_configChangeListener");M(this,"_worker");M(this,"_client");this._defaults=t,this._worker=null,this._idleCheckInterval=window.setInterval(()=>this._checkIfIdle(),30*1e3),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange(()=>{this._stopWorker()}),this._client=null}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){if(!this._worker)return;Date.now()-this._lastUsedTime>Zi&&this._stopWorker()}async _getClient(){var t;if(this._lastUsedTime=Date.now(),!this._client&&!this._worker)try{this._worker=G.createWebWorker({moduleId:"monaco-graphql/esm/GraphQLWorker.js",label:this._defaults.languageId,createData:{languageId:this._defaults.languageId,formattingOptions:this._defaults.formattingOptions,languageConfig:{schemas:(t=this._defaults.schemas)==null?void 0:t.map(zi),externalFragmentDefinitions:this._defaults.externalFragmentDefinitions}}}),this._client=await this._worker.getProxy()}catch(i){console.error("error loading worker",i)}return this._client}async getLanguageServiceWorker(...t){const i=await this._getClient();return await this._worker.withSyncedResources(t),i}}class ea{constructor(t,i){M(this,"defaults");M(this,"_worker");M(this,"_disposables",[]);M(this,"_listener",Object.create(null));this.defaults=t,this._worker=i,this._worker=i;const r=a=>{var d;const s=Ft(a);if(s!==this.defaults.languageId)return;const o=a.uri.toString(),u=((d=t.diagnosticSettings)==null?void 0:d.validateVariablesJSON)&&t.diagnosticSettings.validateVariablesJSON[o];let f;this._listener[o]=a.onDidChangeContent(()=>{clearTimeout(f),f=setTimeout(()=>{this._doValidate(a.uri,s,u)},200)}),this._doValidate(a.uri,s,u)},n=a=>{G.setModelMarkers(a,this.defaults.languageId,[]);const s=a.uri.toString(),o=this._listener[s];o&&(o.dispose(),delete this._listener[s])};this._disposables.push(G.onDidCreateModel(r)),this._disposables.push(G.onWillDisposeModel(a=>{n(a)})),this._disposables.push(G.onDidChangeModelLanguage(a=>{n(a.model),r(a.model)})),this._disposables.push({dispose:()=>{for(const a in this._listener)this._listener[a].dispose()}}),this._disposables.push(t.onDidChange(()=>{G.getModels().forEach(a=>{Ft(a)===this.defaults.languageId&&(n(a),r(a))})})),G.getModels().forEach(r)}dispose(){this._disposables.forEach(t=>t==null?void 0:t.dispose()),this._disposables=[]}async _doValidate(t,i,r){var s,o;const n=await this._worker(t),a=await n.doValidation(t.toString());if(G.setModelMarkers(G.getModel(t),i,a),r){if(r.length<1)throw Error("no variables URI strings provided to validate");const u=await n.doGetVariablesJSONSchema(t.toString());if(!u)return;const d={uri:Ar.file(r[0].replace(".json","-schema.json")).toString(),schema:u,fileMatch:r};re.json.jsonDefaults.setDiagnosticsOptions({schemaValidation:"error",validate:!0,...(o=(s=this.defaults)==null?void 0:s.diagnosticSettings)==null?void 0:o.jsonDiagnosticSettings,schemas:[d],enableSchemaRequest:!1})}}}const D=re.CompletionItemKind,Rt={[I.Text]:D.Text,[I.Method]:D.Method,[I.Function]:D.Function,[I.Constructor]:D.Constructor,[I.Field]:D.Field,[I.Variable]:D.Variable,[I.Class]:D.Class,[I.Interface]:D.Interface,[I.Module]:D.Module,[I.Property]:D.Property,[I.Unit]:D.Unit,[I.Value]:D.Value,[I.Enum]:D.Enum,[I.Keyword]:D.Keyword,[I.Snippet]:D.Snippet,[I.Color]:D.Color,[I.File]:D.File,[I.Reference]:D.Reference,[I.Folder]:D.Folder,[I.EnumMember]:D.EnumMember,[I.Constant]:D.Constant,[I.Struct]:D.Struct,[I.Event]:D.Event,[I.Operator]:D.Operator,[I.TypeParameter]:D.TypeParameter};function na(e){return e in Rt?Rt[e]:D.Text}function ta(e){var i;return{range:e.range,kind:na(e.kind),label:e.label,insertText:(i=e.insertText)!=null?i:e.label,insertTextRules:e.insertText?re.CompletionItemInsertTextRule.InsertAsSnippet:void 0,sortText:e.sortText,filterText:e.filterText,documentation:e.documentation,detail:e.detail,command:e.command}}class ra{constructor(t){M(this,"_worker");this._worker=t,this._worker=t}get triggerCharacters(){return[":","$",`
`," ","(","@"]}async provideCompletionItems(t,i,r,n){try{const a=t.uri,o=await(await this._worker(t.uri)).doComplete(a.toString(),i);return{incomplete:!0,suggestions:o.map(ta)}}catch(a){return console.error(`Error fetching completion items

${a}`),{suggestions:[]}}}}class ia{constructor(t){M(this,"_worker");this._worker=t,this._worker=t}async provideDocumentFormattingEdits(t,i,r){const a=await(await this._worker(t.uri)).doFormat(t.uri.toString());return a?[{range:t.getFullModelRange(),text:a}]:[]}}class aa{constructor(t){M(this,"_worker");this._worker=t}async provideHover(t,i,r){const n=t.uri,s=await(await this._worker(t.uri)).doHover(n.toString(),i);return s?{range:s.range,contents:[{value:s.content}]}:{contents:[]}}dispose(){}}function ua(e){const t=[],i=[],r=new Ki(e);t.push(r);const n=(...h)=>{try{return r.getLanguageServiceWorker(...h)}catch{throw Error("Error fetching graphql language service worker")}};function a(){const{modeConfiguration:h}=e;h.documentFormattingEdits&&i.push(re.registerDocumentFormattingEditProvider(e.languageId,new ia(n)))}function s(h){const{modeConfiguration:m}=e;er(i),m.completionItems&&i.push(re.registerCompletionItemProvider(e.languageId,new ra(n))),m.diagnostics&&i.push(new ea(h,n)),m.hovers&&i.push(re.registerHoverProvider(e.languageId,new aa(n))),a()}let{modeConfiguration:o,formattingOptions:u,diagnosticSettings:f,externalFragmentDefinitions:d,schemas:g}=e;return s(e),e.onDidChange(h=>{h.modeConfiguration!==o&&(o=h.modeConfiguration,s(h)),h.formattingOptions!==u&&(u=h.formattingOptions,a()),h.externalFragmentDefinitions!==d&&(d=h.externalFragmentDefinitions,s(h)),h.diagnosticSettings!==f&&(f=h.diagnosticSettings,s(h)),h.schemas!==g&&(g=h.schemas,s(h))}),t.push(Lt(i)),Lt(t)}function Lt(e){return{dispose:()=>er(e)}}function er(e){for(;e.length;)e.pop().dispose()}export{ua as setupMode};
